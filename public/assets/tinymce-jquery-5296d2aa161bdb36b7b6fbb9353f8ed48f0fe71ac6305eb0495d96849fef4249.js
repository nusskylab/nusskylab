window.tinymce=window.tinymce||{base:"/assets/tinymce",suffix:""},function(s,z){"use strict";function i(e,t){for(var n,i=[],r=0;r<e.length;++r){if(!(n=l[e[r]]||o(e[r])))throw"module definition dependecy not found: "+e[r];i.push(n)}t.apply(null,i)}function e(e,t,n){if("string"!=typeof e)throw"invalid module definition, module id must be defined and be a string";if(t===z)throw"invalid module definition, dependencies must be specified";if(n===z)throw"invalid module definition, definition function must be specified";i(t,function(){l[e]=n.apply(null,arguments)})}function o(e){for(var t=s,n=e.split(/[.\/]/),i=0;i<n.length;++i){if(!t[n[i]])return;t=t[n[i]]}return t}function t(e){var t,n,i,r,o;for(t=0;t<e.length;t++){n=s,r=(i=e[t]).split(/[.\/]/);for(var a=0;a<r.length-1;++a)n[r[a]]===z&&(n[r[a]]={}),n=n[r[a]];n[r[r.length-1]]=l[i]}if(s.AMDLC_TESTS){for(i in o=s.privateModules||{},l)o[i]=l[i];for(t=0;t<e.length;t++)delete o[e[t]];s.privateModules=o}}var l={};e("tinymce/dom/EventUtils",[],function(){function C(e,t,n,i){e.addEventListener?e.addEventListener(t,n,i||!1):e.attachEvent&&e.attachEvent("on"+t,n)}function w(e,t,n,i){e.removeEventListener?e.removeEventListener(t,n,i||!1):e.detachEvent&&e.detachEvent("on"+t,n)}function _(e,t){function n(){return!1}function i(){return!0}var r,o,a=t||{};for(r in e)d[r]||(a[r]=e[r]);if(a.target||(a.target=a.srcElement||document),e&&u.test(e.type)&&e.pageX===o&&e.clientX!==o){var s=a.target.ownerDocument||document,l=s.documentElement,c=s.body;a.pageX=e.clientX+(l&&l.scrollLeft||c&&c.scrollLeft||0)-(l&&l.clientLeft||c&&c.clientLeft||0),a.pageY=e.clientY+(l&&l.scrollTop||c&&c.scrollTop||0)-(l&&l.clientTop||c&&c.clientTop||0)}return a.preventDefault=function(){a.isDefaultPrevented=i,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},a.stopPropagation=function(){a.isPropagationStopped=i,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},a.stopImmediatePropagation=function(){a.isImmediatePropagationStopped=i,a.stopPropagation()},a.isDefaultPrevented||(a.isDefaultPrevented=n,a.isPropagationStopped=n,a.isImmediatePropagationStopped=n),"undefined"==typeof a.metaKey&&(a.metaKey=!1),a}function E(e,t,n){function i(){n.domLoaded||(n.domLoaded=!0,t(s))}function r(){("complete"===a.readyState||"interactive"===a.readyState&&a.body)&&(w(a,"readystatechange",r),i())}function o(){try{a.documentElement.doScroll("left")}catch(e){return void setTimeout(o,0)}i()}var a=e.document,s={type:"ready"};n.domLoaded?t(s):(a.addEventListener?"complete"===a.readyState?i():C(e,"DOMContentLoaded",i):(C(a,"readystatechange",r),a.documentElement.doScroll&&e.self===e.top&&o()),C(e,"load",i))}function e(){function m(e,t){var n,i,r,o,a=x[t];if(n=a&&a[e.type])for(i=0,r=n.length;i<r;i++)if((o=n[i])&&!1===o.func.call(o.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return}var h,p,g,v,y,b=this,x={};p=t+(+new Date).toString(32),v="onmouseenter"in document.documentElement,g="onfocusin"in document.documentElement,y={mouseenter:"mouseover",mouseleave:"mouseout"},h=1,b.domLoaded=!1,b.events=x,b.bind=function(e,t,n,i){function r(e){m(_(e||f.event),o)}var o,a,s,l,c,u,d,f=window;if(e&&3!==e.nodeType&&8!==e.nodeType){for(e[p]?o=e[p]:(o=h++,e[p]=o,x[o]={}),i=i||e,s=(t=t.split(" ")).length;s--;)u=r,c=d=!1,"DOMContentLoaded"===(l=t[s])&&(l="ready"),b.domLoaded&&"ready"===l&&"complete"==e.readyState?n.call(i,_({type:l})):(v||(c=y[l])&&(u=function(e){var t,n;if(t=e.currentTarget,(n=e.relatedTarget)&&t.contains)n=t.contains(n);else for(;n&&n!==t;)n=n.parentNode;n||((e=_(e||f.event)).type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=t,m(e,o))}),g||"focusin"!==l&&"focusout"!==l||(d=!0,c="focusin"===l?"focus":"blur",u=function(e){(e=_(e||f.event)).type="focus"===e.type?"focusin":"focusout",m(e,o)}),(a=x[o][l])?"ready"===l&&b.domLoaded?n({type:l}):a.push({func:n,scope:i}):(x[o][l]=a=[{func:n,scope:i}],a.fakeName=c,a.capture=d,a.nativeHandler=u,"ready"===l?E(e,u,b):C(e,c||l,u,d)));return e=a=0,n}},b.unbind=function(e,t,n){var i,r,o,a,s,l;if(!e||3===e.nodeType||8===e.nodeType)return b;if(i=e[p]){if(l=x[i],t){for(o=(t=t.split(" ")).length;o--;)if(r=l[s=t[o]]){if(n)for(a=r.length;a--;)if(r[a].func===n){var c=r.nativeHandler,u=r.fakeName,d=r.capture;(r=r.slice(0,a).concat(r.slice(a+1))).nativeHandler=c,r.fakeName=u,r.capture=d,l[s]=r}n&&0!==r.length||(delete l[s],w(e,r.fakeName||s,r.nativeHandler,r.capture))}}else{for(s in l)w(e,(r=l[s]).fakeName||s,r.nativeHandler,r.capture);l={}}for(s in l)return b;delete x[i];try{delete e[p]}catch(f){e[p]=null}}return b},b.fire=function(e,t,n){var i;if(!e||3===e.nodeType||8===e.nodeType)return b;for((n=_(null,n)).type=t,n.target=e;(i=e[p])&&m(n,i),(e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow)&&!n.isPropagationStopped(););return b},b.clean=function(e){var t,n,i=b.unbind;if(!e||3===e.nodeType||8===e.nodeType)return b;if(e[p]&&i(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(i(e),t=(n=e.getElementsByTagName("*")).length;t--;)(e=n[t])[p]&&i(e);return b},b.destroy=function(){x={}},b.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}}var t="mce-data-",u=/^(?:mouse|contextmenu)|click/,d={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1};return e.Event=new e,e.Event.bind(window,"ready",function(){}),e}),e("tinymce/dom/Sizzle",[],function(){if(!window.jQuery)throw new Error("Load jQuery first");return jQuery.find}),e("tinymce/Env",[],function(){var e,t,n,i,r,o,a,s,l,c,u=navigator,d=u.userAgent;return e=window.opera&&window.opera.buildNumber,l=/Android/.test(d),n=(n=!(t=/WebKit/.test(d))&&!e&&/MSIE/gi.test(d)&&/Explorer/gi.test(u.appName))&&/MSIE (\w+)\./.exec(d)[1],i=-1!=d.indexOf("Trident/")&&(-1!=d.indexOf("rv:")||-1!=u.appName.indexOf("Netscape"))&&11,r=-1!=d.indexOf("Edge/")&&!n&&!i&&12,n=n||i||r,o=!t&&!i&&/Gecko/.test(d),a=-1!=d.indexOf("Mac"),s=/(iPad|iPhone)/.test(d),c="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,r&&(t=!1),{opera:e,webkit:t,ie:n,gecko:o,mac:a,iOS:s,android:l,contentEditable:!s||c||534<=d.match(/AppleWebKit\/(\d*)/)[1],transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!=n,range:window.getSelection&&"Range"in window,documentMode:n&&!r?document.documentMode||7:10,fileApi:c}}),e("tinymce/util/Arr",[],function(){function e(e){var t,n,i=e;if(!a(e))for(i=[],t=0,n=e.length;t<n;t++)i[t]=e[t];return i}function o(e,t,n){var i,r;if(!e)return 0;if(n=n||e,e.length!==z){for(i=0,r=e.length;i<r;i++)if(!1===t.call(n,e[i],i,e))return 0}else for(i in e)if(e.hasOwnProperty(i)&&!1===t.call(n,e[i],i,e))return 0;return 1}function t(n,i){var r=[];return o(n,function(e,t){r.push(i(e,t,n))}),r}function n(e,t){var n=[];return o(e,function(e){t&&!t(e)||n.push(e)}),n}function i(e,t){var n,i;if(e)for(n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1}function r(e,t,n,i){var r=0;for(arguments.length<3&&(n=e[0],r=1);r<e.length;r++)n=t.call(i,n,e[r],r);return n}var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};return{isArray:a,toArray:e,each:o,map:t,filter:n,indexOf:i,reduce:r}}),e("tinymce/util/Tools",["tinymce/Env","tinymce/util/Arr"],function(n,o){function i(e){return null===e||e===z?"":(""+e).replace(f,"")}function r(e,t){return t?!("array"!=t||!o.isArray(e))||typeof e==t:e!==z}function e(e,t,n){var i;for(t=t||",","string"==typeof(e=e||[])&&(e=e.split(t)),n=n||{},i=e.length;i--;)n[e[i]]={};return n}function t(e,t,n){var i,r,o,a,s,l=this,c=0;if(e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e),o=e[3].match(/(^|\.)(\w+)$/i)[2],!(r=l.createNS(e[3].replace(/\.\w+$/,""),n))[o]){if("static"==e[2])return r[o]=t,void(this.onCreate&&this.onCreate(e[2],e[3],r[o]));t[o]||(t[o]=function(){},c=1),r[o]=t[o],l.extend(r[o].prototype,t),e[5]&&(i=l.resolve(e[5]).prototype,a=e[5].match(/\.(\w+)$/i)[1],s=r[o],r[o]=c?function(){return i[a].apply(this,arguments)}:function(){return this.parent=i[a],s.apply(this,arguments)},r[o].prototype[o]=r[o],l.each(i,function(e,t){r[o].prototype[t]=i[t]}),l.each(t,function(e,t){i[t]?r[o].prototype[t]=function(){return this.parent=i[t],e.apply(this,arguments)}:t!=o&&(r[o].prototype[t]=e)})),l.each(t["static"],function(e,t){r[o][t]=e})}}function a(e,t){var n,i,r,o,a=arguments;for(n=1,i=a.length;n<i;n++)for(r in t=a[n])t.hasOwnProperty(r)&&(o=t[r])!==z&&(e[r]=o);return e}function s(e,n,i,r){r=r||this,e&&(i&&(e=e[i]),o.each(e,function(e,t){if(!1===n.call(r,e,t,i))return!1;s(e,n,i,r)}))}function l(e,t){var n,i;for(t=t||window,e=e.split("."),n=0;n<e.length;n++)t[i=e[n]]||(t[i]={}),t=t[i];return t}function c(e,t){var n,i;for(t=t||window,n=0,i=(e=e.split(".")).length;n<i&&(t=t[e[n]]);n++);return t}function u(e,t){return!e||r(e,"array")?e:o.map(e.split(t||","),i)}function d(e){var t=n.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}var f=/^\s*|\s*$/g;return{trim:i,isArray:o.isArray,is:r,toArray:o.toArray,makeMap:e,each:o.each,map:o.map,grep:o.filter,inArray:o.indexOf,extend:a,create:t,walk:s,createNS:l,resolve:c,explode:u,_addCacheSuffix:d}}),e("tinymce/dom/DomQuery",["tinymce/dom/EventUtils","tinymce/dom/Sizzle","tinymce/util/Tools","tinymce/Env"],function(e,t,n,i){function l(e){return void 0!==e}function o(e){return"string"==typeof e}function r(e){return e&&e==e.window}function a(e,t){var n,i,r;for(r=(t=t||w).createElement("div"),n=t.createDocumentFragment(),r.innerHTML=e;i=r.firstChild;)n.appendChild(i);return n}function s(e,t,n,i){var r;if(o(t))t=a(t,g(e[0]));else if(t.length&&!t.nodeType){if(t=d.makeArray(t),i)for(r=t.length-1;0<=r;r--)s(e,t[r],n,i);else for(r=0;r<t.length;r++)s(e,t[r],n,i);return e}if(t.nodeType)for(r=e.length;r--;)n.call(e[r],t);return e}function c(e,t){return e&&t&&-1!==(" "+e.className+" ").indexOf(" "+t+" ")}function u(e,t,n){var i,r;return t=d(t)[0],e.each(function(){var e=this;n&&i==e.parentNode||(i=e.parentNode,r=t.cloneNode(!1),e.parentNode.insertBefore(r,e)),r.appendChild(e)}),e}function d(e,t){return new d.fn.init(e,t)}function f(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;)if(t[n]===e)return n;return-1}function m(e){return null===e||e===C?"":(""+e).replace(P,"")}function h(e,t){var n,i,r,o,a;if(e)if((n=e.length)===o){for(i in e)if(e.hasOwnProperty(i)&&(a=e[i],!1===t.call(a,i,a)))break}else for(r=0;r<n&&(a=e[r],!1!==t.call(a,r,a));r++);return e}function p(e,n){var i=[];return h(e,function(e,t){n(t,e)&&i.push(t)}),i}function g(e){return e?9==e.nodeType?e:e.ownerDocument:w}function v(e,t,n){var i=[],r=e[t];for("string"!=typeof n&&n instanceof d&&(n=n[0]);r&&9!==r.nodeType;){if(n!==z){if(r===n)break;if("string"==typeof n&&d(r).is(n))break}1===r.nodeType&&i.push(r),r=r[t]}return i}function y(e,t,n,i){var r=[];for(i instanceof d&&(i=i[0]);e;e=e[t])if(!n||e.nodeType===n){if(i!==z){if(e===i)break;if("string"==typeof i&&d(e).is(i))break}r.push(e)}return r}function b(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType==n)return e;return null}function x(n,i,e){h(e,function(e,t){n[e]=n[e]||{},n[e][i]=t})}var C,w=document,_=Array.prototype.push,E=Array.prototype.slice,S=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,N=e.Event,k=n.makeMap("children,contents,next,prev"),T=n.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),R=n.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),A={"for":"htmlFor","class":"className",readonly:"readOnly"},B={"float":"cssFloat"},D={},M={},P=/^\s*|\s*$/g;return d.fn=d.prototype={constructor:d,selector:"",context:null,length:0,init:function(e,t){var n,i,r=this;if(!e)return r;if(e.nodeType)return r.context=r[0]=e,r.length=1,r;if(t&&t.nodeType)r.context=t;else{if(t)return d(e).attr(t);r.context=t=document}if(o(e)){if(!(n="<"===(r.selector=e).charAt(0)&&">"===e.charAt(e.length-1)&&3<=e.length?[null,e,null]:S.exec(e)))return d(t).find(e);if(n[1])for(i=a(e,g(t)).firstChild;i;)_.call(r,i),i=i.nextSibling;else{if(!(i=g(t).getElementById(n[2])))return r;if(i.id!==n[2])return r.find(e);r.length=1,r[0]=i}}else this.add(e,!1);return r},toArray:function(){return n.toArray(this)},add:function(e,t){var n,i,r=this;if(o(e))return r.add(d(e));if(!1!==t)for(n=d.unique(r.toArray().concat(d.makeArray(e))),r.length=n.length,i=0;i<n.length;i++)r[i]=n[i];else _.apply(r,d.makeArray(e));return r},attr:function(t,n){var e,i=this;if("object"==typeof t)h(t,function(e,t){i.attr(e,t)});else{if(!l(n)){if(i[0]&&1===i[0].nodeType){if((e=D[t])&&e.get)return e.get(i[0],t);if(R[t])return i.prop(t)?t:C;null===(n=i[0].getAttribute(t,2))&&(n=C)}return n}this.each(function(){var e;if(1===this.nodeType){if((e=D[t])&&e.set)return void e.set(this,n);null===n?this.removeAttribute(t,2):this.setAttribute(t,n,2)}})}return i},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if("object"==typeof(e=A[e]||e))h(e,function(e,t){n.prop(e,t)});else{if(!l(t))return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;this.each(function(){1==this.nodeType&&(this[e]=t)})}return n},css:function(n,i){function e(e){return e.replace(/-(\D)/g,function(e,t){return t.toUpperCase()})}function r(e){return e.replace(/[A-Z]/g,function(e){return"-"+e})}var t,o,a=this;if("object"==typeof n)h(n,function(e,t){a.css(e,t)});else if(l(i))n=e(n),"number"!=typeof i||T[n]||(i+="px"),a.each(function(){var e=this.style;if((o=M[n])&&o.set)o.set(this,i);else{try{this.style[B[n]||n]=i}catch(t){}null!==i&&""!==i||(e.removeProperty?e.removeProperty(r(n)):e.removeAttribute(n))}});else{if(t=a[0],(o=M[n])&&o.get)return o.get(t);if(t.ownerDocument.defaultView)try{return t.ownerDocument.defaultView.getComputedStyle(t,null).getPropertyValue(r(n))}catch(s){return C}else if(t.currentStyle)return t.currentStyle[e(n)]}return a},remove:function(){for(var e,t=this,n=this.length;n--;)e=t[n],N.clean(e),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var e,t=this,n=this.length;n--;)for(e=t[n];e.firstChild;)e.removeChild(e.firstChild);return this},html:function(e){var t,n=this;if(l(e)){t=n.length;try{for(;t--;)n[t].innerHTML=e}catch(i){d(n[t]).empty().append(e)}return n}return n[0]?n[0].innerHTML:""},text:function(e){var t,n=this;if(l(e)){for(t=n.length;t--;)"innerText"in n[t]?n[t].innerText=e:n[0].textContent=e;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return s(this,arguments,function(e){1===this.nodeType&&this.appendChild(e)})},prepend:function(){return s(this,arguments,function(e){1===this.nodeType&&this.insertBefore(e,this.firstChild)},!0)},before:function(){var e=this;return e[0]&&e[0].parentNode?s(e,arguments,function(e){this.parentNode.insertBefore(e,this)}):e},after:function(){var e=this;return e[0]&&e[0].parentNode?s(e,arguments,function(e){this.parentNode.insertBefore(e,this.nextSibling)},!0):e},appendTo:function(e){return d(e).append(this),this},prependTo:function(e){return d(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return u(this,e)},wrapAll:function(e){return u(this,e,!0)},wrapInner:function(e){return this.each(function(){d(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){d(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),d(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(r,o){var e=this;return"string"!=typeof r||(-1!==r.indexOf(" ")?h(r.split(" "),function(){e.toggleClass(this,o)}):e.each(function(e,t){var n,i;(i=c(t,r))!==o&&(n=t.className,i?t.className=m((" "+n+" ").replace(" "+r+" "," ")):t.className+=n?" "+r:r)})),e},hasClass:function(e){return c(this[0],e)},each:function(e){return h(this,e)},on:function(e,t){return this.each(function(){N.bind(this,e,t)})},off:function(e,t){return this.each(function(){N.unbind(this,e,t)})},trigger:function(e){return this.each(function(){"object"==typeof e?N.fire(this,e.type,e):N.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new d(E.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var t,n,i=[];for(t=0,n=this.length;t<n;t++)d.find(e,this[t],i);return d(i)},filter:function(n){return d("function"==typeof n?p(this.toArray(),function(e,t){return n(t,e)}):d.filter(n,this.toArray()))},closest:function(n){var i=[];return n instanceof d&&(n=n[0]),this.each(function(e,t){for(;t;){if("string"==typeof n&&d(t).is(n)){i.push(t);break}if(t==n){i.push(t);break}t=t.parentNode}}),d(i)},offset:function(e){var t,n,i,r,o=0,a=0;return e?this.css(e):((t=this[0])&&(i=(n=t.ownerDocument).documentElement,t.getBoundingClientRect&&(o=(r=t.getBoundingClientRect()).left+(i.scrollLeft||n.body.scrollLeft)-i.clientLeft,a=r.top+(i.scrollTop||n.body.scrollTop)-i.clientTop)),{left:o,top:a})},push:_,sort:[].sort,splice:[].splice},n.extend(d,{extend:n.extend,makeArray:function(e){return r(e)||e.nodeType?[e]:n.toArray(e)},inArray:f,isArray:n.isArray,each:h,trim:m,grep:p,find:t,expr:t.selectors,unique:t.uniqueSort,text:t.getText,contains:t.contains,filter:function(e,t,n){var i=t.length;for(n&&(e=":not("+e+")");i--;)1!=t[i].nodeType&&t.splice(i,1);return t=1===t.length?d.find.matchesSelector(t[0],e)?[t[0]]:[]:d.find.matches(e,t)}}),h({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return v(e,"parentNode")},next:function(e){return b(e,"nextSibling",1)},prev:function(e){return b(e,"previousSibling",1)},children:function(e){return y(e.firstChild,"nextSibling",1)},contents:function(e){return n.toArray(("iframe"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,i){d.fn[e]=function(t){var n=[];return this.each(function(){var e=i.call(n,this,t,n);e&&(d.isArray(e)?n.push.apply(n,e):n.push(e))}),1<this.length&&(k[e]||(n=d.unique(n)),0===e.indexOf("parents")&&(n=n.reverse())),n=d(n),t?n.filter(t):n}}),h({parentsUntil:function(e,t){return v(e,"parentNode",t)},nextUntil:function(e,t){return y(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return y(e,"previousSibling",1,t).slice(1)}},function(i,r){d.fn[i]=function(t,e){var n=[];return this.each(function(){var e=r.call(n,this,t,n);e&&(d.isArray(e)?n.push.apply(n,e):n.push(e))}),1<this.length&&(n=d.unique(n),0!==i.indexOf("parents")&&"prevUntil"!==i||(n=n.reverse())),n=d(n),e?n.filter(e):n}}),d.fn.is=function(e){return!!e&&0<this.filter(e).length},d.fn.init.prototype=d.fn,d.overrideDefaults=function(n){function i(e,t){return r=r||n(),0===arguments.length&&(e=r.element),t||(t=r.context),new i.fn.init(e,t)}var r;return d.extend(i,this),i},i.ie&&i.ie<8&&(x(D,"get",{maxlength:function(e){var t=e.maxLength;return 2147483647===t?C:t},size:function(e){var t=e.size;return 20===t?C:t},"class":function(e){return e.className},style:function(e){var t=e.style.cssText;return 0===t.length?C:t}}),x(D,"set",{"class":function(e,t){e.className=t},style:function(e,t){e.style.cssText=t}})),i.ie&&i.ie<9&&(B["float"]="styleFloat",x(M,"set",{opacity:function(e,t){var n=e.style;null===t||""===t?n.removeAttribute("filter"):(n.zoom=1,n.filter="alpha(opacity="+100*t+")")}})),d.attrHooks=D,d.cssHooks=M,d}),e("tinymce/html/Styles",[],function(){return function(h,e){function p(e,t,n,i){function r(e){return 1<(e=parseInt(e,10).toString(16)).length?e:"0"+e}return"#"+r(t)+r(n)+r(i)}var s,g,t,l,c,v=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,y=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,b=/\s*([^:]+):\s*([^;]+);?/g,x=/\s+$/,C={},n="\ufeff";for(h=h||{},e&&(l=e.getValidStyles(),c=e.getInvalidStyles()),t=("\\\" \\' \\; \\: ; : "+n).split(" "),g=0;g<t.length;g++)C[t[g]]=n+g,C[n+g]=t[g];return{toHex:function(e){return e.replace(v,p)},parse:function(e){function t(e,t,n){var i,r,o,a;if((i=d[e+"-top"+t])&&(r=d[e+"-right"+t])&&(o=d[e+"-bottom"+t])&&(a=d[e+"-left"+t])){var s=[i,r,o,a];for(g=s.length-1;g--&&s[g]===s[g+1];);-1<g&&n||(d[e+t]=-1==g?s[0]:s.join(" "),delete d[e+"-top"+t],delete d[e+"-right"+t],delete d[e+"-bottom"+t],delete d[e+"-left"+t])}}function r(e){var t,n=d[e];if(n){for(t=(n=n.split(" ")).length;t--;)if(n[t]!==n[0])return!1;return d[e]=n[0],!0}}function n(e,t,n,i){r(t)&&r(n)&&r(i)&&(d[e]=d[t]+" "+d[n]+" "+d[i],delete d[t],delete d[n],delete d[i])}function i(e){return u=!0,C[e]}function s(e,t){return u&&(e=e.replace(/\uFEFF[0-9]/g,function(e){return C[e]})),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e}function o(e,t,n,i,r,o){if(r=r||o)return"'"+(r=s(r)).replace(/\'/g,"\\'")+"'";if(t=s(t||n||i),!h.allow_script_urls){var a=t.replace(/[\s\r\n]+/,"");if(/(java|vb)script:/i.test(a))return"";if(!h.allow_svg_data_urls&&/^data:image\/svg/i.test(a))return""}return f&&(t=f.call(m,t,"style")),"url('"+t.replace(/\'/g,"\\'")+"')"}var a,l,c,u,d={},f=h.url_converter,m=h.url_converter_scope||this;if(e){for(e=(e=e.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,i).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(e){return e.replace(/[;:]/g,i)});a=b.exec(e);){if(l=a[1].replace(x,"").toLowerCase(),c=(c=a[2].replace(x,"")).replace(/\\[0-9a-f]+/g,function(e){return String.fromCharCode(parseInt(e.substr(1),16))}),l&&0<c.length){if(!h.allow_script_urls&&("behavior"==l||/expression\s*\(|\/\*|\*\//.test(c)))continue;"font-weight"===l&&"700"===c?c="bold":"color"!==l&&"background-color"!==l||(c=c.toLowerCase()),c=(c=c.replace(v,p)).replace(y,o),d[l]=u?s(c,!0):c}b.lastIndex=a.index+a[0].length}t("border","",!0),t("border","-width"),t("border","-color"),t("border","-style"),t("padding",""),t("margin",""),n("border","border-width","border-style","border-color"),"medium none"===d.border&&delete d.border,"none"===d["border-image"]&&delete d["border-image"]}return d},serialize:function(o,e){function t(e){var t,n,i,r;if(t=l[e])for(n=0,i=t.length;n<i;n++)e=t[n],(r=o[e])!==s&&0<r.length&&(a+=(0<a.length?" ":"")+e+": "+r+";")}function n(e,t){var n;return(!(n=c["*"])||!n[e])&&(!(n=c[t])||!n[e])}var i,r,a="";if(e&&l)t("*"),t(e);else for(i in o)(r=o[i])!==s&&0<r.length&&(c&&!n(i,e)||(a+=(0<a.length?" ":"")+i+": "+r+";"));return a}}}}),e("tinymce/dom/TreeWalker",[],function(){return function(e,a){function t(e,t,n,i){var r,o;if(e){if(!i&&e[t])return e[t];if(e!=a){if(r=e[n])return r;for(o=e.parentNode;o&&o!=a;o=o.parentNode)if(r=o[n])return r}}}var n=e;this.current=function(){return n},this.next=function(e){return n=t(n,"firstChild","nextSibling",e)},this.prev=function(e){return n=t(n,"lastChild","previousSibling",e)}}}),e("tinymce/dom/Range",["tinymce/util/Tools"],function(j){function q(u){function c(){return M.createDocumentFragment()}function t(e,t){C(H,e,t)}function n(e,t){C(I,e,t)}function i(e){t(e.parentNode,$(e))}function e(e){t(e.parentNode,$(e)+1)}function r(e){n(e.parentNode,$(e))}function o(e){n(e.parentNode,$(e)+1)}function a(e){e?(D[W]=D[z],D[U]=D[F]):(D[z]=D[W],D[F]=D[U]),D.collapsed=H}function s(e){i(e),o(e)}function l(e){t(e,0),n(e,1===e.nodeType?e.childNodes.length:e.nodeValue.length)}function d(e,t){var n=D[z],i=D[F],r=D[W],o=D[U],a=t.startContainer,s=t.startOffset,l=t.endContainer,c=t.endOffset;return 0===e?x(n,i,a,s):1===e?x(r,o,a,s):2===e?x(r,o,l,c):3===e?x(n,i,l,c):void 0}function f(){w(L)}function m(){return w(P)}function h(){return w(O)}function p(e){var t,n,i=this[z],r=this[F];3!==i.nodeType&&4!==i.nodeType||!i.nodeValue?(0<i.childNodes.length&&(n=i.childNodes[r]),n?i.insertBefore(e,n):3==i.nodeType?u.insertAfter(e,i):i.appendChild(e)):r?r>=i.nodeValue.length?u.insertAfter(e,i):(t=i.splitText(r),i.parentNode.insertBefore(e,t)):i.parentNode.insertBefore(e,i)}function g(e){var t=D.extractContents();D.insertNode(e),e.appendChild(t),D.selectNode(e)}function v(){return V(new q(u),{startContainer:D[z],startOffset:D[F],endContainer:D[W],endOffset:D[U],collapsed:D.collapsed,commonAncestorContainer:D.commonAncestorContainer})}function y(e,t){var n;if(3==e.nodeType)return e;if(t<0)return e;for(n=e.firstChild;n&&0<t;)--t,n=n.nextSibling;return n||e}function b(){return D[z]==D[W]&&D[F]==D[U]}function x(e,t,n,i){var r,o,a,s,l,c;if(e==n)return t==i?0:t<i?-1:1;for(r=n;r&&r.parentNode!=e;)r=r.parentNode;if(r){for(o=0,a=e.firstChild;a!=r&&o<t;)o++,a=a.nextSibling;return t<=o?-1:1}for(r=e;r&&r.parentNode!=n;)r=r.parentNode;if(r){for(o=0,a=n.firstChild;a!=r&&o<i;)o++,a=a.nextSibling;return o<i?-1:1}for(s=u.findCommonAncestor(e,n),l=e;l&&l.parentNode!=s;)l=l.parentNode;for(l||(l=s),c=n;c&&c.parentNode!=s;)c=c.parentNode;if(c||(c=s),l==c)return 0;for(a=s.firstChild;a;){if(a==l)return-1;if(a==c)return 1;a=a.nextSibling}}function C(e,t,n){var i,r;for(e?(D[z]=t,D[F]=n):(D[W]=t,D[U]=n),i=D[W];i.parentNode;)i=i.parentNode;for(r=D[z];r.parentNode;)r=r.parentNode;r==i?0<x(D[z],D[F],D[W],D[U])&&D.collapse(e):D.collapse(e),D.collapsed=b(),D.commonAncestorContainer=u.findCommonAncestor(D[z],D[W])}function w(e){var t,n,i,r,o,a,s,l=0,c=0;if(D[z]==D[W])return _(e);for(n=(t=D[W]).parentNode;n;n=(t=n).parentNode){if(n==D[z])return E(t,e);++l}for(n=(t=D[z]).parentNode;n;n=(t=n).parentNode){if(n==D[W])return S(t,e);++c}for(i=c-l,r=D[z];0<i;)r=r.parentNode,i--;for(o=D[W];i<0;)o=o.parentNode,i++;for(a=r.parentNode,s=o.parentNode;a!=s;a=a.parentNode,s=s.parentNode)r=a,o=s;return N(r,o,e)}function _(e){var t,n,i,r,o,a,s,l;if(e!=L&&(t=c()),D[F]==D[U])return t;if(3==D[z].nodeType){if(n=D[z].nodeValue.substring(D[F],D[U]),e!=O&&(i=D[z],s=D[F],l=D[U]-D[F],0===s&&l>=i.nodeValue.length-1?i.parentNode.removeChild(i):i.deleteData(s,l),D.collapse(H)),e==L)return;return 0<n.length&&t.appendChild(M.createTextNode(n)),t}for(i=y(D[z],D[F]),r=D[U]-D[F];i&&0<r;)o=i.nextSibling,a=A(i,e),t&&t.appendChild(a),--r,i=o;return e!=O&&D.collapse(H),t}function E(e,t){var n,i,r,o,a;if(t!=L&&(n=c()),i=k(e,t),n&&n.appendChild(i),(r=$(e)-D[F])<=0)return t!=O&&(D.setEndBefore(e),D.collapse(I)),n;for(i=e.previousSibling;0<r;)o=i.previousSibling,a=A(i,t),n&&n.insertBefore(a,n.firstChild),--r,i=o;return t!=O&&(D.setEndBefore(e),D.collapse(I)),n}function S(e,t){var n,i,r,o,a,s;for(t!=L&&(n=c()),r=T(e,t),n&&n.appendChild(r),i=$(e),++i,o=D[U]-i,r=e.nextSibling;r&&0<o;)a=r.nextSibling,s=A(r,t),n&&n.appendChild(s),--o,r=a;return t!=O&&(D.setStartAfter(e),D.collapse(H)),n}function N(e,t,n){var i,r,o,a,s,l;for(n!=L&&(r=c()),i=T(e,n),r&&r.appendChild(i),o=$(e),a=$(t)-++o,s=e.nextSibling;0<a;)l=s.nextSibling,i=A(s,n),r&&r.appendChild(i),s=l,--a;return i=k(t,n),r&&r.appendChild(i),n!=O&&(D.setStartAfter(e),D.collapse(H)),r}function k(e,t){var n,i,r,o,a,s=y(D[W],D[U]-1),l=s!=D[W];if(s==e)return R(s,l,I,t);for(i=R(n=s.parentNode,I,I,t);n;){for(;s;)r=s.previousSibling,o=R(s,l,I,t),t!=L&&i.insertBefore(o,i.firstChild),l=H,s=r;if(n==e)return i;s=n.previousSibling,a=R(n=n.parentNode,I,I,t),t!=L&&a.appendChild(i),i=a}}function T(e,t){var n,i,r,o,a,s=y(D[z],D[F]),l=s!=D[z];if(s==e)return R(s,l,H,t);for(i=R(n=s.parentNode,I,H,t);n;){for(;s;)r=s.nextSibling,o=R(s,l,H,t),t!=L&&i.appendChild(o),l=H,s=r;if(n==e)return i;s=n.nextSibling,a=R(n=n.parentNode,I,H,t),t!=L&&a.appendChild(i),i=a}}function R(e,t,n,i){var r,o,a,s,l;if(t)return A(e,i);if(3==e.nodeType){if(r=e.nodeValue,n?(s=D[F],o=r.substring(s),a=r.substring(0,s)):(s=D[U],o=r.substring(0,s),a=r.substring(s)),i!=O&&(e.nodeValue=a),i==L)return;return(l=u.clone(e,I)).nodeValue=o,l}return i!=L?u.clone(e,I):void 0}function A(e,t){if(t!=L)return t==O?u.clone(e,H):e;e.parentNode.removeChild(e)}function B(){return u.create("body",null,h()).outerText}var D=this,M=u.doc,P=0,O=1,L=2,H=!0,I=!1,F="startOffset",z="startContainer",W="endContainer",U="endOffset",V=j.extend,$=u.nodeIndex;return V(D,{startContainer:M,startOffset:0,endContainer:M,endOffset:0,collapsed:H,commonAncestorContainer:M,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:t,setEnd:n,setStartBefore:i,setStartAfter:e,setEndBefore:r,setEndAfter:o,collapse:a,selectNode:s,selectNodeContents:l,compareBoundaryPoints:d,deleteContents:f,extractContents:m,cloneContents:h,insertNode:p,surroundContents:g,cloneRange:v,toStringIE:B}),D}return q.prototype.toString=function(){return this.toStringIE()},q}),e("tinymce/html/Entities",["tinymce/util/Tools"],function(e){function n(e){var t;return(t=document.createElement("div")).innerHTML=e,t.textContent||t.innerText||e}function r(e,t){var n,i,r,o={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)i=String.fromCharCode(parseInt(e[n],t)),a[i]||(r="&"+e[n+1]+";",o[i]=r,o[r]=i);return o}}var o,a,i,s=e.makeMap,l=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,t=/[<>&\"\']/g,u=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,d={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};a={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},i={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},o=r("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var f={encodeRaw:function(e,t){return e.replace(t?l:c,function(e){return a[e]||e})},encodeAllRaw:function(e){return(""+e).replace(t,function(e){return a[e]||e})},encodeNumeric:function(e,t){return e.replace(t?l:c,function(e){return 1<e.length?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":a[e]||"&#"+e.charCodeAt(0)+";"})},encodeNamed:function(e,t,n){return n=n||o,e.replace(t?l:c,function(e){return a[e]||n[e]||e})},getEncodeFunc:function(e,n){function t(e,t){return e.replace(t?l:c,function(e){return a[e]||n[e]||"&#"+e.charCodeAt(0)+";"||e})}function i(e,t){return f.encodeNamed(e,t,n)}return n=r(n)||o,(e=s(e.replace(/\+/g,","))).named&&e.numeric?t:e.named?n?i:f.encodeNamed:e.numeric?f.encodeNumeric:f.encodeRaw},decode:function(e){return e.replace(u,function(e,t){return t?65535<(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10))?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):d[t]||String.fromCharCode(t):i[e]||o[e]||n(e)})}};return f}),e("tinymce/dom/StyleSheetLoader",["tinymce/util/Tools"],function(y){return function(m,e){function h(e){m.getElementsByTagName("head")[0].appendChild(e)}function t(e,t,n){function r(){for(var e=f.passed,t=e.length;t--;)e[t]();f.status=2,f.passed=[],
f.failed=[]}function i(){for(var e=f.failed,t=e.length;t--;)e[t]();f.status=3,f.passed=[],f.failed=[]}function o(){var e=navigator.userAgent.match(/WebKit\/(\d*)/);return!!(e&&e[1]<536)}function a(e,t){e()||((new Date).getTime()-d<p?window.setTimeout(t,0):i())}function s(){a(function(){for(var e,t,n=m.styleSheets,i=n.length;i--;)if((t=(e=n[i]).ownerNode?e.ownerNode:e.owningElement)&&t.id===c.id)return r(),!0},s)}function l(){a(function(){try{var e=u.sheet.cssRules;return r(),!!e}catch(t){}},l)}var c,u,d,f;if(e=y._addCacheSuffix(e),v[e]?f=v[e]:(f={passed:[],failed:[]},v[e]=f),t&&f.passed.push(t),n&&f.failed.push(n),1!=f.status)if(2!=f.status)if(3!=f.status){if(f.status=1,(c=m.createElement("link")).rel="stylesheet",c.type="text/css",c.id="u"+g++,c.async=!1,c.defer=!1,d=(new Date).getTime(),"onload"in c&&!o())c.onload=s,c.onerror=i;else{if(0<navigator.userAgent.indexOf("Firefox"))return(u=m.createElement("style")).textContent='@import "'+e+'"',l(),void h(u);s()}h(c),c.href=e}else i();else r()}var p,g=0,v={};p=(e=e||{}).maxLoadTime||5e3,this.load=t}}),e("tinymce/dom/DOMUtils",["tinymce/dom/Sizzle","tinymce/dom/DomQuery","tinymce/html/Styles","tinymce/dom/EventUtils","tinymce/dom/TreeWalker","tinymce/dom/Range","tinymce/html/Entities","tinymce/Env","tinymce/util/Tools","tinymce/dom/StyleSheetLoader"],function(r,c,o,a,u,t,e,i,s,l){function d(i,r){var e,t={},n=r.keep_values;return e={set:function(e,t,n){r.url_converter&&(t=r.url_converter.call(r.url_converter_scope||i,t,n,e[0])),e.attr("data-mce-"+n,t).attr(n,t)},get:function(e,t){return e.attr("data-mce-"+t)||e.attr(t)}},t={style:{set:function(e,t){null===t||"object"!=typeof t?(n&&e.attr("data-mce-style",t),e.attr("style",t)):e.css(t)},get:function(e){var t=e.attr("data-mce-style")||e.attr("style");return t=i.serializeStyle(i.parseStyle(t),e[0].nodeName)}}},n&&(t.href=t.src=e),t}function f(e,t){var n=t.attr("style");(n=e.serializeStyle(e.parseStyle(n),t[0].nodeName))||(n=null),t.attr("data-mce-style",n)}function n(e,t){var n,i,r=0;if(e)for(n=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)i=e.nodeType,(!t||3!=i||i!=n&&e.nodeValue.length)&&(r++,n=i);return r}function m(e,t){var n,i=this;i.doc=e,i.win=window,i.files={},i.counter=0,i.stdMode=!y||8<=e.documentMode,i.boxModel=!y||"CSS1Compat"==e.compatMode||i.stdMode,i.styleSheetLoader=new l(e),i.boundEvents=[],i.settings=t=t||{},i.schema=t.schema,i.styles=new o({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),i.fixDoc(e),i.events=t.ownEvents?new a(t.proxy):a.Event,i.attrHooks=d(i,t),n=t.schema?t.schema.getBlockElements():{},i.$=c.overrideDefaults(function(){return{context:e,element:i.getRoot()}}),i.isBlock=function(e){if(!e)return!1;var t=e.nodeType;return t?!(1!==t||!n[e.nodeName]):!!n[e]}}var h=s.each,p=s.is,g=s.grep,v=s.trim,y=i.ie,b=/^([a-z0-9],?)+$/i,x=/^[ \t\r\n]*$/;return m.prototype={$$:function(e){return"string"==typeof e&&(e=this.get(e)),this.$(e)},root:null,fixDoc:function(t){var e,n=this.settings;if(y&&n.schema)for(e in"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(e){t.createElement(e)}),n.schema.getCustomElements())t.createElement(e)},clone:function(t,e){var n,i,r=this;return!y||1!==t.nodeType||e?t.cloneNode(e):(i=r.doc,e?n.firstChild:(n=i.createElement(t.nodeName),h(r.getAttribs(t),function(e){r.setAttrib(n,e.nodeName,r.getAttrib(t,e.nodeName))}),n))},getRoot:function(){var e=this;return e.settings.root_element||e.doc.body},getViewPort:function(e){var t,n;return t=(e=e||this.win).document,n=this.boxModel?t.documentElement:t.body,{x:e.pageXOffset||n.scrollLeft,y:e.pageYOffset||n.scrollTop,w:e.innerWidth||n.clientWidth,h:e.innerHeight||n.clientHeight}},getRect:function(e){var t,n,i=this;return e=i.get(e),t=i.getPos(e),n=i.getSize(e),{x:t.x,y:t.y,w:n.w,h:n.h}},getSize:function(e){var t,n,i=this;return e=i.get(e),t=i.getStyle(e,"width"),n=i.getStyle(e,"height"),-1===t.indexOf("px")&&(t=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}},getParent:function(e,t,n){return this.getParents(e,t,n,!1)},getParents:function(e,t,n,i){var r,o=this,a=[];for(e=o.get(e),i=i===z,n=n||("BODY"!=o.getRoot().nodeName?o.getRoot().parentNode:null),p(t,"string")&&(t="*"===(r=t)?function(e){return 1==e.nodeType}:function(e){return o.is(e,r)});e&&e!=n&&e.nodeType&&9!==e.nodeType;){if(!t||t(e)){if(!i)return e;a.push(e)}e=e.parentNode}return i?a:null},get:function(e){var t;return e&&this.doc&&"string"==typeof e&&(t=e,(e=this.doc.getElementById(e))&&e.id!==t)?this.doc.getElementsByName(t)[1]:e},getNext:function(e,t){return this._findSib(e,t,"nextSibling")},getPrev:function(e,t){return this._findSib(e,t,"previousSibling")},select:function(e,t){var n=this;return r(e,n.get(t)||n.settings.root_element||n.doc,[])},is:function(e,t){var n;if(e.length===z){if("*"===t)return 1==e.nodeType;if(b.test(t)){for(t=t.toLowerCase().split(/,/),e=e.nodeName.toLowerCase(),n=t.length-1;0<=n;n--)if(t[n]==e)return!0;return!1}}if(e.nodeType&&1!=e.nodeType)return!1;var i=e.nodeType?[e]:e;return 0<r(t,i[0].ownerDocument||i[0],null,i).length},add:function(e,n,i,r,o){var a=this;return this.run(e,function(e){var t;return t=p(n,"string")?a.doc.createElement(n):n,a.setAttribs(t,i),r&&(r.nodeType?t.appendChild(r):a.setHTML(t,r)),o?t:e.appendChild(t)})},create:function(e,t,n){return this.add(this.doc.createElement(e),e,t,n,1)},createHTML:function(e,t,n){var i,r="";for(i in r+="<"+e,t)t.hasOwnProperty(i)&&null!==t[i]&&"undefined"!=typeof t[i]&&(r+=" "+i+'="'+this.encode(t[i])+'"');return void 0!==n?r+">"+n+"</"+e+">":r+" />"},createFragment:function(e){var t,n,i,r=this.doc;for(i=r.createElement("div"),t=r.createDocumentFragment(),e&&(i.innerHTML=e);n=i.firstChild;)t.appendChild(n);return t},remove:function(e,t){return e=this.$$(e),t?e.each(function(){for(var e;e=this.firstChild;)3==e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this)}).remove():e.remove(),1<e.length?e.toArray():e[0]},setStyle:function(e,t,n){e=this.$$(e).css(t,n),this.settings.update_styles&&f(this,e)},getStyle:function(e,t,n){return e=this.$$(e),n?e.css(t):("float"==(t=t.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}))&&(t=i.ie&&i.ie<12?"styleFloat":"cssFloat"),e[0]&&e[0].style?e[0].style[t]:z)},setStyles:function(e,t){e=this.$$(e).css(t),this.settings.update_styles&&f(this,e)},removeAllAttribs:function(e){return this.run(e,function(e){var t,n=e.attributes;for(t=n.length-1;0<=t;t--)e.removeAttributeNode(n.item(t))})},setAttrib:function(e,t,n){var i,r,o=this,a=o.settings;""===n&&(n=null),i=(e=o.$$(e)).attr(t),e.length&&((r=o.attrHooks[t])&&r.set?r.set(e,n,t):e.attr(t,n),i!=n&&a.onSetAttrib&&a.onSetAttrib({attrElm:e,attrName:t,attrValue:n}))},setAttribs:function(e,t){var i=this;i.$$(e).each(function(e,n){h(t,function(e,t){i.setAttrib(n,t,e)})})},getAttrib:function(e,t,n){var i,r,o=this;return(e=o.$$(e)).length&&(r=(i=o.attrHooks[t])&&i.get?i.get(e,t):e.attr(t)),void 0===r&&(r=n||""),r},getPos:function(e,t){var n,i,r=this,o=0,a=0,s=r.doc,l=s.body;if(t=t||l,e=r.get(e)){if(t===l&&e.getBoundingClientRect&&"static"===c(l).css("position"))return i=e.getBoundingClientRect(),t=r.boxModel?s.documentElement:l,{x:o=i.left+(s.documentElement.scrollLeft||l.scrollLeft)-t.clientLeft,y:a=i.top+(s.documentElement.scrollTop||l.scrollTop)-t.clientTop};for(n=e;n&&n!=t&&n.nodeType;)o+=n.offsetLeft||0,a+=n.offsetTop||0,n=n.offsetParent;for(n=e.parentNode;n&&n!=t&&n.nodeType;)o-=n.scrollLeft||0,a-=n.scrollTop||0,n=n.parentNode}return{x:o,y:a}},parseStyle:function(e){return this.styles.parse(e)},serializeStyle:function(e,t){return this.styles.serialize(e,t)},addStyle:function(e){var t,n,i=this,r=i.doc;if(i!==m.DOM&&r===document){var o=m.DOM.addedStyles;if((o=o||[])[e])return;o[e]=!0,m.DOM.addedStyles=o}(n=r.getElementById("mceDefaultStyles"))||((n=r.createElement("style")).id="mceDefaultStyles",n.type="text/css",(t=r.getElementsByTagName("head")[0]).firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)),n.styleSheet?n.styleSheet.cssText+=e:n.appendChild(r.createTextNode(e))},loadCSS:function(e){var n,i=this,r=i.doc;i===m.DOM||r!==document?(e||(e=""),n=r.getElementsByTagName("head")[0],h(e.split(","),function(e){var t;e=s._addCacheSuffix(e),i.files[e]||(i.files[e]=!0,t=i.create("link",{rel:"stylesheet",href:e}),y&&r.documentMode&&r.recalc&&(t.onload=function(){r.recalc&&r.recalc(),t.onload=null}),n.appendChild(t))})):m.DOM.loadCSS(e)},addClass:function(e,t){this.$$(e).addClass(t)},removeClass:function(e,t){this.toggleClass(e,t,!1)},hasClass:function(e,t){return this.$$(e).hasClass(t)},toggleClass:function(e,t,n){this.$$(e).toggleClass(t,n).each(function(){""===this.className&&c(this).attr("class",null)})},show:function(e){this.$$(e).show()},hide:function(e){this.$$(e).hide()},isHidden:function(e){return"none"==this.$$(e).css("display")},uniqueId:function(e){return(e||"mce_")+this.counter++},setHTML:function(e,i){e=this.$$(e),y?e.each(function(e,t){if(!1!==t.canHaveHTML){for(;t.firstChild;)t.removeChild(t.firstChild);try{t.innerHTML="<br>"+i,t.removeChild(t.firstChild)}catch(n){c("<div>").html("<br>"+i).contents().slice(1).appendTo(t)}return i}}):e.html(i)},getOuterHTML:function(e){return 1==(e=this.get(e)).nodeType&&"outerHTML"in e?e.outerHTML:c("<div>").append(c(e).clone()).html()},setOuterHTML:function(e,t){var n=this;n.$$(e).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=t)}catch(e){}n.remove(c(this).html(t),!0)})},decode:e.decode,encode:e.encodeAllRaw,insertAfter:function(e,i){return i=this.get(i),this.run(e,function(e){var t,n;return t=i.parentNode,(n=i.nextSibling)?t.insertBefore(e,n):t.appendChild(e),e})},replace:function(t,e,n){return this.run(e,function(e){return p(e,"array")&&(t=t.cloneNode(!0)),n&&h(g(e.childNodes),function(e){t.appendChild(e)}),e.parentNode.replaceChild(t,e)})},rename:function(t,e){var n,i=this;return t.nodeName!=e.toUpperCase()&&(n=i.create(e),h(i.getAttribs(t),function(e){i.setAttrib(n,e.nodeName,i.getAttrib(t,e.nodeName))}),i.replace(n,t,1)),n||t},findCommonAncestor:function(e,t){for(var n,i=e;i;){for(n=t;n&&i!=n;)n=n.parentNode;if(i==n)break;i=i.parentNode}return!i&&e.ownerDocument?e.ownerDocument.documentElement:i},toHex:function(e){return this.styles.toHex(s.trim(e))},run:function(e,n,i){var r,o=this;return"string"==typeof e&&(e=o.get(e)),!!e&&(i=i||this,e.nodeType||!e.length&&0!==e.length?n.call(i,e):(r=[],h(e,function(e,t){e&&("string"==typeof e&&(e=o.get(e)),r.push(n.call(i,e,t)))}),r))},getAttribs:function(e){var t;if(!(e=this.get(e)))return[];if(y){if(t=[],"OBJECT"==e.nodeName)return e.attributes;"OPTION"===e.nodeName&&this.getAttrib(e,"selected")&&t.push({specified:1,nodeName:"selected"});var n=/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi;return e.cloneNode(!1).outerHTML.replace(n,"").replace(/[\w:\-]+/gi,function(e){t.push({specified:1,nodeName:e})}),t}return e.attributes},isEmpty:function(e,t){var n,i,r,o,a,s=this,l=0;if(e=e.firstChild){o=new u(e,e.parentNode),t=t||(s.schema?s.schema.getNonEmptyElements():null);do{if(1===(r=e.nodeType)){if(e.getAttribute("data-mce-bogus"))continue;if(a=e.nodeName.toLowerCase(),t&&t[a]){if("br"===a){l++;continue}return!1}for(n=(i=s.getAttribs(e)).length;n--;)if("name"===(a=i[n].nodeName)||"data-mce-bookmark"===a)return!1}if(8==r)return!1;if(3===r&&!x.test(e.nodeValue))return!1}while(e=o.next())}return l<=1},createRng:function(){var e=this.doc;return e.createRange?e.createRange():new t(this)},nodeIndex:n,split:function(e,t,n){function a(e){function t(e){var t=e.previousSibling&&"SPAN"==e.previousSibling.nodeName,n=e.nextSibling&&"SPAN"==e.nextSibling.nodeName;return t&&n}var n,i=e.childNodes,r=e.nodeType;if(1!=r||"bookmark"!=e.getAttribute("data-mce-type")){for(n=i.length-1;0<=n;n--)a(i[n]);if(9!=r){if(3==r&&0<e.nodeValue.length){var o=v(e.nodeValue).length;if(!s.isBlock(e.parentNode)||0<o||0===o&&t(e))return}else if(1==r&&(1==(i=e.childNodes).length&&i[0]&&1==i[0].nodeType&&"bookmark"==i[0].getAttribute("data-mce-type")&&e.parentNode.insertBefore(i[0],e),i.length||/^(br|hr|input|img)$/i.test(e.nodeName)))return;s.remove(e)}return e}}var i,r,o,s=this,l=s.createRng();if(e&&t)return l.setStart(e.parentNode,s.nodeIndex(e)),l.setEnd(t.parentNode,s.nodeIndex(t)),i=l.extractContents(),(l=s.createRng()).setStart(t.parentNode,s.nodeIndex(t)+1),l.setEnd(e.parentNode,s.nodeIndex(e)+1),r=l.extractContents(),(o=e.parentNode).insertBefore(a(i),e),n?o.replaceChild(n,t):o.insertBefore(t,e),o.insertBefore(a(r),e),s.remove(e),n||t},bind:function(e,t,n,i){var r=this;if(s.isArray(e)){for(var o=e.length;o--;)e[o]=r.bind(e[o],t,n,i);return e}return!r.settings.collect||e!==r.doc&&e!==r.win||r.boundEvents.push([e,t,n,i]),r.events.bind(e,t,n,i||r)},unbind:function(e,t,n){var i,r=this;if(s.isArray(e)){for(i=e.length;i--;)e[i]=r.unbind(e[i],t,n);return e}if(r.boundEvents&&(e===r.doc||e===r.win))for(i=r.boundEvents.length;i--;){var o=r.boundEvents[i];e!=o[0]||t&&t!=o[1]||n&&n!=o[2]||this.events.unbind(o[0],o[1],o[2])}return this.events.unbind(e,t,n)},fire:function(e,t,n){return this.events.fire(e,t,n)},getContentEditable:function(e){var t;return e&&1==e.nodeType?(t=e.getAttribute("data-mce-contenteditable"))&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null:null},getContentEditableParent:function(e){for(var t=this.getRoot(),n=null;e&&e!==t&&null===(n=this.getContentEditable(e));e=e.parentNode);return n},destroy:function(){var e=this;if(e.boundEvents){for(var t=e.boundEvents.length;t--;){var n=e.boundEvents[t];this.events.unbind(n[0],n[1],n[2])}e.boundEvents=null}r.setDocument&&r.setDocument(),e.win=e.doc=e.root=e.events=e.frag=null},isChildOf:function(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},dumpRng:function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},_findSib:function(e,t,n){var i=this,r=t;if(e)for("string"==typeof r&&(r=function(e){return i.is(e,t)}),e=e[n];e;e=e[n])if(r(e))return e;return null}},m.DOM=new m(document),m.nodeIndex=n,m}),e("tinymce/dom/ScriptLoader",["tinymce/dom/DOMUtils","tinymce/util/Tools"],function(e,m){function t(){function o(e,t){function n(){a.remove(o),r&&(r.onreadystatechange=r.onload=r=null),t()}function i(){"undefined"!=typeof console&&console.log&&console.log("Failed to load: "+e)}var r,o,a=h;o=a.uniqueId(),(r=document.createElement("script")).id=o,r.type="text/javascript",r.src=m._addCacheSuffix(e),"onreadystatechange"in r?r.onreadystatechange=function(){/loaded|complete/.test(r.readyState)&&n()}:r.onload=n,r.onerror=i,(document.getElementsByTagName("head")[0]||document.body).appendChild(r)}var a,i=0,s=1,l=2,c={},r=[],u={},d=[],f=0;this.isDone=function(e){return c[e]==l},this.markDone=function(e){c[e]=l},this.add=this.load=function(e,t,n){c[e]==a&&(r.push(e),c[e]=i),t&&(u[e]||(u[e]=[]),u[e].push({func:t,scope:n||this}))},this.loadQueue=function(e,t){this.loadScripts(r,e,t)},this.loadScripts=function(t,e,n){function i(e){p(u[e],function(e){e.func.call(e.scope)}),u[e]=a}var r;d.push({func:e,scope:n||this}),(r=function(){var e=g(t);t.length=0,p(e,function(e){c[e]!=l?c[e]!=s&&(c[e]=s,f++,o(e,function(){c[e]=l,f--,i(e),r()})):i(e)}),f||(p(d,function(e){e.func.call(e.scope)}),d.length=0)})()}}var h=e.DOM,p=m.each,g=m.grep;return t.ScriptLoader=new t,t}),e("tinymce/AddOnManager",["tinymce/dom/ScriptLoader","tinymce/util/Tools"],function(s,e){function l(){var e=this;e.items=[],e.urls={},e.lookup={}}var c=e.each;return l.prototype={get:function(e){return this.lookup[e]?this.lookup[e].instance:z},dependencies:function(e){var t;return this.lookup[e]&&(t=this.lookup[e].dependencies),t||[]},requireLangPack:function(e,t){var n=l.language;if(n&&!1!==l.languageLoad){if(t)if(-1!=(t=","+t+",").indexOf(","+n.substr(0,2)+","))n=n.substr(0,2);else if(-1==t.indexOf(","+n+","))return;s.ScriptLoader.add(this.urls[e]+"/langs/"+n+".js")}},add:function(e,t,n){return this.items.push(t),this.lookup[e]={instance:t,dependencies:n},t},createUrl:function(e,t){return"object"==typeof t?t:{prefix:e.prefix,resource:t,suffix:e.suffix}},addComponents:function(e,t){var n=this.urls[e];c(t,function(e){s.ScriptLoader.add(n+"/"+e)})},load:function(t,n,i,r){function e(){var e=o.dependencies(t);c(e,function(e){var t=o.createUrl(n,e);o.load(t.resource,t,z,z)}),i&&(r?i.call(r):i.call(s))}var o=this,a=n;o.urls[t]||("object"==typeof n&&(a=n.prefix+n.resource+n.suffix),0!==a.indexOf("/")&&-1==a.indexOf("://")&&(a=l.baseURL+"/"+a),o.urls[t]=a.substring(0,a.lastIndexOf("/")),o.lookup[t]?e():s.ScriptLoader.add(a,e,r))}},l.PluginManager=new l,l.ThemeManager=new l,l}),e("tinymce/dom/RangeUtils",["tinymce/util/Tools","tinymce/dom/TreeWalker"],function(e,g){function y(e,t){var n=e.childNodes;return--t>n.length-1?t=n.length-1:t<0&&(t=0),n[t]||e}function t(v){this.walk=function(e,r){function o(e){var t;return 3===(t=e[0]).nodeType&&t===m&&h>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],0===g&&0<e.length&&t===p&&3===t.nodeType&&e.splice(e.length-1,1),e}function a(e,t,n){for(var i=[];e&&e!=n;e=e[t])i.push(e);return i}function t(e,t){do{if(e.parentNode==t)return e;e=e.parentNode}while(e)}function n(e,t,n){var i=n?"nextSibling":"previousSibling";for(u=(c=e).parentNode;c&&c!=t;c=u)u=c.parentNode,(d=a(c==e?c:c[i],i)).length&&(n||d.reverse(),r(o(d)))}var i,s,l,c,u,d,f,m=e.startContainer,h=e.startOffset,p=e.endContainer,g=e.endOffset;if(0<(f=v.select("td.mce-item-selected,th.mce-item-selected")).length)b(f,function(e){r([e])});else{if(1==m.nodeType&&m.hasChildNodes()&&(m=m.childNodes[h]),1==p.nodeType&&p.hasChildNodes()&&(p=y(p,g)),m==p)return r(o([m]));for(i=v.findCommonAncestor(m,p),c=m;c;c=c.parentNode){if(c===p)return n(m,i,!0);if(c===i)break}for(c=p;c;c=c.parentNode){if(c===m)return n(p,i);if(c===i)break}s=t(m,i)||m,l=t(p,i)||p,n(m,s,!0),(d=a(s==m?s:s.nextSibling,"nextSibling",l==p?l.nextSibling:l)).length&&r(o(d)),n(p,l)}},this.split=function(e){function t(e,t){return e.splitText(t)}var n=e.startContainer,i=e.startOffset,r=e.endContainer,o=e.endOffset;return n==r&&3==n.nodeType?0<i&&i<n.nodeValue.length&&(n=(r=t(n,i)).previousSibling,i<o?(n=r=t(r,o-=i).previousSibling,o=r.nodeValue.length,i=0):o=0):(3==n.nodeType&&0<i&&i<n.nodeValue.length&&(n=t(n,i),i=0),3==r.nodeType&&0<o&&o<r.nodeValue.length&&(o=(r=t(r,o).previousSibling).nodeValue.length)),{startContainer:n,startOffset:i,endContainer:r,endOffset:o}},this.normalize=function(m){function e(e){function t(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)}function n(e,t){for(var n=new g(e,v.getParent(e.parentNode,v.isBlock)||f);e=n[t?"prev":"next"]();)if("BR"===e.nodeName)return!0}function i(e,t){return e.previousSibling&&e.previousSibling.nodeName==t}function r(e,t){var n,i,r;if(t=t||o,r=v.getParent(t.parentNode,v.isBlock)||f,e&&"BR"==t.nodeName&&d&&v.isEmpty(r))return o=t.parentNode,a=v.nodeIndex(t),void(h=!0);for(n=new g(t,r);l=n[e?"prev":"next"]();){if("false"===v.getContentEditableParent(l))return;if(3===l.nodeType&&0<l.nodeValue.length)return o=l,a=e?l.nodeValue.length:0,void(h=!0);if(v.isBlock(l)||c[l.nodeName.toLowerCase()])return;i=l}p&&i&&(o=i,h=!0,a=0)}var o,a,s,l,c,u,d,f=v.getRoot();if(o=m[(e?"start":"end")+"Container"],a=m[(e?"start":"end")+"Offset"],d=1==o.nodeType&&a===o.childNodes.length,c=v.schema.getNonEmptyElements(),u=e,1==o.nodeType&&a>o.childNodes.length-1&&(u=!1),9===o.nodeType&&(o=v.getRoot(),a=0),o===f){if(u&&(l=o.childNodes[0<a?a-1:0])&&(c[l.nodeName]||"TABLE"==l.nodeName))return;if(o.hasChildNodes()&&(a=Math.min(!u&&0<a?a-1:a,o.childNodes.length-1),o=o.childNodes[a],a=0,o.hasChildNodes()&&!/TABLE/.test(o.nodeName))){s=new g(l=o,f);do{if(3===l.nodeType&&0<l.nodeValue.length){a=u?0:l.nodeValue.length,o=l,h=!0;break}if(c[l.nodeName.toLowerCase()]&&!t(l)){a=v.nodeIndex(l),o=l.parentNode,"IMG"!=l.nodeName||u||a++,h=!0;break}}while(l=u?s.next():s.prev())}}p&&(3===o.nodeType&&0===a&&r(!0),1===o.nodeType&&((l=o.childNodes[a])||(l=o.childNodes[a-1]),!l||"BR"!==l.nodeName||i(l,"A")||n(l)||n(l,!0)||r(!0,l))),u&&!p&&3===o.nodeType&&a===o.nodeValue.length&&r(!1),h&&m["set"+(e?"Start":"End")](o,a)}var h,p;return p=m.collapsed,e(!0),p||e(),h&&p&&m.collapse(!0),h}}var b=e.each;return t.compareRanges=function(e,t){if(e&&t){if(!e.item&&!e.duplicate)return e.startContainer==t.startContainer&&e.startOffset==t.startOffset;if(e.item&&t.item&&e.item(0)===t.item(0))return!0;if(e.isEqual&&t.isEqual&&t.isEqual(e))return!0}return!1},t.getCaretRangeFromPoint=function(e,t,n){var i,r;if(n.caretPositionFromPoint)r=n.caretPositionFromPoint(e,t),(i=n.createRange()).setStart(r.offsetNode,r.offset),i.collapse(!0);else if(n.caretRangeFromPoint)i=n.caretRangeFromPoint(e,t);else if(n.body.createTextRange){i=n.body.createTextRange();try{i.moveToPoint(e,t),i.collapse(!0)}catch(o){i.collapse(t<n.body.clientHeight)}}return i},t.getNode=function(e,t){return 1==e.nodeType&&e.hasChildNodes()&&(t>=e.childNodes.length&&(t=e.childNodes.length-1),e=e.childNodes[t]),e},t}),e("tinymce/NodeChange",["tinymce/dom/RangeUtils","tinymce/Env"],function(a,n){return function(o){function t(e){var t,n;if((n=o.$(e).parentsUntil(o.getBody()).add(e)).length===r.length){for(t=n.length;0<=t&&n[t]===r[t];t--);if(-1===t)return r=n,!0}return r=n,!1}var i,r=[];"onselectionchange"in o.getDoc()||o.on("NodeChange Click MouseUp KeyUp Focus",function(e){var t,n;n={startContainer:(t=o.selection.getRng()).startContainer,startOffset:t.startOffset,endContainer:t.endContainer,endOffset:t.endOffset},"nodechange"!=e.type&&a.compareRanges(n,i)||o.fire("SelectionChange"),i=n}),o.on("contextmenu",function(){o.fire("SelectionChange")}),o.on("SelectionChange",function(){var e=o.selection.getStart(!0);!n.range&&o.selection.isCollapsed()||!t(e)&&o.dom.isChildOf(e,o.getBody())&&o.nodeChanged({selectionChange:!0})}),o.on("MouseUp",function(e){e.isDefaultPrevented()||("IMG"==o.selection.getNode().nodeName?setTimeout(function(){o.nodeChanged()},0):o.nodeChanged())}),this.nodeChanged=function(e){var t,n,i,r=o.selection;o.initialized&&r&&!o.settings.disable_nodechange&&!o.settings.readonly&&(i=o.getBody(),"IMG"==(t=(t=r.getStart()||i).ownerDocument!=o.getDoc()?o.getBody():t).nodeName&&r.isCollapsed()&&(t=t.parentNode),n=[],o.dom.getParent(t,function(e){if(e===i)return!0;n.push(e)}),(e=e||{}).element=t,e.parents=n,o.fire("NodeChange",e))}}}),e("tinymce/html/Node",[],function(){function o(e,t,n){var i,r,o=n?"lastChild":"firstChild",a=n?"prev":"next";if(e[o])return e[o];if(e!==t){if(i=e[a])return i;for(r=e.parent;r&&r!==t;r=r.parent)if(i=r[a])return i}}function s(e,t){this.name=e,1===(this.type=t)&&(this.attributes=[],this.attributes.map={})}var a=/^[ \t\r\n]*$/,r={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};return s.prototype={replace:function(e){var t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t},attr:function(e,t){var n,i,r,o=this;if("string"!=typeof e){for(i in e)o.attr(i,e[i]);return o}if(n=o.attributes){if(t!==r){if(null===t){if(e in n.map)for(delete n.map[e],i=n.length;i--;)if(n[i].name===e)return n=n.splice(i,1),o;return o}if(e in n.map){for(i=n.length;i--;)if(n[i].name===e){n[i].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,o}return n.map[e]}},clone:function(){var e,t,n,i,r,o=this,a=new s(o.name,o.type);if(n=o.attributes){for((r=[]).map={},e=0,t=n.length;e<t;e++)"id"!==(i=n[e]).name&&(r[r.length]={name:i.name,value:i.value},r.map[i.name]=i.value);a.attributes=r}return a.value=o.value,a.shortEnded=o.shortEnded,a},wrap:function(e){var t=this;return t.parent.insert(e,t),e.append(t),t},unwrap:function(){var e,t,n=this;for(e=n.firstChild;e;)t=e.next,n.insert(e,n,!0),e=t;n.remove()},remove:function(){var e=this,t=e.parent,n=e.next,i=e.prev;return t&&(t.firstChild===e?(t.firstChild=n)&&(n.prev=null):i.next=n,t.lastChild===e?(t.lastChild=i)&&(i.next=null):n.prev=i,e.parent=e.next=e.prev=null),e},append:function(e){var t,n=this;return e.parent&&e.remove(),(t=n.lastChild)?((t.next=e).prev=t,n.lastChild=e):n.lastChild=n.firstChild=e,e.parent=n,e},insert:function(e,t,n){var i;return e.parent&&e.remove(),i=t.parent||this,n?(t===i.firstChild?i.firstChild=e:t.prev.next=e,e.prev=t.prev,(e.next=t).prev=e):(t===i.lastChild?i.lastChild=e:t.next.prev=e,e.next=t.next,(e.prev=t).next=e),e.parent=i,e},getAll:function(e){var t,n=this,i=[];for(t=n.firstChild;t;t=o(t,n))t.name===e&&i.push(t);return i},empty:function(){var e,t,n,i=this;if(i.firstChild){for(e=[],n=i.firstChild;n;n=o(n,i))e.push(n);for(t=e.length;t--;)(n=e[t]).parent=n.firstChild=n.lastChild=n.next=n.prev=null}return i.firstChild=i.lastChild=null,i},isEmpty:function(e){var t,n,i=this,r=i.firstChild;if(r)do{if(1===r.type){if(r.attributes.map["data-mce-bogus"])continue;if(e[r.name])return!1;for(t=r.attributes.length;t--;)if("name"===(n=r.attributes[t].name)||0===n.indexOf("data-mce-bookmark"))return!1}if(8===r.type)return!1;if(3===r.type&&!a.test(r.value))return!1}while(r=o(r,i));return!0},walk:function(e){return o(this,null,e)}},s.create=function(e,t){var n,i;if(n=new s(e,r[e]||1),t)for(i in t)n.attr(i,t[i]);return n},s}),e("tinymce/html/Schema",["tinymce/util/Tools"],function(e){function k(e,t){return e?e.split(t||" "):[]}function T(e){function t(e,t,n){function i(e,t){var n,i,r={};for(n=0,i=e.length;n<i;n++)r[e[n]]=t||{};return r}var r,o,a,s=arguments;for(t=t||"","string"==typeof(n=n||[])&&(n=k(n)),o=3;o<s.length;o++)"string"==typeof s[o]&&(s[o]=k(s[o])),n.push.apply(n,s[o]);for(r=(e=k(e)).length;r--;)a=[].concat(l,k(t)),c[e[r]]={attributes:i(a),attributesOrder:a,children:i(n,u)}}function n(e,t){var n,i,r,o;for(n=(e=k(e)).length,t=k(t);n--;)for(i=c[e[n]],r=0,o=t.length;r<o;r++)i.attributes[t[r]]={},i.attributesOrder.push(t[r])}var l,i,r,o,a,s,c={};return A[e]?A[e]:(l=k("id accesskey class dir lang style tabindex title"),i=k("address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul"),r=k("a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment"),"html4"!=e&&(l.push.apply(l,k("contenteditable contextmenu draggable dropzone hidden spellcheck translate")),i.push.apply(i,k("article aside details dialog figure header footer hgroup section nav")),r.push.apply(r,k("audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"))),"html5-strict"!=e&&(l.push("xml:lang"),s=k("acronym applet basefont big font strike tt"),r.push.apply(r,s),D(s,function(e){t(e,"",r)}),a=k("center dir isindex noframes"),i.push.apply(i,a),o=[].concat(i,r),D(a,function(e){t(e,"",o)})),o=o||[].concat(i,r),t("html","manifest","head body"),t("head","","base command link meta noscript script style title"),t("title hr noscript br"),t("base","href target"),t("link","href rel media hreflang type sizes hreflang"),t("meta","name http-equiv content charset"),t("style","media type scoped"),t("script","src async defer type charset"),t("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",o),t("address dt dd div caption","",o),t("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",r),t("blockquote","cite",o),t("ol","reversed start type","li"),t("ul","","li"),t("li","value",o),t("dl","","dt dd"),t("a","href target rel media hreflang type",r),t("q","cite",r),t("ins del","cite datetime",o),t("img","src sizes srcset alt usemap ismap width height"),t("iframe","src name width height",o),t("embed","src type width height"),t("object","data type typemustmatch name usemap form width height",o,"param"),t("param","name value"),t("map","name",o,"area"),t("area","alt coords shape href target rel media hreflang type"),t("table","border","caption colgroup thead tfoot tbody tr"+("html4"==e?" col":"")),t("colgroup","span","col"),t("col","span"),t("tbody thead tfoot","","tr"),t("tr","","td th"),t("td","colspan rowspan headers",o),t("th","colspan rowspan headers scope abbr",o),t("form","accept-charset action autocomplete enctype method name novalidate target",o),t("fieldset","disabled form name",o,"legend"),t("label","form for",r),t("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),t("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==e?o:r),t("select","disabled form multiple name required size","option optgroup"),t("optgroup","disabled label","option"),t("option","disabled label selected value"),t("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),t("menu","type label",o,"li"),t("noscript","",o),"html4"!=e&&(t("wbr"),t("ruby","",r,"rt rp"),t("figcaption","",o),t("mark rt rp summary bdi","",r),t("canvas","width height",o),t("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",o,"track source"),t("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",o,"track source"),t("picture","","img source"),t("source","src srcset type media sizes"),t("track","kind src srclang label default"),t("datalist","",r,"option"),t("article section nav aside header footer","",o),t("hgroup","","h1 h2 h3 h4 h5 h6"),t("figure","",o,"figcaption"),t("time","datetime",r),t("dialog","open",o),t("command","type label icon disabled checked radiogroup command"),t("output","for form name",r),t("progress","value max",r),t("meter","value min max low high optimum",r),t("details","open",o,"summary"),t("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!=e&&(n("script","language xml:space"),n("style","xml:space"),n("object","declare classid code codebase codetype archive standby align border hspace vspace"),n("embed","align name hspace vspace"),n("param","valuetype type"),n("a","charset name rev shape coords"),n("br","clear"),n("applet","codebase archive code object alt name width height align hspace vspace"),n("img","name longdesc align border hspace vspace"),n("iframe","longdesc frameborder marginwidth marginheight scrolling align"),n("font basefont","size color face"),n("input","usemap align"),n("select","onchange"),n("textarea"),n("h1 h2 h3 h4 h5 h6 div p legend caption","align"),n("ul","type compact"),n("li","type"),n("ol dl menu dir","compact"),n("pre","width xml:space"),n("hr","align noshade size width"),n("isindex","prompt"),n("table","summary width frame rules cellspacing cellpadding align bgcolor"),n("col","width align char charoff valign"),n("colgroup","width align char charoff valign"),n("thead","align char charoff valign"),n("tr","align char charoff valign bgcolor"),n("th","axis align char charoff valign nowrap bgcolor width height"),n("form","accept"),n("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),n("tfoot","align char charoff valign"),n("tbody","align char charoff valign"),n("area","nohref"),n("body","background bgcolor text link vlink alink")),"html4"!=e&&(n("input button select textarea","autofocus"),n("input textarea","placeholder"),n("a","download"),n("link script img","crossorigin"),n("iframe","sandbox seamless allowfullscreen")),D(k("a form meter progress dfn"),function(e){c[e]&&delete c[e].children[e]}),delete c.caption.children.table,delete c.script,A[e]=c)}function R(e,n){var i;return e&&(i={},"string"==typeof e&&(e={"*":e}),D(e,function(e,t){i[t]=i[t.toUpperCase()]="map"==n?B(e,/[, ]/):P(e,/[, ]/)})),i}var A={},u={},B=e.makeMap,D=e.each,M=e.extend,P=e.explode,O=e.inArray;return function(o){function e(e,t,n){var i=o[e];return i?i=B(i,/[, ]/,B(i.toUpperCase(),/[, ]/)):(i=A[e])||(i=B(t," ",B(t.toUpperCase()," ")),i=M(i,n),A[e]=i),i}function _(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")}function t(e){var t,n,i,r,o,a,s,l,c,u,d,f,m,h,p,g,v,y,b,x=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,C=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,w=/[*?+]/;if(e)for(e=k(e,","),E["@"]&&(g=E["@"].attributes,v=E["@"].attributesOrder),t=0,n=e.length;t<n;t++)if(o=x.exec(e[t])){if(h=o[1],c=o[2],p=o[3],l=o[5],a={attributes:f={},attributesOrder:m=[]},"#"===h&&(a.paddEmpty=!0),"-"===h&&(a.removeEmpty=!0),"!"===o[4]&&(a.removeEmptyAttrs=!0),g){for(y in g)f[y]=g[y];m.push.apply(m,v)}if(l)for(i=0,r=(l=k(l,"|")).length;i<r;i++)if(o=C.exec(l[i])){if(s={},d=o[1],u=o[2].replace(/::/g,":"),h=o[3],b=o[4],"!"===d&&(a.attributesRequired=a.attributesRequired||[],
a.attributesRequired.push(u),s.required=!0),"-"===d){delete f[u],m.splice(O(m,u),1);continue}h&&("="===h&&(a.attributesDefault=a.attributesDefault||[],a.attributesDefault.push({name:u,value:b}),s.defaultValue=b),":"===h&&(a.attributesForced=a.attributesForced||[],a.attributesForced.push({name:u,value:b}),s.forcedValue=b),"<"===h&&(s.validValues=B(b,"?"))),w.test(u)?(a.attributePatterns=a.attributePatterns||[],s.pattern=_(u),a.attributePatterns.push(s)):(f[u]||m.push(u),f[u]=s)}g||"@"!=c||(g=f,v=m),p&&(a.outputName=c,E[p]=a),w.test(c)?(a.pattern=_(c),S.push(a)):E[c]=a}}function n(e){E={},S=[],t(e),D(c,function(e,t){C[t]=e.children})}function i(e){var a=/^(~)?(.+)$/;e&&(A.text_block_elements=A.block_elements=null,D(k(e,","),function(e){var t=a.exec(e),n="~"===t[1],i=n?"span":"div",r=t[2];if(C[r]=C[i],w[r]=i,n||(p[r.toUpperCase()]={},p[r]={}),!E[r]){var o=E[i];delete(o=M({},o)).removeEmptyAttrs,delete o.removeEmpty,E[r]=o}D(C,function(e,t){e[i]&&(C[t]=e=M({},C[t]),e[r]=e[i])})}))}function r(e){var r=/^([+\-]?)(\w+)\[([^\]]+)\]$/;A[o.schema]=null,e&&D(k(e,","),function(e){var t,n,i=r.exec(e);i&&(n=i[1],t=n?C[i[2]]:C[i[2]]={"#comment":{}},t=C[i[2]],D(k(i[3],"|"),function(e){"-"===n?delete t[e]:t[e]={}}))})}function a(e){var t,n=E[e];if(n)return n;for(t=S.length;t--;)if((n=S[t]).pattern.test(e))return n}var s,l,c,u,d,f,m,h,p,g,v,y,b,x=this,E={},C={},S=[],w={},N={};c=T((o=o||{}).schema),!1===o.verify_html&&(o.valid_elements="*[*]"),s=R(o.valid_styles),l=R(o.invalid_styles,"map"),h=R(o.valid_classes,"map"),u=e("whitespace_elements","pre script noscript style textarea video audio iframe object"),d=e("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),f=e("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),m=e("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),g=e("non_empty_elements","td th iframe video audio object script",f),v=e("move_caret_before_on_enter_elements","table",g),y=e("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),p=e("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup",y),b=e("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),D((o.special||"script noscript style textarea").split(" "),function(e){N[e]=new RegExp("</"+e+"[^>]*>","gi")}),o.valid_elements?n(o.valid_elements):(D(c,function(e,t){E[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},C[t]=e.children}),"html5"!=o.schema&&D(k("strong/b em/i"),function(e){e=k(e,"/"),E[e[1]].outputName=e[0]}),E.img.attributesDefault=[{name:"alt",value:""}],D(k("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(e){E[e]&&(E[e].removeEmpty=!0)}),D(k("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),function(e){E[e].paddEmpty=!0}),D(k("span"),function(e){E[e].removeEmptyAttrs=!0})),i(o.custom_elements),r(o.valid_children),t(o.extended_valid_elements),r("+ol[ul|ol],+ul[ul|ol]"),o.invalid_elements&&D(P(o.invalid_elements),function(e){E[e]&&delete E[e]}),a("span")||t("span[!data-mce-type|*]"),x.children=C,x.getValidStyles=function(){return s},x.getInvalidStyles=function(){return l},x.getValidClasses=function(){return h},x.getBoolAttrs=function(){return m},x.getBlockElements=function(){return p},x.getTextBlockElements=function(){return y},x.getTextInlineElements=function(){return b},x.getShortEndedElements=function(){return f},x.getSelfClosingElements=function(){return d},x.getNonEmptyElements=function(){return g},x.getMoveCaretBeforeOnEnterElements=function(){return v},x.getWhiteSpaceElements=function(){return u},x.getSpecialElements=function(){return N},x.isValidChild=function(e,t){var n=C[e];return!(!n||!n[t])},x.isValid=function(e,t){var n,i,r=a(e);if(r){if(!t)return!0;if(r.attributes[t])return!0;if(n=r.attributePatterns)for(i=n.length;i--;)if(n[i].pattern.test(e))return!0}return!1},x.getElementRule=a,x.getCustomElements=function(){return w},x.addValidElements=t,x.setValidElements=n,x.addCustomElements=i,x.addValidChildren=r,x.elements=E}}),e("tinymce/html/SaxParser",["tinymce/html/Schema","tinymce/html/Entities","tinymce/util/Tools"],function(e,W,U){function V(e,t,n){var i,r,o,a,s=1;for(a=e.getShortEndedElements(),(o=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g).lastIndex=i=n;r=o.exec(t);){if(i=o.lastIndex,"/"===r[1])s--;else if(!r[1]){if(r[2]in a)continue;s++}if(0===s)break}return i}function t(F,z){function t(){}var n=this;F=F||{},n.schema=z=z||new e,!1!==F.fix_self_closing&&(F.fix_self_closing=!0),i("comment cdata text start end pi doctype".split(" "),function(e){e&&(n[e]=F[e]||t)}),n.parse=function(e){function t(e){var t,n;for(t=M.length;t--&&M[t].name!==e;);if(0<=t){for(n=M.length-1;t<=n;n--)(e=M[n]).valid&&B.end(e.name);M.length=t}}function n(e,t,n,i,r){var o,a,s=/[\s\u0000-\u001F]+/g;if(n=(t=t.toLowerCase())in m?t:O(n||i||r||""),p&&!d&&0!==t.indexOf("data-")){if(!(o=x[t])&&C){for(a=C.length;a--&&!(o=C[a]).pattern.test(t););-1===a&&(o=null)}if(!o)return;if(o.validValues&&!(n in o.validValues))return}if(L[t]&&!F.allow_script_urls){var l=n.replace(s,"");try{l=decodeURIComponent(l)}catch(c){l=unescape(l)}if(H.test(l))return;if(!F.allow_html_data_urls&&I.test(l)&&!/^data:image\//i.test(l))return}u.map[t]=n,u.push({name:t,value:n})}var i,r,o,u,a,s,l,d,c,f,m,h,p,g,v,y,b,x,C,w,_,E,S,N,k,T,R,A,B=this,D=0,M=[],P=0,O=W.decode,L=U.makeMap("src,href,data,background,formaction,poster"),H=/((java|vb)script|mhtml):/i,I=/^data:/i;for(N=new RegExp("<(?:(?:!--([\\w\\W]*?)-->)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-_\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),k=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,f=z.getShortEndedElements(),S=F.self_closing_elements||z.getSelfClosingElements(),m=z.getBoolAttrs(),p=F.validate,c=F.remove_internals,A=F.fix_self_closing,T=z.getSpecialElements();i=N.exec(e);){if(D<i.index&&B.text(O(e.substr(D,i.index-D))),r=i[6])":"===(r=r.toLowerCase()).charAt(0)&&(r=r.substr(1)),t(r);else if(r=i[7]){if(":"===(r=r.toLowerCase()).charAt(0)&&(r=r.substr(1)),h=r in f,A&&S[r]&&0<M.length&&M[M.length-1].name===r&&t(r),!p||(g=z.getElementRule(r))){if(v=!0,p&&(x=g.attributes,C=g.attributePatterns),(b=i[8])?((d=-1!==b.indexOf("data-mce-type"))&&c&&(v=!1),(u=[]).map={},b.replace(k,n)):(u=[]).map={},p&&!d){if(w=g.attributesRequired,_=g.attributesDefault,E=g.attributesForced,g.removeEmptyAttrs&&!u.length&&(v=!1),E)for(a=E.length;a--;)l=(y=E[a]).name,"{$uid}"===(R=y.value)&&(R="mce_"+P++),u.map[l]=R,u.push({name:l,value:R});if(_)for(a=_.length;a--;)(l=(y=_[a]).name)in u.map||("{$uid}"===(R=y.value)&&(R="mce_"+P++),u.map[l]=R,u.push({name:l,value:R}));if(w){for(a=w.length;a--&&!(w[a]in u.map););-1===a&&(v=!1)}if(y=u.map["data-mce-bogus"]){if("all"===y){D=V(z,e,N.lastIndex),N.lastIndex=D;continue}v=!1}}v&&B.start(r,u,h)}else v=!1;if(o=T[r]){o.lastIndex=D=i.index+i[0].length,(i=o.exec(e))?(v&&(s=e.substr(D,i.index-D)),D=i.index+i[0].length):(s=e.substr(D),D=e.length),v&&(0<s.length&&B.text(s,!0),B.end(r)),N.lastIndex=D;continue}h||(b&&b.indexOf("/")==b.length-1?v&&B.end(r):M.push({name:r,valid:v}))}else(r=i[1])?(">"===r.charAt(0)&&(r=" "+r),F.allow_conditional_comments||"[if"!==r.substr(0,3)||(r=" "+r),B.comment(r)):(r=i[2])?B.cdata(r):(r=i[3])?B.doctype(r):(r=i[4])&&B.pi(r,i[5]);D=i.index+i[0].length}for(D<e.length&&B.text(O(e.substr(D))),a=M.length-1;0<=a;a--)(r=M[a]).valid&&B.end(r.name)}}var i=U.each;return t.findEndTag=V,t}),e("tinymce/html/DomParser",["tinymce/html/Node","tinymce/html/Schema","tinymce/html/SaxParser","tinymce/util/Tools"],function(O,e,L,t){var H=t.makeMap,i=t.each,r=t.explode,I=t.extend;return function(T,R){function A(e){var t,n,i,r,o,a,s,l,c,u,d,f,m,h,p;for(d=H("tr,td,th,tbody,thead,tfoot,table"),u=R.getNonEmptyElements(),f=R.getTextBlockElements(),m=R.getSpecialElements(),t=0;t<e.length;t++)if((n=e[t]).parent&&!n.fixed)if(f[n.name]&&"li"==n.parent.name){for(h=n.next;h&&f[h.name];)h.name="li",h.fixed=!0,n.parent.insert(h,n.parent),h=h.next;n.unwrap(n)}else{for(r=[n],i=n.parent;i&&!R.isValidChild(i.name,n.name)&&!d[i.name];i=i.parent)r.push(i);if(i&&1<r.length){for(r.reverse(),o=a=g.filterNode(r[0].clone()),c=0;c<r.length-1;c++){for(R.isValidChild(a.name,r[c].name)?(s=g.filterNode(r[c].clone()),a.append(s)):s=a,l=r[c].firstChild;l&&l!=r[c+1];)p=l.next,s.append(l),l=p;a=s}o.isEmpty(u)?i.insert(n,r[0],!0):(i.insert(o,r[0],!0),i.insert(n,o)),((i=r[0]).isEmpty(u)||i.firstChild===i.lastChild&&"br"===i.firstChild.name)&&i.empty().remove()}else if(n.parent){if("li"===n.name){if((h=n.prev)&&("ul"===h.name||"ul"===h.name)){h.append(n);continue}if((h=n.next)&&("ul"===h.name||"ul"===h.name)){h.insert(n,h.firstChild,!0);continue}n.wrap(g.filterNode(new O("ul",1)));continue}R.isValidChild(n.parent.name,"div")&&R.isValidChild("div",n.name)?n.wrap(g.filterNode(new O("div",1))):m[n.name]?n.empty().remove():n.unwrap()}}}var g=this,B={},D=[],M={},P={};(T=T||{}).validate=!("validate"in T)||T.validate,T.root_name=T.root_name||"body",g.schema=R=R||new e,g.filterNode=function(e){var t,n,i;n in B&&((i=M[n])?i.push(e):M[n]=[e]),t=D.length;for(;t--;)(n=D[t].name)in e.attributes.map&&((i=P[n])?i.push(e):P[n]=[e]);return e},g.addNodeFilter=function(e,n){i(r(e),function(e){var t=B[e];t||(B[e]=t=[]),t.push(n)})},g.addAttributeFilter=function(e,n){i(r(e),function(e){var t;for(t=0;t<D.length;t++)if(D[t].name===e)return void D[t].callbacks.push(n);D.push({name:e,callbacks:[n]})})},g.parse=function(e,t){function n(){function e(e){e&&((i=e.firstChild)&&3==i.type&&(i.value=i.value.replace(y,"")),(i=e.lastChild)&&3==i.type&&(i.value=i.value.replace(x,"")))}var t,n,i=o.firstChild;if(R.isValidChild(o.name,N.toLowerCase())){for(;i;)t=i.next,3==i.type||1==i.type&&"p"!==i.name&&!v[i.name]&&!i.attr("data-mce-type")?(n||((n=l(N,1)).attr(T.forced_root_block_attrs),o.insert(n,i)),n.append(i)):(e(n),n=null),i=t;e(n)}}function l(e,t){var n,i=new O(e,t);return e in B&&((n=M[e])?n.push(i):M[e]=[i]),i}function c(e){var t,n,i,r,o=R.getBlockElements();for(t=e.prev;t&&3===t.type;){if(0<(i=t.value.replace(x,"")).length)return void(t.value=i);if(n=t.next){if(3==n.type&&n.value.length){t=t.prev;continue}if(!o[n.name]&&"script"!=n.name&&"style"!=n.name){t=t.prev;continue}}r=t.prev,t.remove(),t=r}}function i(e){var t,n={};for(t in e)"li"!==t&&"p"!=t&&(n[t]=e[t]);return n}var r,o,u,a,s,d,f,m,h,p,g,v,y,b,x,C,w,_,E,S,N,k=[];if(t=t||{},M={},P={},v=I(H("script,style,head,html,body,title,meta,param"),R.getBlockElements()),S=R.getNonEmptyElements(),E=R.children,g=T.validate,N="forced_root_block"in t?t.forced_root_block:T.forced_root_block,_=R.getWhiteSpaceElements(),y=/^[ \t\r\n]+/,x=/[ \t\r\n]+$/,C=/[ \t\r\n]+/g,w=/^[ \t\r\n]+$/,r=new L({validate:g,allow_script_urls:T.allow_script_urls,allow_conditional_comments:T.allow_conditional_comments,self_closing_elements:i(R.getSelfClosingElements()),cdata:function(e){u.append(l("#cdata",4)).value=e},text:function(e,t){var n;b||(e=e.replace(C," "),u.lastChild&&v[u.lastChild.name]&&(e=e.replace(y,""))),0!==e.length&&((n=l("#text",3)).raw=!!t,u.append(n).value=e)},comment:function(e){u.append(l("#comment",8)).value=e},pi:function(e,t){u.append(l(e,7)).value=t,c(u)},doctype:function(e){u.append(l("#doctype",10)).value=e,c(u)},start:function(e,t,n){var i,r,o,a,s;if(o=g?R.getElementRule(e):{}){for((i=l(o.outputName||e,1)).attributes=t,i.shortEnded=n,u.append(i),(s=E[u.name])&&E[i.name]&&!s[i.name]&&k.push(i),r=D.length;r--;)(a=D[r].name)in t.map&&((h=P[a])?h.push(i):P[a]=[i]);v[e]&&c(i),n||(u=i),!b&&_[e]&&(b=!0)}},end:function(e){var t,n,i,r,o;if(n=g?R.getElementRule(e):{}){if(v[e]&&!b){if((t=u.firstChild)&&3===t.type)if(0<(i=t.value.replace(y,"")).length)t.value=i,t=t.next;else for(r=t.next,t.remove(),t=r;t&&3===t.type;)i=t.value,r=t.next,(0===i.length||w.test(i))&&(t.remove(),t=r),t=r;if((t=u.lastChild)&&3===t.type)if(0<(i=t.value.replace(x,"")).length)t.value=i,t=t.prev;else for(r=t.prev,t.remove(),t=r;t&&3===t.type;)i=t.value,r=t.prev,(0===i.length||w.test(i))&&(t.remove(),t=r),t=r}if(b&&_[e]&&(b=!1),(n.removeEmpty||n.paddEmpty)&&u.isEmpty(S))if(n.paddEmpty)u.empty().append(new O("#text","3")).value="\xa0";else if(!u.attributes.map.name&&!u.attributes.map.id)return o=u.parent,v[u.name]?u.empty().remove():u.unwrap(),void(u=o);u=u.parent}}},R),o=u=new O(t.context||T.root_name,11),r.parse(e),g&&k.length&&(t.context?t.invalid=!0:A(k)),N&&("body"==o.name||t.isRootContent)&&n(),!t.invalid){for(p in M){for(h=B[p],f=(a=M[p]).length;f--;)a[f].parent||a.splice(f,1);for(s=0,d=h.length;s<d;s++)h[s](a,p,t)}for(s=0,d=D.length;s<d;s++)if((h=D[s]).name in P){for(f=(a=P[h.name]).length;f--;)a[f].parent||a.splice(f,1);for(f=0,m=h.callbacks.length;f<m;f++)h.callbacks[f](a,h.name,t)}}return o},T.remove_trailing_brs&&g.addNodeFilter("br",function(e){var t,n,i,r,o,a,s,l,c=e.length,u=I({},R.getBlockElements()),d=R.getNonEmptyElements();for(u.body=1,t=0;t<c;t++)if(i=(n=e[t]).parent,u[n.parent.name]&&n===i.lastChild){for(o=n.prev;o;){if("span"!==(a=o.name)||"bookmark"!==o.attr("data-mce-type")){if("br"!==a)break;if("br"===a){n=null;break}}o=o.prev}n&&(n.remove(),i.isEmpty(d)&&(s=R.getElementRule(i.name))&&(s.removeEmpty?i.remove():s.paddEmpty&&(i.empty().append(new O("#text",3)).value="\xa0")))}else{for(r=n;i&&i.firstChild===r&&i.lastChild===r&&!u[(r=i).name];)i=i.parent;r===i&&((l=new O("#text",3)).value="\xa0",n.replace(l))}}),T.allow_html_in_named_anchor||g.addAttributeFilter("id,name",function(e){for(var t,n,i,r,o=e.length;o--;)if("a"===(r=e[o]).name&&r.firstChild&&!r.attr("href"))for(i=r.parent,t=r.lastChild;n=t.prev,i.insert(t,r),t=n;);}),T.validate&&R.getValidClasses()&&g.addAttributeFilter("class",function(e){for(var t,n,i,r,o,a,s,l=e.length,c=R.getValidClasses();l--;){for(n=(t=e[l]).attr("class").split(" "),o="",i=0;i<n.length;i++)r=n[i],s=!1,(a=c["*"])&&a[r]&&(s=!0),a=c[t.name],!s&&a&&a[r]&&(s=!0),s&&(o&&(o+=" "),o+=r);o.length||(o=null),t.attr("class",o)}})}}),e("tinymce/html/Writer",["tinymce/html/Entities","tinymce/util/Tools"],function(t,e){var n=e.makeMap;return function(e){var s,l,c,u,d,f=[];return s=(e=e||{}).indent,l=n(e.indent_before||""),c=n(e.indent_after||""),u=t.getEncodeFunc(e.entity_encoding||"raw",e.entities),d="html"==e.element_format,{start:function(e,t,n){var i,r,o,a;if(s&&l[e]&&0<f.length&&0<(a=f[f.length-1]).length&&"\n"!==a&&f.push("\n"),f.push("<",e),t)for(i=0,r=t.length;i<r;i++)o=t[i],f.push(" ",o.name,'="',u(o.value,!0),'"');f[f.length]=!n||d?">":" />",n&&s&&c[e]&&0<f.length&&0<(a=f[f.length-1]).length&&"\n"!==a&&f.push("\n")},end:function(e){var t;f.push("</",e,">"),s&&c[e]&&0<f.length&&0<(t=f[f.length-1]).length&&"\n"!==t&&f.push("\n")},text:function(e,t){0<e.length&&(f[f.length]=t?e:u(e))},cdata:function(e){f.push("<![CDATA[",e,"]]>")},comment:function(e){f.push("<!--",e,"-->")},pi:function(e,t){t?f.push("<?",e," ",u(t),"?>"):f.push("<?",e,"?>"),s&&f.push("\n")},doctype:function(e){f.push("<!DOCTYPE",e,">",s?"\n":"")},reset:function(){f.length=0},getContent:function(){return f.join("").replace(/\n$/,"")}}}}),e("tinymce/html/Serializer",["tinymce/html/Writer","tinymce/html/Schema"],function(n,i){return function(t,h){var e=this,p=new n(t);(t=t||{}).validate=!("validate"in t)||t.validate,e.schema=h=h||new i,e.writer=p,e.serialize=function(e){function d(e){var t,n,i,r,o,a,s,l,c,u=f[e.type];if(u)u(e);else{if(t=e.name,n=e.shortEnded,i=e.attributes,m&&i&&1<i.length&&((a=[]).map={},c=h.getElementRule(e.name))){for(s=0,l=c.attributesOrder.length;s<l;s++)(r=c.attributesOrder[s])in i.map&&(o=i.map[r],a.map[r]=o,a.push({name:r,value:o}));for(s=0,l=i.length;s<l;s++)(r=i[s].name)in a.map||(o=i.map[r],a.map[r]=o,a.push({name:r,value:o}));i=a}if(p.start(e.name,i,n),!n){if(e=e.firstChild)for(;d(e),e=e.next;);p.end(t)}}}var f,m;return m=t.validate,f={3:function(e){p.text(e.value,e.raw)},8:function(e){p.comment(e.value)},7:function(e){p.pi(e.name,e.value)},10:function(e){p.doctype(e.value)},4:function(e){p.cdata(e.value)},11:function(e){if(e=e.firstChild)for(;d(e),e=e.next;);}},p.reset(),1!=e.type||t.inner?f[11](e):d(e),p.getContent()}}}),e("tinymce/dom/Serializer",["tinymce/dom/DOMUtils","tinymce/html/DomParser","tinymce/html/Entities","tinymce/html/Serializer","tinymce/html/Node","tinymce/html/Schema","tinymce/Env","tinymce/util/Tools"],function(e,n,i,m,t,r,h,o){function p(e){function t(e){return e&&"br"===e.name}var n,i;t(n=e.lastChild)&&t(i=n.prev)&&(n.remove(),i.remove())}var g=o.each,v=o.trim,a=e.DOM;return function(c,t){var u,d,f;return t&&(u=t.dom,d=t.schema),u=u||a,d=d||new r(c),c.entity_encoding=c.entity_encoding||"named",c.remove_trailing_brs=!("remove_trailing_brs"in c)||c.remove_trailing_brs,(f=new n(c,d)).addAttributeFilter("data-mce-tabindex",function(e,t){for(var n,i=e.length;i--;)(n=e[i]).attr("tabindex",n.attributes.map["data-mce-tabindex"]),n.attr(t,null)}),f.addAttributeFilter("src,href,style",function(e,t){for(var n,i,r,o=e.length,a="data-mce-"+t,s=c.url_converter,l=c.url_converter_scope;o--;)(i=(n=e[o]).attributes.map[a])!==r?(n.attr(t,0<i.length?i:null),n.attr(a,null)):(i=n.attributes.map[t],"style"===t?i=u.serializeStyle(u.parseStyle(i),n.name):s&&(i=s.call(l,i,t,n.name)),n.attr(t,0<i.length?i:null))}),f.addAttributeFilter("class",function(e){for(var t,n,i=e.length;i--;)(n=(t=e[i]).attr("class"))&&(n=t.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),t.attr("class",0<n.length?n:null))}),f.addAttributeFilter("data-mce-type",function(e,t,n){for(var i,r=e.length;r--;)"bookmark"!==(i=e[r]).attributes.map["data-mce-type"]||n.cleanup||i.remove()}),f.addNodeFilter("noscript",function(e){for(var t,n=e.length;n--;)(t=e[n].firstChild)&&(t.value=i.decode(t.value))}),f.addNodeFilter("script,style",function(e,t){function n(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}for(var i,r,o,a=e.length;a--;)r=(i=e[a]).firstChild?i.firstChild.value:"","script"===t?((o=i.attr("type"))&&i.attr("type","mce-no/type"==o?null:o.replace(/^mce\-/,"")),0<r.length&&(i.firstChild.value="// <![CDATA[\n"+n(r)+"\n// ]]>")):0<r.length&&(i.firstChild.value="<!--\n"+n(r)+"\n-->")}),f.addNodeFilter("#comment",function(e){for(var t,n=e.length;n--;)0===(t=e[n]).value.indexOf("[CDATA[")?(t.name="#cdata",t.type=4,t.value=t.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===t.value.indexOf("mce:protected ")&&(t.name="#text",t.type=3,t.raw=!0,t.value=unescape(t.value).substr(14))}),f.addNodeFilter("xml:namespace,input",function(e,t){for(var n,i=e.length;i--;)7===(n=e[i]).type?n.remove():1===n.type&&("input"!==t||"type"in n.attributes.map||n.attr("type","text"))}),c.fix_list_elements&&f.addNodeFilter("ul,ol",function(e){for(var t,n,i=e.length;i--;)"ul"!==(n=(t=e[i]).parent).name&&"ol"!==n.name||t.prev&&"li"===t.prev.name&&t.prev.append(t)}),f.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),{schema:d,addNodeFilter:f.addNodeFilter,addAttributeFilter:f.addAttributeFilter,serialize:function(e,t){var n,i,r,o,a,s,l=this;return h.ie&&0<u.select("script,style,select,map").length?(a=e.innerHTML,e=e.cloneNode(!1),u.setHTML(e,a)):e=e.cloneNode(!0),(n=e.ownerDocument.implementation).createHTMLDocument&&(i=n.createHTMLDocument(""),g("BODY"==e.nodeName?e.childNodes:[e],function(e){i.body.appendChild(i.importNode(e,!0))}),e="BODY"!=e.nodeName?i.body.firstChild:i.body,r=u.doc,u.doc=i),(t=t||{}).format=t.format||"html",t.selection&&(t.forced_root_block=""),t.no_events||(t.node=e,l.onPreProcess(t)),p(s=f.parse(v(t.getInner?e.innerHTML:u.getOuterHTML(e)),t)),o=new m(c,d),t.content=o.serialize(s),t.cleanup||(t.content=t.content.replace(/\uFEFF/g,"")),t.no_events||l.onPostProcess(t),r&&(u.doc=r),t.node=null,t.content},addRules:function(e){d.addValidElements(e)},setRules:function(e){d.setValidElements(e)},onPreProcess:function(e){t&&t.fire("PreProcess",e)},onPostProcess:function(e){t&&t.fire("PostProcess",e)}}}}),e("tinymce/dom/TridentSelection",[],function(){function e(h){function u(e,t){var n,i,r,o,a,s,l,c,u=0,d=-1;if((n=e.duplicate()).collapse(t),(c=n.parentElement()).ownerDocument===h.dom.doc){for(;"false"===c.contentEditable;)c=c.parentNode;if(!c.hasChildNodes())return{node:c,inside:1};for(i=(o=c.children).length-1;u<=i;)if(a=o[l=Math.floor((u+i)/2)],n.moveToElementText(a),0<(d=n.compareEndPoints(t?"StartToStart":"EndToEnd",e)))i=l-1;else{if(!(d<0))return{node:a};u=l+1}if(d<0)for(a?n.collapse(!1):(n.moveToElementText(c),n.collapse(!0),a=c,r=!0),s=0;0!==n.compareEndPoints(t?"StartToStart":"StartToEnd",e)&&0!==n.move("character",1)&&c==n.parentElement();)s++;else for(n.collapse(!0),s=0;0!==n.compareEndPoints(t?"StartToStart":"StartToEnd",e)&&0!==n.move("character",-1)&&c==n.parentElement();)s++;return{node:a,position:d,offset:s,inside:r}}}function e(){function e(e){var t,n,i,r,o,a=u(l,e),s=0;if(t=a.node,n=a.offset,!a.inside||t.hasChildNodes())if(n!==r){if(a.position<0){if(!(i=a.inside?t.firstChild:t.nextSibling))return void c[e?"setStartAfter":"setEndAfter"](t);if(!n)return void(3==i.nodeType?c[e?"setStart":"setEnd"](i,0):c[e?"setStartBefore":"setEndBefore"](i));for(;i;){if(3==i.nodeType&&n<=(s+=(o=i.nodeValue).length)){t=i,s-=n,s=o.length-s;break}i=i.nextSibling}}else{if(!(i=t.previousSibling))return c[e?"setStartBefore":"setEndBefore"](t);if(!n)return void(3==t.nodeType?c[e?"setStart":"setEnd"](i,t.nodeValue.length):c[e?"setStartAfter":"setEndAfter"](i));for(;i;){if(3==i.nodeType&&n<=(s+=i.nodeValue.length)){t=i,s-=n;break}i=i.previousSibling}}c[e?"setStart":"setEnd"](t,s)}else c[e?"setStartBefore":"setEndAfter"](t);else c[e?"setStart":"setEnd"](t,0)}var t,n,i,r,o,l=h.getRng(),c=p.createRng();if((t=l.item?l.item(0):l.parentElement()).ownerDocument!=p.doc)return c;if(n=h.isCollapsed(),l.item)return c.setStart(t.parentNode,p.nodeIndex(t)),c.setEnd(c.startContainer,c.startOffset+1),c;try{e(!0),n||e()}catch(a){if(-2147024809!=a.number)throw a;o=s.getBookmark(2),(i=l.duplicate()).collapse(!0),t=i.parentElement(),n||((i=l.duplicate()).collapse(!1),(r=i.parentElement()).innerHTML=r.innerHTML),t.innerHTML=t.innerHTML,s.moveToBookmark(o),l=h.getRng(),e(!0),n||e()}return c}var s=this,p=h.dom,g=!1;this.getBookmark=function(e){function n(e){var t,n,i,r,o=[];for(t=e.parentNode,n=p.getRoot().parentNode;t!=n&&9!==t.nodeType;){for(r=(i=t.children).length;r--;)if(e===i[r]){o.push(r);break}t=(e=t).parentNode}return o}function t(e){var t;if(t=u(i,e))return{position:t.position,offset:t.offset,indexes:n(t.node),inside:t.inside}}var i=h.getRng(),r={};return 2===e&&(i.item?r.start={ctrl:!0,indexes:n(i.item(0))}:(r.start=t(!0),h.isCollapsed()||(r.end=t()))),r},this.moveToBookmark=function(a){function s(e){var t,n,i,r;for(t=p.getRoot(),n=e.length-1;0<=n;n--)r=t.children,(i=e[n])<=r.length-1&&(t=r[i]);return t}function e(e){var t,n,i,r,o=a[e?"start":"end"];o&&(t=0<o.position,(n=c.createTextRange()).moveToElementText(s(o.indexes)),(r=o.offset)!==i?(n.collapse(o.inside||t),n.moveStart("character",t?-r:r)):n.collapse(e),l.setEndPoint(e?"StartToStart":"EndToStart",n),e&&l.collapse(!0))}var l,c=p.doc.body;a.start&&(a.start.ctrl?(l=c.createControlRange()).addElement(s(a.start.indexes)):(l=c.createTextRange(),e(!0),e()),l.select())},this.addRange=function(e){function t(e){var t,n,i,r,o;i=p.create("a"),t=e?s:c,n=e?l:u,r=a.duplicate(),t!=d&&t!=d.documentElement||(t=f,n=0),3==t.nodeType?(t.parentNode.insertBefore(i,t),r.moveToElementText(i),r.moveStart("character",n),p.remove(i),a.setEndPoint(e?"StartToStart":"EndToEnd",r)):((o=t.childNodes).length?(n>=o.length?p.insertAfter(i,o[o.length-1]):t.insertBefore(i,o[n]),r.moveToElementText(i)):t.canHaveHTML&&(t.innerHTML="<span>&#xFEFF;</span>",i=t.firstChild,r.moveToElementText(i),r.collapse(g)),a.setEndPoint(e?"StartToStart":"EndToEnd",r),p.remove(i))}var a,n,s,l,c,u,i,r,o,d=h.dom.doc,f=d.body;if(s=e.startContainer,l=e.startOffset,c=e.endContainer,u=e.endOffset,a=f.createTextRange(),s==c&&1==s.nodeType){if(l==u&&!s.hasChildNodes()){if(s.canHaveHTML)return(i=s.previousSibling)&&!i.hasChildNodes()&&p.isBlock(i)?i.innerHTML="&#xFEFF;":i=null,s.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>",a.moveToElementText(s.lastChild),a.select(),p.doc.selection.clear(),s.innerHTML="",void(i&&(i.innerHTML=""));l=p.nodeIndex(s),s=s.parentNode}if(l==u-1)try{if(o=s.childNodes[l],(n=f.createControlRange()).addElement(o),n.select(),(r=h.getRng()).item&&o===r.item(0))return}catch(m){}}t(!0),t(),a.select()},this.getRangeAt=e}return e}),e("tinymce/util/VK",["tinymce/Env"],function(t){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||this.metaKeyPressed(e)},metaKeyPressed:function(e){return t.mac?e.metaKey:e.ctrlKey&&!e.altKey}}}),e("tinymce/dom/ControlSelection",["tinymce/util/VK","tinymce/util/Tools","tinymce/Env"],function($,j,q){return function(r,c){function l(e){var t=c.settings.object_resizing;return!1!==t&&!q.iOS&&("string"!=typeof t&&(t="table,img,div"),"false"!==e.getAttribute("data-mce-resize")&&(e!=c.getBody()&&c.dom.is(e,t)))}function u(e){var t,n,i,r;t=e.screenX-_,n=e.screenY-E,B=t*C[2]+k,D=n*C[3]+T,B=B<5?5:B,D=D<5?5:D,("IMG"==v.nodeName&&!1!==c.settings.resize_img_proportional?!$.modifierPressed(e):$.modifierPressed(e)||"IMG"==v.nodeName&&C[2]*C[3]!=0)&&(z(t)>z(n)?(D=W(B*R),B=W(D/R)):(B=W(D/R),D=W(B*R))),O.setStyles(y,{width:B,height:D}),i=0<(i=C.startPos.x+t)?i:0,r=0<(r=C.startPos.y+n)?r:0,O.setStyles(b,{left:i,top:r,display:"block"}),b.innerHTML=B+" &times; "+D,C[2]<0&&y.clientWidth<=B&&O.setStyle(y,"left",S+(k-B)),C[3]<0&&y.clientHeight<=D&&O.setStyle(y,"top",N+(T-D)),(t=U.scrollWidth-M)+(n=U.scrollHeight-P)!==0&&O.setStyles(b,{left:i-t,top:r-n}),A||(c.fire("ObjectResizeStart",{target:v,width:k,height:T}),A=!0)}function d(){function e(e,t){t&&(v.style[e]||!c.schema.isValid(v.nodeName.toLowerCase(),e)?O.setStyle(v,e,t):O.setAttrib(v,e,t))}A=!1,e("width",B),e("height",D),O.unbind(H,"mousemove",u),O.unbind(H,"mouseup",d),I!=H&&(O.unbind(I,"mousemove",u),O.unbind(I,"mouseup",d)),O.remove(y),O.remove(b),F&&"TABLE"!=v.nodeName||f(v),c.fire("ObjectResized",{target:v,width:B,height:D}),O.setAttrib(v,"style",O.getAttrib(v,"style")),c.nodeChanged()}function f(e,r,o){var t,a,s,n,i;p(),t=O.getPos(e,U),S=t.x,N=t.y,i=e.getBoundingClientRect(),a=i.width||i.right-i.left,s=i.height||i.bottom-i.top,v!=e&&(h(),v=e,B=D=0),n=c.fire("ObjectSelected",{target:e}),l(e)&&!n.isDefaultPrevented()?L(x,function(t,e){function n(e){_=e.screenX,E=e.screenY,k=v.clientWidth,T=v.clientHeight,R=T/k,(C=t).startPos={x:a*t[0]+S,y:s*t[1]+N},M=U.scrollWidth,P=U.scrollHeight,y=v.cloneNode(!0),O.addClass(y,"mce-clonedresizable"),O.setAttrib(y,"data-mce-bogus","all"),y.contentEditable=!1,y.unSelectabe=!0,O.setStyles(y,{left:S,top:N,margin:0}),y.removeAttribute("data-mce-selected"),U.appendChild(y),O.bind(H,"mousemove",u),O.bind(H,"mouseup",d),I!=H&&(O.bind(I,"mousemove",u),O.bind(I,"mouseup",d)),b=O.add(U,"div",{"class":"mce-resize-helper","data-mce-bogus":"all"},k+" &times; "+T)}var i;r?e==r&&n(o):((i=O.get("mceResizeHandle"+e))&&O.remove(i),i=O.add(U,"div",{id:"mceResizeHandle"+e,"data-mce-bogus":"all","class":"mce-resizehandle",unselectable:!0,style:"cursor:"+e+"-resize; margin:0; padding:0"}),q.ie&&(i.contentEditable=!1),O.bind(i,"mousedown",function(e){e.stopImmediatePropagation(),e.preventDefault(),n(e)}),t.elm=i,O.setStyles(i,{left:a*t[0]+S-i.offsetWidth/2,top:s*t[1]+N-i.offsetHeight/2}))}):m(),v.setAttribute("data-mce-selected","1")}function m(){var e,t;for(e in p(),v&&v.removeAttribute("data-mce-selected"),x)(t=O.get("mceResizeHandle"+e))&&(O.unbind(t),O.remove(t))}function t(e){function t(e,t){if(e)do{if(e===t)return!0}while(e=e.parentNode)}var n,i;A||c.removed||(L(O.select("img[data-mce-selected],hr[data-mce-selected]"),function(e){e.removeAttribute("data-mce-selected")}),i="mousedown"==e.type?e.target:r.getNode(),t(i=O.$(i).closest(F?"table":"table,img,hr")[0],U)&&(a(),t(n=r.getStart(!0),i)&&t(r.getEnd(!0),i)&&(!F||i!=n&&"IMG"!==n.nodeName))?f(i):m())}function n(e,t,n){e&&e.attachEvent&&e.attachEvent("on"+t,n)}function e(e,t,n){e&&e.detachEvent&&e.detachEvent("on"+t,n)}function i(e){var t,n,i,r,o,a,s,l=e.srcElement;for(n in t=l.getBoundingClientRect(),a=w.clientX-t.left,s=w.clientY-t.top,x)if(i=x[n],r=l.offsetWidth*i[0],o=l.offsetHeight*i[1],z(r-a)<8&&z(o-s)<8){C=i;break}A=!0,c.fire("ObjectResizeStart",{target:v,width:v.clientWidth,height:v.clientHeight}),c.getDoc().selection.empty(),f(l,n,w)}function o(e){var t=e.srcElement;if(t!=v){if(c.fire("ObjectSelected",{target:t}),h(),0===t.id.indexOf("mceResizeHandle"))return void(e.returnValue=!1);"IMG"!=t.nodeName&&"TABLE"!=t.nodeName||(m(),n(v=t,"resizestart",i))}}function h(){e(v,"resizestart",i)}function p(){for(var e in x){var t=x[e];t.elm&&(O.unbind(t.elm),delete t.elm)}}function a(){try{c.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(e){}}function s(e){var t;if(F){t=H.body.createControlRange();try{return t.addElement(e),t.select(),!0}catch(n){}}}function g(){v=y=null,F&&(h(),e(U,"controlselect",o))}var v,y,b,x,C,w,_,E,S,N,k,T,R,A,B,D,M,P,O=c.dom,L=j.each,H=c.getDoc(),I=document,F=q.ie&&q.ie<11,z=Math.abs,W=Math.round,U=c.getBody();x={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var V=".mce-content-body";return c.contentStyles.push(V+" div.mce-resizehandle {position: absolute;border: 1px solid black;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+V+" .mce-resizehandle:hover {background: #000}"+V+" img[data-mce-selected], hr[data-mce-selected] {outline: 1px solid black;resize: none}"+V+" .mce-clonedresizable {position: absolute;"+(q.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+V+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}"),c.on("init",function(){F?(c.on("ObjectResized",function(e){"TABLE"!=e.target.nodeName&&(m(),s(e.target))}),n(U,"controlselect",o),c.on("mousedown",function(e){w=e})):(a(),11<=q.ie&&(c.on("mousedown click",function(e){var t=e.target.nodeName;!A&&/^(TABLE|IMG|HR)$/.test(t)&&(c.selection.select(e.target,"TABLE"==t),"mousedown"==e.type&&c.nodeChanged())}),c.dom.bind(U,"mscontrolselect",function(e){/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&(e.preventDefault(),"IMG"==e.target.tagName&&window.setTimeout(function(){c.selection.select(e.target)},0))}))),c.on("nodechange ResizeEditor ResizeWindow drop",function(e){window.requestAnimationFrame?window.requestAnimationFrame(function(){t(e)}):t(e)}),c.on("keydown keyup",function(e){v&&"TABLE"==v.nodeName&&t(e)}),c.on("hide blur",m)}),c.on("remove",p),{isResizable:l,showResizeRect:f,hideResizeRect:m,updateResizeRect:t,controlSelect:s,destroy:g}}}),e("tinymce/dom/BookmarkManager",["tinymce/Env","tinymce/util/Tools"],function(m,g){function e(h){var p=h.dom;this.getBookmark=function(e,c){function t(e,n){var i=0;return g.each(p.select(e),function(e,t){e==n&&(i=t)}),i}function n(o){function e(e){var t,n,i,r=e?"start":"end";t=o[r+"Container"],n=o[r+"Offset"],1==t.nodeType&&"TR"==t.nodeName&&(t=(i=t.childNodes)[Math.min(e?n:n-1,i.length-1)])&&(n=e?0:t.childNodes.length,o["set"+(e?"Start":"End")](t,n))}return e(!0),e(),o}function i(){function e(e,t){var n,i,r=e[t?"startContainer":"endContainer"],o=e[t?"startOffset":"endOffset"],a=[],s=0;if(3==r.nodeType){if(c)for(n=r.previousSibling;n&&3==n.nodeType;n=n.previousSibling)o+=n.nodeValue.length;a.push(o)}else o>=(i=r.childNodes).length&&i.length&&(s=1,o=Math.max(0,i.length-1)),a.push(p.nodeIndex(i[o],c)+s);for(;r&&r!=l;r=r.parentNode)a.push(p.nodeIndex(r,c));return a}var t=h.getRng(!0),l=p.getRoot(),n={};return n.start=e(t,!0),h.isCollapsed()||(n.end=e(t)),n}var r,o,a,s,l,u,d,f="&#xFEFF;";if(2==e)return"IMG"==(l=(u=h.getNode())?u.nodeName:null)?{name:l,index:t(l,u)}:h.tridentSel?h.tridentSel.getBookmark(e):i();if(e)return{rng:h.getRng()};if(r=h.getRng(),a=p.uniqueId(),s=h.isCollapsed(),d="overflow:hidden;line-height:0px",
r.duplicate||r.item){if(r.item)return{name:l=(u=r.item(0)).nodeName,index:t(l,u)};o=r.duplicate();try{r.collapse(),r.pasteHTML('<span data-mce-type="bookmark" id="'+a+'_start" style="'+d+'">'+f+"</span>"),s||(o.collapse(!1),r.moveToElementText(o.parentElement()),0===r.compareEndPoints("StartToEnd",o)&&o.move("character",-1),o.pasteHTML('<span data-mce-type="bookmark" id="'+a+'_end" style="'+d+'">'+f+"</span>"))}catch(m){return null}}else{if("IMG"==(l=(u=h.getNode()).nodeName))return{name:l,index:t(l,u)};o=n(r.cloneRange()),s||(o.collapse(!1),o.insertNode(p.create("span",{"data-mce-type":"bookmark",id:a+"_end",style:d},f))),(r=n(r)).collapse(!0),r.insertNode(p.create("span",{"data-mce-type":"bookmark",id:a+"_start",style:d},f))}return h.moveToBookmark({id:a,keep:1}),{id:a}},this.moveToBookmark=function(s){function e(e){var t,n,i,r,o=s[e?"start":"end"];if(o){for(i=o[0],n=l,t=o.length-1;1<=t;t--){if(r=n.childNodes,o[t]>r.length-1)return;n=r[o[t]]}3===n.nodeType&&(i=Math.min(o[0],n.nodeValue.length)),1===n.nodeType&&(i=Math.min(o[0],n.childNodes.length)),e?a.setStart(n,i):a.setEnd(n,i)}return!0}function t(e){var t,n,i,r,o=p.get(s.id+"_"+e),a=s.keep;if(o&&(t=o.parentNode,"start"==e?(a?(t=o.firstChild,n=1):n=p.nodeIndex(o),c=u=t,d=f=n):(a?(t=o.firstChild,n=1):n=p.nodeIndex(o),u=t,f=n),!a)){for(r=o.previousSibling,i=o.nextSibling,g.each(g.grep(o.childNodes),function(e){3==e.nodeType&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))});o=p.get(s.id+"_"+e);)p.remove(o,1);r&&i&&r.nodeType==i.nodeType&&3==r.nodeType&&!m.opera&&(n=r.nodeValue.length,r.appendData(i.nodeValue),p.remove(i),"start"==e?(c=u=r,d=f=n):(u=r,f=n))}}function n(e){return!p.isBlock(e)||e.innerHTML||m.ie||(e.innerHTML='<br data-mce-bogus="1" />'),e}var a,l,c,u,d,f;if(s)if(s.start){if(a=p.createRng(),l=p.getRoot(),h.tridentSel)return h.tridentSel.moveToBookmark(s);e(!0)&&e()&&h.setRng(a)}else s.id?(t("start"),t("end"),c&&((a=p.createRng()).setStart(n(c),d),a.setEnd(n(u),f),h.setRng(a))):s.name?h.select(p.select(s.name)[s.index]):s.rng&&h.setRng(s.rng)}}return e.isBookmarkNode=function(e){return e&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},e}),e("tinymce/dom/Selection",["tinymce/dom/TreeWalker","tinymce/dom/TridentSelection","tinymce/dom/ControlSelection","tinymce/dom/RangeUtils","tinymce/dom/BookmarkManager","tinymce/Env","tinymce/util/Tools"],function(l,o,a,n,s,c,e){function t(e,t,n,i){var r=this;r.dom=e,r.win=t,r.serializer=n,r.editor=i,r.bookmarkManager=new s(r),r.controlSelection=new a(r,i),r.win.getSelection||(r.tridentSel=new o(r))}var u=e.each,d=e.trim,f=c.ie;return t.prototype={setCursorLocation:function(e,t){var n=this,i=n.dom.createRng();e?(i.setStart(e,t),i.setEnd(e,t),n.setRng(i),n.collapse(!1)):(n._moveEndPoint(i,n.editor.getBody(),!0),n.setRng(i))},getContent:function(e){var t,n,i,r=this,o=r.getRng(),a=r.dom.create("body"),s=r.getSel();return t=n="",(e=e||{}).get=!0,e.format=e.format||"html",e.selection=!0,r.editor.fire("BeforeGetContent",e),"text"==e.format?r.isCollapsed()?"":o.text||(s.toString?s.toString():""):(o.cloneContents?(i=o.cloneContents())&&a.appendChild(i):o.item!==z||o.htmlText!==z?(a.innerHTML="<br>"+(o.item?o.item(0).outerHTML:o.htmlText),a.removeChild(a.firstChild)):a.innerHTML=o.toString(),/^\s/.test(a.innerHTML)&&(t=" "),/\s+$/.test(a.innerHTML)&&(n=" "),e.getInner=!0,e.content=r.isCollapsed()?"":t+r.serializer.serialize(a,e)+n,r.editor.fire("GetContent",e),e.content)},setContent:function(e,t){var n,i,r,o=this,a=o.getRng(),s=o.win.document;if((t=t||{format:"html"}).set=!0,t.selection=!0,t.content=e,t.no_events||o.editor.fire("BeforeSetContent",t),e=t.content,a.insertNode){e+='<span id="__caret">_</span>',a.startContainer==s&&a.endContainer==s?s.body.innerHTML=e:(a.deleteContents(),0===s.body.childNodes.length?s.body.innerHTML=e:a.createContextualFragment?a.insertNode(a.createContextualFragment(e)):(i=s.createDocumentFragment(),r=s.createElement("div"),i.appendChild(r),r.outerHTML=e,a.insertNode(i))),n=o.dom.get("__caret"),(a=s.createRange()).setStartBefore(n),a.setEndBefore(n),o.setRng(a),o.dom.remove("__caret");try{o.setRng(a)}catch(l){}}else a.item&&(s.execCommand("Delete",!1,null),a=o.getRng()),/^\s+/.test(e)?(a.pasteHTML('<span id="__mce_tmp">_</span>'+e),o.dom.remove("__mce_tmp")):a.pasteHTML(e);t.no_events||o.editor.fire("SetContent",t)},getStart:function(e){var t,n,i,r,o=this,a=o.getRng();if(a.duplicate||a.item){if(a.item)return a.item(0);for((i=a.duplicate()).collapse(1),(t=i.parentElement()).ownerDocument!==o.dom.doc&&(t=o.dom.getRoot()),n=r=a.parentElement();r=r.parentNode;)if(r==t){t=n;break}return t}return 1==(t=a.startContainer).nodeType&&t.hasChildNodes()&&(e&&a.collapsed||(t=t.childNodes[Math.min(t.childNodes.length-1,a.startOffset)])),t&&3==t.nodeType?t.parentNode:t},getEnd:function(e){var t,n,i=this,r=i.getRng();return r.duplicate||r.item?r.item?r.item(0):((r=r.duplicate()).collapse(0),(t=r.parentElement()).ownerDocument!==i.dom.doc&&(t=i.dom.getRoot()),t&&"BODY"==t.nodeName&&t.lastChild||t):(t=r.endContainer,n=r.endOffset,1==t.nodeType&&t.hasChildNodes()&&(e&&r.collapsed||(t=t.childNodes[0<n?n-1:n])),t&&3==t.nodeType?t.parentNode:t)},getBookmark:function(e,t){return this.bookmarkManager.getBookmark(e,t)},moveToBookmark:function(e){return this.bookmarkManager.moveToBookmark(e)},select:function(e,t){var n,i=this,r=i.dom,o=r.createRng();if(i.lastFocusBookmark=null,e){if(!t&&i.controlSelection.controlSelect(e))return;n=r.nodeIndex(e),o.setStart(e.parentNode,n),o.setEnd(e.parentNode,n+1),t&&(i._moveEndPoint(o,e,!0),i._moveEndPoint(o,e)),i.setRng(o)}return e},isCollapsed:function(){var e=this,t=e.getRng(),n=e.getSel();return!(!t||t.item)&&(t.compareEndPoints?0===t.compareEndPoints("StartToEnd",t):!n||t.collapsed)},collapse:function(e){var t,n=this,i=n.getRng();i.item&&(t=i.item(0),(i=n.win.document.body.createTextRange()).moveToElementText(t)),i.collapse(!!e),n.setRng(i)},getSel:function(){var e=this.win;return e.getSelection?e.getSelection():e.document.selection},getRng:function(e){function t(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(i){return-1}}var n,i,r,o,a=this,s=a.win.document;if(!e&&a.lastFocusBookmark){var l=a.lastFocusBookmark;return l.startContainer?((i=s.createRange()).setStart(l.startContainer,l.startOffset),i.setEnd(l.endContainer,l.endOffset)):i=l,i}if(e&&a.tridentSel)return a.tridentSel.getRangeAt(0);try{(n=a.getSel())&&(i=0<n.rangeCount?n.getRangeAt(0):n.createRange?n.createRange():s.createRange())}catch(c){}if(f&&i&&i.setStart&&s.selection){try{o=s.selection.createRange()}catch(c){}o&&o.item&&(r=o.item(0),(i=s.createRange()).setStartBefore(r),i.setEndAfter(r))}return i||(i=s.createRange?s.createRange():s.body.createTextRange()),i.setStart&&9===i.startContainer.nodeType&&i.collapsed&&(r=a.dom.getRoot(),i.setStart(r,0),i.setEnd(r,0)),a.selectedRange&&a.explicitRange&&(0===t(i.START_TO_START,i,a.selectedRange)&&0===t(i.END_TO_END,i,a.selectedRange)?i=a.explicitRange:(a.selectedRange=null,a.explicitRange=null)),i},setRng:function(e,t){var n,i,r=this;if(e)if(e.select)try{e.select()}catch(o){}else if(r.tridentSel){if(e.cloneRange)try{r.tridentSel.addRange(e)}catch(o){}}else{if(n=r.getSel()){r.explicitRange=e;try{n.removeAllRanges(),n.addRange(e)}catch(o){}!1===t&&n.extend&&(n.collapse(e.endContainer,e.endOffset),n.extend(e.startContainer,e.startOffset)),r.selectedRange=0<n.rangeCount?n.getRangeAt(0):null}e.collapsed||e.startContainer!=e.endContainer||!n.setBaseAndExtent||c.ie||e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()&&(i=e.startContainer.childNodes[e.startOffset])&&"IMG"==i.tagName&&r.getSel().setBaseAndExtent(i,0,i,1)}},setNode:function(e){var t=this;return t.setContent(t.dom.getOuterHTML(e)),e},getNode:function(){function e(e,t){for(var n=e;e&&3===e.nodeType&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n}var t,n=this,i=n.getRng(),r=i.startContainer,o=i.endContainer,a=i.startOffset,s=i.endOffset,l=n.dom.getRoot();return i?i.setStart?(t=i.commonAncestorContainer,!i.collapsed&&(r==o&&s-a<2&&r.hasChildNodes()&&(t=r.childNodes[a]),3===r.nodeType&&3===o.nodeType&&(r=r.length===a?e(r.nextSibling,!0):r.parentNode,o=0===s?e(o.previousSibling,!1):o.parentNode,r&&r===o))?r:t&&3==t.nodeType?t.parentNode:t):((t=i.item?i.item(0):i.parentElement()).ownerDocument!==n.win.document&&(t=l),t):l},getSelectedBlocks:function(e,t){var n,i,r=this,o=r.dom,a=[];if(i=o.getRoot(),e=o.getParent(e||r.getStart(),o.isBlock),t=o.getParent(t||r.getEnd(),o.isBlock),e&&e!=i&&a.push(e),e&&t&&e!=t)for(var s=new l(n=e,i);(n=s.next())&&n!=t;)o.isBlock(n)&&a.push(n);return t&&e!=t&&t!=i&&a.push(t),a},isForward:function(){var e,t,n=this.dom,i=this.getSel();return!(i&&i.anchorNode&&i.focusNode)||((e=n.createRng()).setStart(i.anchorNode,i.anchorOffset),e.collapse(!0),(t=n.createRng()).setStart(i.focusNode,i.focusOffset),t.collapse(!0),e.compareBoundaryPoints(e.START_TO_START,t)<=0)},normalize:function(){var e=this,t=e.getRng();return c.range&&new n(e.dom).normalize(t)&&e.setRng(t,e.isForward()),t},selectorChanged:function(e,t){var a,s=this;return s.selectorChangedData||(s.selectorChangedData={},a={},s.editor.on("NodeChange",function(e){var n=e.element,i=s.dom,r=i.getParents(n,null,i.getRoot()),o={};u(s.selectorChangedData,function(e,n){u(r,function(t){if(i.is(t,n))return a[n]||(u(e,function(e){e(!0,{node:t,selector:n,parents:r})}),a[n]=e),o[n]=e,!1})}),u(a,function(e,t){o[t]||(delete a[t],u(e,function(e){e(!1,{node:n,selector:t,parents:r})}))})})),s.selectorChangedData[e]||(s.selectorChangedData[e]=[]),s.selectorChangedData[e].push(t),s},getScrollContainer:function(){for(var e,t=this.dom.getRoot();t&&"BODY"!=t.nodeName;){if(t.scrollHeight>t.clientHeight){e=t;break}t=t.parentNode}return e},scrollIntoView:function(e){function t(e){for(var t=0,n=0,i=e;i&&i.nodeType;)t+=i.offsetLeft||0,n+=i.offsetTop||0,i=i.offsetParent;return{x:t,y:n}}var n,i,r,o,a=this,s=a.dom;if("BODY"!=s.getRoot().nodeName){var l=a.getScrollContainer();if(l)return n=t(e).y-t(l).y,o=l.clientHeight,void((n<(r=l.scrollTop)||r+o<n+25)&&(l.scrollTop=n<r?n:n-o+25))}i=s.getViewPort(a.editor.getWin()),n=s.getPos(e).y,r=i.y,o=i.h,(n<i.y||r+o<n+25)&&a.editor.getWin().scrollTo(0,n<r?n:n-o+25)},placeCaretAt:function(e,t){var n,i,r=this.editor.getDoc();if(r.caretPositionFromPoint)i=r.caretPositionFromPoint(e,t),(n=r.createRange()).setStart(i.offsetNode,i.offset),n.collapse(!0);else if(r.caretRangeFromPoint)n=r.caretRangeFromPoint(e,t);else if(r.body.createTextRange){n=r.body.createTextRange();try{n.moveToPoint(e,t),n.collapse(!0)}catch(o){n.collapse(t<r.body.clientHeight)}}this.setRng(n)},_moveEndPoint:function(e,t,n){var i=t,r=new l(t,i),o=this.dom.schema.getNonEmptyElements();do{if(3==t.nodeType&&0!==d(t.nodeValue).length)return void(n?e.setStart(t,0):e.setEnd(t,t.nodeValue.length));if(o[t.nodeName]&&!/^(TD|TH)$/.test(t.nodeName))return void(n?e.setStartBefore(t):"BR"==t.nodeName?e.setEndBefore(t):e.setEndAfter(t));if(c.ie&&c.ie<11&&this.dom.isBlock(t)&&this.dom.isEmpty(t))return void(n?e.setStart(t,0):e.setEnd(t,0))}while(t=n?r.next():r.prev());"BODY"==i.nodeName&&(n?e.setStart(i,0):e.setEnd(i,i.childNodes.length))},destroy:function(){this.win=null,this.controlSelection.destroy()}},t}),e("tinymce/dom/ElementUtils",["tinymce/dom/BookmarkManager","tinymce/util/Tools"],function(o,e){function t(r){this.compare=function(e,t){function n(n){var i={};return a(r.getAttribs(n),function(e){var t=e.nodeName.toLowerCase();0!==t.indexOf("_")&&"style"!==t&&"data-mce-style"!==t&&(i[t]=r.getAttrib(n,t))}),i}function i(e,t){var n,i;for(i in e)if(e.hasOwnProperty(i)){if(void 0===(n=t[i]))return!1;if(e[i]!=n)return!1;delete t[i]}for(i in t)if(t.hasOwnProperty(i))return!1;return!0}return e.nodeName==t.nodeName&&(!!i(n(e),n(t))&&(!!i(r.parseStyle(r.getAttrib(e,"style")),r.parseStyle(r.getAttrib(t,"style")))&&(!o.isBookmarkNode(e)&&!o.isBookmarkNode(t))))}}var a=e.each;return t}),e("tinymce/fmt/Preview",["tinymce/util/Tools"],function(e){function t(n,e){function i(e){return e.replace(/%(\w+)/g,"")}var t,r,o,a,s=n.dom,l="";if(!1===(a=n.settings.preview_styles))return"";if(a||(a="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"),"string"==typeof e){if(!(e=n.formatter.get(e)))return;e=e[0]}return t=e.block||e.inline||"span",r=s.create(t),c(e.styles,function(e,t){(e=i(e))&&s.setStyle(r,t,e)}),c(e.attributes,function(e,t){(e=i(e))&&s.setAttrib(r,t,e)}),c(e.classes,function(e){e=i(e),s.hasClass(r,e)||s.addClass(r,e)}),n.fire("PreviewFormats"),s.setStyles(r,{position:"absolute",left:-65535}),n.getBody().appendChild(r),o=s.getStyle(n.getBody(),"fontSize",!0),o=/px$/.test(o)?parseInt(o,10):0,c(a.split(" "),function(e){var t=s.getStyle(r,e,!0);if(!("background-color"==e&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(t)&&(t=s.getStyle(n.getBody(),e,!0),"#ffffff"==s.toHex(t).toLowerCase())||"color"==e&&"#000000"==s.toHex(t).toLowerCase())){if("font-size"==e&&/em|%$/.test(t)){if(0===o)return;t=(t=parseFloat(t,10)/(/%$/.test(t)?100:1))*o+"px"}"border"==e&&t&&(l+="padding:0 2px;"),l+=e+":"+t+";"}}),n.fire("AfterPreviewFormats"),s.remove(r),l}var c=e.each;return{getCssText:t}}),e("tinymce/Formatter",["tinymce/dom/TreeWalker","tinymce/dom/RangeUtils","tinymce/dom/BookmarkManager","tinymce/dom/ElementUtils","tinymce/util/Tools","tinymce/fmt/Preview"],function(oe,ae,se,le,ce,ue){return function(b){function x(e){return e.nodeType&&(e=e.nodeName),!!b.schema.getTextBlockElements()[e.toLowerCase()]}function p(e){return/^(TH|TD)$/.test(e.nodeName)}function l(e){return e&&/^(IMG)$/.test(e.nodeName)}function g(e,t){return V.getParents(e,t,V.getRoot())}function C(e){return 1===e.nodeType&&"_mce_caret"===e.id}function e(){n({valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},defaultBlock:"div"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"}}],alignright:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"right"}}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},defaultBlock:"div"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(n,e,t){ne(t,function(e,t){V.setAttrib(n,t,e)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]}),ne("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(e){n(e,{block:e,remove:"all"})}),n(b.settings.formats)}function t(){b.addShortcut("meta+b","bold_desc","Bold"),b.addShortcut("meta+i","italic_desc","Italic"),b.addShortcut("meta+u","underline_desc","Underline");for(var e=1;e<=6;e++)b.addShortcut("access+"+e,"",["FormatBlock",!1,"h"+e]);b.addShortcut("access+7","",["FormatBlock",!1,"p"]),b.addShortcut("access+8","",["FormatBlock",!1,"div"]),b.addShortcut("access+9","",["FormatBlock",!1,"address"])}function w(e){return e?U[e]:U}function n(e,t){e&&("string"!=typeof e?ne(e,function(e,t){n(t,e)}):(t=t.length?t:[t],ne(t,function(e){e.deep===F&&(e.deep=!e.selector),e.split===F&&(e.split=!e.selector||e.inline),e.remove===F&&e.selector&&!e.inline&&(e.remove="none"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),"string"==typeof e.classes&&(e.classes=e.classes.split(/\s+/))}),U[e]=t))}function i(e){return e&&U[e]&&delete U[e],U}function v(e){var t;return b.dom.getParent(e,function(e){return(t=b.dom.getStyle(e,"text-decoration"))&&"none"!==t}),t}function o(e){var t;1===e.nodeType&&e.parentNode&&1===e.parentNode.nodeType&&(t=v(e.parentNode),b.dom.getStyle(e,"color")&&t?b.dom.setStyle(e,"text-decoration",t):b.dom.getStyle(e,"text-decoration")===t&&b.dom.setStyle(e,"text-decoration",null))}function u(m,h,a){function p(n,e){if(e=e||v,n){if(e.onformat&&e.onformat(n,e,h,a),ne(e.styles,function(e,t){V.setStyle(n,t,k(e,h))}),e.styles){var t=V.getAttrib(n,"style");t&&n.setAttribute("data-mce-style",t)}ne(e.attributes,function(e,t){V.setAttrib(n,t,k(e,h))}),ne(e.classes,function(e){e=k(e,h),V.hasClass(n,e)||V.addClass(n,e)})}}function e(){function e(e,t){var n=new oe(t);for(a=n.current();a;a=n.prev())if(1<a.childNodes.length||a==e||"BR"==a.tagName)return a}var t=b.selection.getRng(),n=t.startContainer,i=t.endContainer;if(n!=i&&0===t.endOffset){var r=e(n,i),o=3==r.nodeType?r.length:r.childNodes.length;t.setEnd(r,o)}return t}function t(e,t,l){var c,u,d=[],f=!0;c=v.inline||v.block,p(u=V.create(c)),j.walk(e,function(e){function a(t){var e,n,i,r,o;return o=f,e=t.nodeName.toLowerCase(),n=t.parentNode.nodeName.toLowerCase(),1===t.nodeType&&ee(t)&&(o=f,f="true"===ee(t),r=!0),N(e,"br")?(s=0,void(v.block&&V.remove(t))):v.wrapper&&_(t,m,h)?void(s=0):f&&!r&&v.block&&!v.wrapper&&x(e)&&q(n,c)?(p(t=V.rename(t,c)),d.push(t),void(s=0)):void(v.selector&&(ne(g,function(e){"collapsed"in e&&e.collapsed!==y||V.is(t,e.selector)&&!C(t)&&(p(t,e),i=!0)}),!v.inline||i)?s=0:!f||r||!q(c,e)||!q(n,c)||!l&&3===t.nodeType&&1===t.nodeValue.length&&65279===t.nodeValue.charCodeAt(0)||C(t)||v.inline&&K(t)?(s=0,ne(ie(t.childNodes),a),r&&(f=o),s=0):(s||(s=V.clone(u,J),t.parentNode.insertBefore(s,t),d.push(s)),s.appendChild(t)))}var s;ne(e,a)}),!0===v.links&&ne(d,function(e){function t(e){"A"===e.nodeName&&p(e,v),ne(ie(e.childNodes),t)}t(e)}),ne(d,function(n){function e(e){var t=0;return ne(e.childNodes,function(e){T(e)||te(e)||t++}),t}function t(e){var t,n;return ne(e.childNodes,function(e){if(1==e.nodeType&&!te(e)&&!C(e))return t=e,J}),t&&!te(t)&&S(t,v)&&(p(n=V.clone(t,J)),V.replace(n,e,Z),V.remove(t,1)),n||e}var i;if(i=e(n),!(1<d.length)&&K(n)||0!==i){if(v.inline||v.wrapper){if(v.exact||1!==i||(n=t(n)),ne(g,function(t){ne(V.select(t.inline,n),function(e){te(e)||B(t,h,e,t.exact?e:null)})}),_(n.parentNode,m,h))return V.remove(n,1),n=0,Z;v.merge_with_parents&&V.getParent(n.parentNode,function(e){if(_(e,m,h))return V.remove(n,1),n=0,Z}),n&&!1!==v.merge_siblings&&(n=P(n=P(M(n),n),M(n,Z)))}}else V.remove(n,1)})}var n,i,g=w(m),v=g[0],y=!a&&$.isCollapsed();if(v)if(a)a.nodeType?((i=V.createRng()).setStartBefore(a),i.setEndAfter(a),t(A(i,g),null,!0)):t(a,null,!0);else if(y&&v.inline&&!V.select("td.mce-item-selected,th.mce-item-selected").length)L("apply",m,h);else{var r=b.selection.getNode();Y||!g[0].defaultBlock||V.getParent(r,V.isBlock)||u(g[0].defaultBlock),b.selection.setRng(e()),n=$.getBookmark(),t(A($.getRng(Z),g),n),v.styles&&(v.styles.color||v.styles.textDecoration)&&(re(r,o,"childNodes"),o(r)),$.moveToBookmark(n),H($.getRng(Z)),b.nodeChanged()}}function y(i,u,e,r){function a(e){var t,n,i,r,o;if(1===e.nodeType&&ee(e)&&(r=h,h="true"===ee(e),o=!0),t=ie(e.childNodes),h&&!o)for(n=0,i=f.length;n<i&&!B(f[n],u,e,e);n++);if(m.deep&&t.length){for(n=0,i=t.length;n<i;n++)a(t[n]);o&&(h=r)}}function t(e){var n;return ne(g(e.parentNode).reverse(),function(e){var t;n||"_start"==e.id||"_end"==e.id||(t=_(e,i,u,r))&&!1!==t.split&&(n=e)}),n}function n(e,t,n,i){var r,o,a,s,l,c;if(e){for(c=e.parentNode,r=t.parentNode;r&&r!=c;r=r.parentNode){for(o=V.clone(r,J),l=0;l<f.length;l++)if(B(f[l],u,o,o)){o=0;break}o&&(a&&o.appendChild(a),s||(s=o),a=o)}!i||m.mixed&&K(e)||(t=V.split(e,t)),a&&(n.parentNode.insertBefore(a,n),s.appendChild(n))}return t}function o(e){return n(t(e),e,e,!0)}function s(e){var t=V.get(e?"_start":"_end"),n=t[e?"firstChild":"lastChild"];return te(n)&&(n=n[e?"firstChild":"lastChild"]),3==n.nodeType&&0===n.data.length&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),V.remove(t,!0),n}function l(e){var t,n,i=e.commonAncestorContainer;if(e=A(e,f,Z),m.split){if((t=O(e,Z))!=(n=O(e))){if(/^(TR|TH|TD)$/.test(t.nodeName)&&t.firstChild&&(t="TR"==t.nodeName?t.firstChild.firstChild||t:t.firstChild||t),i&&/^T(HEAD|BODY|FOOT|R)$/.test(i.nodeName)&&p(n)&&n.firstChild&&(n=n.firstChild||n),V.isChildOf(t,n)&&!K(n)&&!p(t)&&!p(n))return o(t=R(t,"span",{id:"_start","data-mce-type":"bookmark"})),void(t=s(Z));t=R(t,"span",{id:"_start","data-mce-type":"bookmark"}),n=R(n,"span",{id:"_end","data-mce-type":"bookmark"}),o(t),o(n),t=s(Z),n=s()}else t=n=o(t);e.startContainer=t.parentNode?t.parentNode:t,e.startOffset=G(t),e.endContainer=n.parentNode?n.parentNode:n,e.endOffset=G(n)+1}j.walk(e,function(e){ne(e,function(e){a(e),1===e.nodeType&&"underline"===b.dom.getStyle(e,"text-decoration")&&e.parentNode&&"underline"===v(e.parentNode)&&B({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,e)})})}var c,d,f=w(i),m=f[0],h=!0;e?e.nodeType?((d=V.createRng()).setStartBefore(e),d.setEndAfter(e),l(d)):l(e):$.isCollapsed()&&m.inline&&!V.select("td.mce-item-selected,th.mce-item-selected").length?L("remove",i,u,r):(c=$.getBookmark(),l($.getRng(Z)),$.moveToBookmark(c),m.inline&&E(i,u,$.getStart())&&H($.getRng(!0)),b.nodeChanged())}function r(e,t,n){var i=w(e);!E(e,t,n)||"toggle"in i[0]&&!i[0].toggle?u(e,t,n):y(e,t,n)}function _(e,t,s,l){function n(e,t,n){var i,r,o,a=t[n];if(t.onmatch)return t.onmatch(e,t,n);if(a)if(a.length===F){for(i in a)if(a.hasOwnProperty(i)){if(r="attributes"===n?V.getAttrib(e,i):f(e,i),l&&!r&&!t.exact)return;if((!l||t.exact)&&!N(r,m(k(a[i],s),i)))return}}else for(o=0;o<a.length;o++)if("attributes"===n?V.getAttrib(e,a[o]):f(e,a[o]))return t;return t}var i,r,o,a=w(t);if(a&&e)for(r=0;r<a.length;r++)if(S(e,i=a[r])&&n(e,i,"attributes")&&n(e,i,"styles")){if(o=i.classes)for(r=0;r<o.length;r++)if(!V.hasClass(e,o[r]))return;return i}}function E(n,i,e){function t(e){var t=V.getRoot();return e!==t&&_(e=V.getParent(e,function(e){return e.parentNode===t||!!_(e,n,i,!0)}),n,i)}var r;return e?t(e):t(e=$.getNode())?Z:(r=$.getStart())!=e&&t(r)?Z:J}function a(i,r){var e,o=[],a={};return e=$.getStart(),V.getParent(e,function(e){var t,n;for(t=0;t<i.length;t++)n=i[t],!a[n]&&_(e,n,r)&&(a[n]=!0,o.push(n))},V.getRoot()),o}function s(e){var t,n,i,r,o=w(e);if(o)for(t=g($.getStart()),i=o.length-1;0<=i;i--){if(!(r=o[i].selector)||o[i].defaultBlock)return Z;for(n=t.length-1;0<=n;n--)if(V.is(t[n],r))return Z}return J}function c(e,t,n){var o;return I||(I={},o={},b.on("NodeChange",function(n){var i=g(n.element),r={};i=ce.grep(i,function(e){return 1==e.nodeType&&!e.getAttribute("data-mce-bogus")}),ne(I,function(e,n){ne(i,function(t){if(_(t,n,{},e.similar))return o[n]||(ne(e,function(e){e(!0,{node:t,format:n,parents:i})}),o[n]=e),r[n]=e,!1})}),ne(o,function(e,t){r[t]||(delete o[t],ne(e,function(e){e(!1,{node:n.element,format:t,parents:i})}))})})),ne(e.split(","),function(e){I[e]||(I[e]=[],I[e].similar=n),I[e].push(t)}),this}function d(e){return ue.getCssText(b,e)}function S(e,t){return N(e,t.inline)?Z:N(e,t.block)?Z:t.selector?1==e.nodeType&&V.is(e,t.selector):void 0}function N(e,t){return t=t||"",e=""+((e=e||"").nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()==t.toLowerCase()}function f(e,t){return m(V.getStyle(e,t),t)}function m(e,t){return"color"!=t&&"backgroundColor"!=t||(e=V.toHex(e)),"fontWeight"==t&&700==e&&(e="bold"),"fontFamily"==t&&(e=e.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+e}function k(e,n){return"string"!=typeof e?e=e(n):n&&(e=e.replace(/%(\w+)/g,function(e,t){return n[t]||e})),e}function T(e){return e&&3===e.nodeType&&/^([\t \r\n]+|)$/.test(e.nodeValue)}function R(e,t,n){var i=V.create(t,n);return e.parentNode.insertBefore(i,e),i.appendChild(e),i}function A(a,s,l){function e(e){function t(e){return"BR"==e.nodeName&&e.getAttribute("data-mce-bogus")&&!e.nextSibling}var n,i,r,o,a;if(n=i=e?f:h,o=e?"previousSibling":"nextSibling",a=V.getRoot(),3==n.nodeType&&!T(n)&&(e?0<m:p<n.nodeValue.length))return n;for(;;){if(!s[0].block_expand&&K(i))return i;for(r=i[o];r;r=r[o])if(!te(r)&&!T(r)&&!t(r))return i;if(i.parentNode==a){n=i;break}i=i.parentNode}return n}function t(e,t){for(t===F&&(t=3===e.nodeType?e.length:e.childNodes.length);e&&e.hasChildNodes();)(e=e.childNodes[t])&&(t=3===e.nodeType?e.length:e.childNodes.length);return{node:e,offset:t}}function n(e){for(var t=e;t;){if(1===t.nodeType&&ee(t))return"false"===ee(t)?t:e;t=t.parentNode}return e}function i(e,t,o){function n(e,t){var n,i,r=e.nodeValue;return void 0===t&&(t=o?r.length:0),o?(n=r.lastIndexOf(" ",t),-1===(n=(i=r.lastIndexOf("\xa0",t))<n?n:i)||l||n++):(n=r.indexOf(" ",t),i=r.indexOf("\xa0",t),n=-1!==n&&(-1===i||n<i)?n:i),n}var i,r,a,s;if(3===e.nodeType){if(-1!==(a=n(e,t)))return{container:e,offset:a};s=e}for(i=new oe(e,V.getParent(e,K)||b.getBody());r=i[o?"prev":"next"]();)if(3===r.nodeType){if(-1!==(a=n(s=r)))return{container:r,offset:a}}else if(K(r))break;if(s)return{container:s,offset:t=o?0:s.length}}function r(e,t){var n,i,r,o;for(3==e.nodeType&&0===e.nodeValue.length&&e[t]&&(e=e[t]),n=g(e),i=0;i<n.length;i++)for(r=0;r<s.length;r++)if(!("collapsed"in(o=s[r])&&o.collapsed!==a.collapsed)&&V.is(n[i],o.selector))return n[i];return e}function o(e,t){var n,i=V.getRoot();if(s[0].wrapper||(n=V.getParent(e,s[0].block,i)),n||(n=V.getParent(3==e.nodeType?e.parentNode:e,function(e){return e!=i&&x(e)})),n&&s[0].wrapper&&(n=g(n,"ul,ol").reverse()[0]||n),!n)for(n=e;n[t]&&!K(n[t])&&!N(n=n[t],"br"););return n||e}var c,u,d,f=a.startContainer,m=a.startOffset,h=a.endContainer,p=a.endOffset;if(1==f.nodeType&&f.hasChildNodes()&&(c=f.childNodes.length-1,3==(f=f.childNodes[c<m?c:m]).nodeType&&(m=0)),1==h.nodeType&&h.hasChildNodes()&&(c=h.childNodes.length-1,3==(h=h.childNodes[c<p?c:p-1]).nodeType&&(p=h.nodeValue.length)),f=n(f),h=n(h),(te(f.parentNode)||te(f))&&3==(f=(f=te(f)?f:f.parentNode).nextSibling||f).nodeType&&(m=0),(te(h.parentNode)||te(h))&&3==(h=(h=te(h)?h:h.parentNode).previousSibling||h).nodeType&&(p=h.length),s[0].inline&&(a.collapsed&&((d=i(f,m,!0))&&(f=d.container,m=d.offset),(d=i(h,p))&&(h=d.container,p=d.offset)),(u=t(h,p)).node)){for(;u.node&&0===u.offset&&u.node.previousSibling;)u=t(u.node.previousSibling);u.node&&0<u.offset&&3===u.node.nodeType&&" "===u.node.nodeValue.charAt(u.offset-1)&&1<u.offset&&(h=u.node).splitText(u.offset-1)}return(s[0].inline||s[0].block_expand)&&(s[0].inline&&3==f.nodeType&&0!==m||(f=e(!0)),s[0].inline&&3==h.nodeType&&p!==h.nodeValue.length||(h=e())),s[0].selector&&s[0].expand!==J&&!s[0].inline&&(f=r(f,"previousSibling"),h=r(h,"nextSibling")),(s[0].block||s[0].selector)&&(f=o(f,"previousSibling"),h=o(h,"nextSibling"),s[0].block&&(K(f)||(f=e(!0)),K(h)||(h=e()))),1==f.nodeType&&(m=G(f),f=f.parentNode),1==h.nodeType&&(p=G(h)+1,h=h.parentNode),{startContainer:f,startOffset:m,endContainer:h,endOffset:p}}function h(e,t){return t.links&&"A"==e.tagName}function B(n,i,r,o){var e,t,a;if(!S(r,n)&&!h(r,n))return J;if("all"!=n.remove)for(ne(n.styles,function(e,t){e=m(k(e,i),t),"number"==typeof t&&(t=e,o=0),(n.remove_similar||!o||N(f(o,t),e))&&V.setStyle(r,t,""),a=1}),a&&""===V.getAttrib(r,"style")&&(r.removeAttribute("style"),r.removeAttribute("data-mce-style")),ne(n.attributes,function(e,t){var n;if(e=k(e,i),"number"==typeof t&&(t=e,o=0),!o||N(V.getAttrib(o,t),e)){if("class"==t&&(e=V.getAttrib(r,t))&&(n="",ne(e.split(/\s+/),function(e){/mce\-\w+/.test(e)&&(n+=(n?" ":"")+e)}),n))return void V.setAttrib(r,t,n);"class"==t&&r.removeAttribute("className"),Q.test(t)&&r.removeAttribute("data-mce-"+t),r.removeAttribute(t)}}),ne(n.classes,function(e){e=k(e,i),o&&!V.hasClass(o,e)||V.removeClass(r,e)}),t=V.getAttribs(r),e=0;e<t.length;e++)if(0!==t[e].nodeName.indexOf("_"))return J;return"none"!=n.remove?(D(r,n),Z):void 0}function D(e,t){function n(e,t,n){return!(e=M(e,t,n))||"BR"==e.nodeName||K(e)}var i,r=e.parentNode;t.block&&(Y?r==V.getRoot()&&(t.list_block&&N(e,t.list_block)||ne(ie(e.childNodes),function(e){q(Y,e.nodeName.toLowerCase())?i?i.appendChild(e):(i=R(e,Y),V.setAttribs(i,b.settings.forced_root_block_attrs)):i=0})):K(e)&&!K(r)&&(n(e,J)||n(e.firstChild,Z,1)||e.insertBefore(V.create("br"),e.firstChild),n(e,Z)||n(e.lastChild,J,1)||e.appendChild(V.create("br")))),t.selector&&t.inline&&!N(t.inline,e)||V.remove(e,1)}function M(e,t,n){if(e)for(t=t?"nextSibling":"previousSibling",e=n?e:e[t];e;e=e[t])if(1==e.nodeType||!T(e))return e}function P(t,e){function n(e,t){for(i=e;i;i=i[t]){if(3==i.nodeType&&0!==i.nodeValue.length)return e;if(1==i.nodeType&&!te(i))return i}return e}var i,r,o=new le(V);if(t&&e&&(t=n(t,"previousSibling"),e=n(e,"nextSibling"),o.compare(t,e))){for(i=t.nextSibling;i&&i!=e;)i=(r=i).nextSibling,t.appendChild(r);return V.remove(e),ne(ie(e.childNodes),function(e){t.appendChild(e)}),t}return e}function O(e,t){var n,i,r;return n=e[t?"startContainer":"endContainer"],i=e[t?"startOffset":"endOffset"],1==n.nodeType&&(r=n.childNodes.length-1,!t&&i&&i--,n=n.childNodes[r<i?r:i]),3===n.nodeType&&t&&i>=n.nodeValue.length&&(n=new oe(n,b.getBody()).next()||n),3!==n.nodeType||t||0!==i||(n=new oe(n,b.getBody()).prev()||n),n}function L(e,d,f,m){function h(e){var t=V.create("span",{id:l,"data-mce-bogus":!0,style:c?"color:red":""});return e&&t.appendChild(b.getDoc().createTextNode(X)),t}function r(e,t){for(;e;){if(3===e.nodeType&&e.nodeValue!==X||1<e.childNodes.length)return!1;t&&1===e.nodeType&&t.push(e),e=e.firstChild}return!0}function a(e){for(;e;){if(e.id===l)return e;e=e.parentNode}}function s(e){var t;if(e)for(e=(t=new oe(e,e)).current();e;e=t.next())if(3===e.nodeType)return e}function o(e,t){var n,i;if(e)i=$.getRng(!0),r(e)?(!1!==t&&(i.setStartBefore(e),i.setEndBefore(e)),V.remove(e)):((n=s(e)).nodeValue.charAt(0)===X&&(n.deleteData(0,1),i.startContainer==n&&0<i.startOffset&&i.setStart(n,i.startOffset-1),i.endContainer==n&&0<i.endOffset&&i.setEnd(n,i.endOffset-1)),V.remove(e,1)),$.setRng(i);else if(!(e=a($.getStart())))for(;e=V.get(l);)o(e,!1)}function t(){var e,t,n,i,r,o;i=(e=$.getRng(!0)).startOffset,o=e.startContainer.nodeValue,(t=a($.getStart()))&&(n=s(t)),o&&0<i&&i<o.length&&/\w/.test(o.charAt(i))&&/\w/.test(o.charAt(i-1))?(r=$.getBookmark(),e.collapse(!0),e=A(e,w(d)),e=j.split(e),u(d,f,e),$.moveToBookmark(r)):(t&&n.nodeValue===X||(n=(t=h(!0)).firstChild,e.insertNode(t),i=1),u(d,f,t),$.setCursorLocation(n,i))}function n(){var e,t,n,i,r,o,a,s,l=$.getRng(!0),c=[];for(e=l.startContainer,t=l.startOffset,3==(r=e).nodeType&&(t!=e.nodeValue.length&&(i=!0),r=r.parentNode);r;){if(_(r,d,f,m)){o=r;break}r.nextSibling&&(i=!0),c.push(r),r=r.parentNode}if(o)if(i)n=$.getBookmark(),l.collapse(!0),l=A(l,w(d),!0),l=j.split(l),y(d,f,l),$.moveToBookmark(n);else{for(r=s=h(),a=c.length-1;0<=a;a--)r.appendChild(V.clone(c[a],!1)),r=r.firstChild;r.appendChild(V.doc.createTextNode(X)),r=r.firstChild;var u=V.getParent(o,x);u&&V.isEmpty(u)?o.parentNode.replaceChild(s,o):V.insertAfter(s,o),$.setCursorLocation(r,1),V.isEmpty(o)&&V.remove(o)}}function i(){var e;(e=a($.getStart()))&&!V.isEmpty(e)&&re(e,function(e){1!=e.nodeType||e.id===l||V.isEmpty(e)||V.setAttrib(e,"data-mce-bogus",null)},"childNodes")}var l="_mce_caret",c=b.settings.caret_debug;b._hasCaretEvents||(W=function(){var e,t=[];if(r(a($.getStart()),t))for(e=t.length;e--;)V.setAttrib(t[e],"data-mce-bogus","1")},z=function(e){var t=e.keyCode;o(),8==t&&$.isCollapsed()&&$.getStart().innerHTML==X&&o(a($.getStart())),37!=t&&39!=t||o(a($.getStart())),i()},b.on("SetContent",function(e){e.selection&&i()}),b._hasCaretEvents=!0),"apply"==e?t():n()}function H(e){var t,n,i,r,o,a=e.startContainer,s=e.startOffset
;if((e.startContainer!=e.endContainer||!l(e.startContainer.childNodes[e.startOffset]))&&(3==a.nodeType&&s>=a.nodeValue.length&&(s=G(a),a=a.parentNode,t=!0),1==a.nodeType))for(a=(r=a.childNodes)[Math.min(s,r.length-1)],n=new oe(a,V.getParent(a,V.isBlock)),(s>r.length-1||t)&&n.next(),i=n.current();i;i=n.next())if(3==i.nodeType&&!T(i))return o=V.create("a",{"data-mce-bogus":"all"},X),i.parentNode.insertBefore(o,i),e.setStart(i,0),$.setRng(e),void V.remove(o)}var I,F,z,W,U={},V=b.dom,$=b.selection,j=new ae(V),q=b.schema.isValidChild,K=V.isBlock,Y=b.settings.forced_root_block,G=V.nodeIndex,X="\ufeff",Q=/^(src|href|style)$/,J=!1,Z=!0,ee=V.getContentEditable,te=se.isBookmarkNode,ne=ce.each,ie=ce.grep,re=ce.walk;(0,ce.extend)(this,{get:w,register:n,unregister:i,apply:u,remove:y,toggle:r,match:E,matchAll:a,matchNode:_,canApply:s,formatChanged:c,getCssText:d}),e(),t(),b.on("BeforeGetContent",function(e){W&&"raw"!=e.format&&W()}),b.on("mouseup keydown",function(e){z&&z(e)})}}),e("tinymce/UndoManager",["tinymce/util/VK","tinymce/Env","tinymce/util/Tools","tinymce/html/SaxParser"],function(e,n,t,m){var h,p=t.trim;return h=new RegExp(["<span[^>]+data-mce-bogus[^>]+>[\u200b\ufeff]+<\\/span>",'\\s?data-mce-selected="[^"]+"'].join("|"),"gi"),function(l){function a(){var e,t,n,i,r,o=l.getContent({format:"raw",no_events:1}),a=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,s=l.schema;for(o=o.replace(h,""),r=s.getShortEndedElements();i=a.exec(o);)t=a.lastIndex,n=i[0].length,e=r[i[1]]?t:m.findEndTag(s,o,t),o=o.substring(0,t-n)+o.substring(e),a.lastIndex=t-n;return p(o)}function s(e){l.isNotDirty=!e}function i(e){o.typing=!1,o.add({},e)}var c,r,o=this,u=0,d=[],f=0;return l.on("init",function(){o.add()}),l.on("BeforeExecCommand",function(e){var t=e.command;"Undo"!=t&&"Redo"!=t&&"mceRepaint"!=t&&o.beforeChange()}),l.on("ExecCommand",function(e){var t=e.command;"Undo"!=t&&"Redo"!=t&&"mceRepaint"!=t&&i(e)}),l.on("ObjectResizeStart Cut",function(){o.beforeChange()}),l.on("SaveContent ObjectResized blur",i),l.on("DragEnd",i),l.on("KeyUp",function(e){var t=e.keyCode;e.isDefaultPrevented()||((33<=t&&t<=36||37<=t&&t<=40||45==t||13==t||e.ctrlKey)&&(i(),l.nodeChanged()),(46==t||8==t||n.mac&&(91==t||93==t))&&l.nodeChanged(),r&&o.typing&&(l.isDirty()||(s(d[0]&&a()!=d[0].content),l.isNotDirty||l.fire("change",{level:d[0],lastLevel:null})),l.fire("TypingUndo"),r=!1,l.nodeChanged()))}),l.on("KeyDown",function(e){var t=e.keyCode;if(!e.isDefaultPrevented())if(33<=t&&t<=36||37<=t&&t<=40||45==t)o.typing&&i(e);else{var n=e.ctrlKey&&!e.altKey||e.metaKey;!(t<16||20<t)||224==t||91==t||o.typing||n||(o.beforeChange(),o.typing=!0,o.add({},e),r=!0)}}),l.on("MouseDown",function(e){o.typing&&i(e)}),l.addShortcut("meta+z","","Undo"),l.addShortcut("meta+y,meta+shift+z","","Redo"),l.on("AddUndo Undo Redo ClearUndos",function(e){e.isDefaultPrevented()||l.nodeChanged()}),o={data:d,typing:!1,beforeChange:function(){f||(c=l.selection.getBookmark(2,!0))},add:function(e,t){var n,i,r=l.settings;if((e=e||{}).content=a(),f||l.removed)return null;if(i=d[u],l.fire("BeforeAddUndo",{level:e,lastLevel:i,originalEvent:t}).isDefaultPrevented())return null;if(i&&i.content==e.content)return null;if(d[u]&&(d[u].beforeBookmark=c),r.custom_undo_redo_levels&&d.length>r.custom_undo_redo_levels){for(n=0;n<d.length-1;n++)d[n]=d[n+1];d.length--,u=d.length}e.bookmark=l.selection.getBookmark(2,!0),u<d.length-1&&(d.length=u+1),d.push(e),u=d.length-1;var o={level:e,lastLevel:i,originalEvent:t};return l.fire("AddUndo",o),0<u&&(s(!0),l.fire("change",o)),e},undo:function(){var e;return o.typing&&(o.add(),o.typing=!1),0<u&&(e=d[--u],0===u&&s(!1),l.setContent(e.content,{format:"raw"}),l.selection.moveToBookmark(e.beforeBookmark),l.fire("undo",{level:e})),e},redo:function(){var e;return u<d.length-1&&(e=d[++u],l.setContent(e.content,{format:"raw"}),l.selection.moveToBookmark(e.bookmark),s(!0),l.fire("redo",{level:e})),e},clear:function(){d=[],u=0,o.typing=!1,l.fire("ClearUndos")},hasUndo:function(){return 0<u||o.typing&&d[0]&&a()!=d[0].content},hasRedo:function(){return u<d.length-1&&!this.typing},transact:function(e){o.beforeChange();try{f++,e()}finally{f--}o.add()}}}}),e("tinymce/EnterKey",["tinymce/dom/TreeWalker","tinymce/dom/RangeUtils","tinymce/Env"],function(z,W,U){var V=U.ie&&U.ie<11;return function(D){function t(e){function c(e){return e&&M.isBlock(e)&&!/^(TD|TH|CAPTION|FORM)$/.test(e.nodeName)&&!/^(fixed|absolute)/i.test(e.style.position)&&"true"!==M.getContentEditable(e)}function u(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)}function i(e){var t;M.isBlock(e)&&(t=P.getRng(),e.appendChild(M.create("span",null,"\xa0")),P.select(e),e.lastChild.outerHTML="",P.setRng(t))}function t(e){var t,n=e,i=[];if(n){for(;n=n.firstChild;){if(M.isBlock(n))return;1!=n.nodeType||I[n.nodeName.toLowerCase()]||i.push(n)}for(t=i.length;t--;)!(n=i[t]).hasChildNodes()||n.firstChild==n.lastChild&&""===n.firstChild.nodeValue?M.remove(n):"A"==n.nodeName&&" "===(n.innerText||n.textContent)&&M.remove(n)}}function r(e){function t(e){for(;e;){if(1==e.nodeType||3==e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}}var n,i,r,o,a=e;if(e){if(U.ie&&U.ie<9&&w&&w.firstChild&&w.firstChild==w.lastChild&&"BR"==w.firstChild.tagName&&M.remove(w.firstChild),/^(LI|DT|DD)$/.test(e.nodeName)){var s=t(e.firstChild);s&&/^(UL|OL|DL)$/.test(s.nodeName)&&e.insertBefore(M.doc.createTextNode("\xa0"),e.firstChild)}if(r=M.createRng(),U.ie||e.normalize(),e.hasChildNodes()){for(n=new z(e,e);i=n.current();){if(3==i.nodeType){r.setStart(i,0),r.setEnd(i,0);break}if(F[i.nodeName.toLowerCase()]){r.setStartBefore(i),r.setEndBefore(i);break}a=i,i=n.next()}i||(r.setStart(a,0),r.setEnd(a,0))}else"BR"==e.nodeName?e.nextSibling&&M.isBlock(e.nextSibling)?((!_||_<9)&&(o=M.create("br"),e.parentNode.insertBefore(o,e)),r.setStartBefore(e),r.setEndBefore(e)):(r.setStartAfter(e),r.setEndAfter(e)):(r.setStart(e,0),r.setEnd(e,0));P.setRng(r),M.remove(o),P.scrollIntoView(e)}}function d(e){var t=O.forced_root_block;t&&t.toLowerCase()===e.tagName.toLowerCase()&&M.setAttribs(e,O.forced_root_block_attrs)}function n(e){e.innerHTML=V?"":'<br data-mce-bogus="1">'}function o(e){var t,n,i,r=x,o=H.getTextInlineElements();if(e||"TABLE"==T?d(t=M.create(e||A)):t=w.cloneNode(!1),i=t,!1!==O.keep_styles)do{if(o[r.nodeName]){if("_mce_caret"==r.id)continue;n=r.cloneNode(!1),M.setAttrib(n,"id",""),t.hasChildNodes()?n.appendChild(t.firstChild):i=n,t.appendChild(n)}}while(r=r.parentNode);return V||(i.innerHTML='<br data-mce-bogus="1">'),t}function a(e){var t,n,i;if(3==x.nodeType&&(e?0<C:C<x.nodeValue.length))return!1;if(x.parentNode==w&&B&&!e)return!0;if(e&&1==x.nodeType&&x==w.firstChild)return!0;if("TABLE"===x.nodeName||x.previousSibling&&"TABLE"==x.previousSibling.nodeName)return B&&!e||!B&&e;for(t=new z(x,w),3==x.nodeType&&(e&&0===C?t.prev():e||C!=x.nodeValue.length||t.next());n=t.current();){if(1===n.nodeType){if(!n.getAttribute("data-mce-bogus")&&(i=n.nodeName.toLowerCase(),I[i]&&"br"!==i))return!1}else if(3===n.nodeType&&!/^[ \t\r\n]*$/.test(n.nodeValue))return!1;e?t.prev():t.next()}return!0}function s(e,t){var n,i,r,o,a,s,l=A||"P";if(!(i=M.getParent(e,M.isBlock))||!c(i)){if(s=(i=i||b)==D.getBody()||u(i)?i.nodeName.toLowerCase():i.parentNode.nodeName.toLowerCase(),!i.hasChildNodes())return d(n=M.create(l)),i.appendChild(n),v.setStart(n,0),v.setEnd(n,0),n;for(o=e;o.parentNode!=i;)o=o.parentNode;for(;o&&!M.isBlock(o);)o=(r=o).previousSibling;if(r&&H.isValidChild(s,l.toLowerCase())){for(d(n=M.create(l)),r.parentNode.insertBefore(n,r),o=r;o&&!M.isBlock(o);)a=o.nextSibling,n.appendChild(o),o=a;v.setStart(e,t),v.setEnd(e,t)}}return e}function l(){function e(e){for(var t=k[e?"firstChild":"lastChild"];t&&1!=t.nodeType;)t=t[e?"nextSibling":"previousSibling"];return t===w}function t(){var e=k.parentNode;return/^(LI|DT|DD)$/.test(e.nodeName)?e:k}if(k!=D.getBody()){var n=k.parentNode.nodeName;/^(OL|UL|LI)$/.test(n)&&(A="LI"),S=A?o(A):M.create("BR"),e(!0)&&e()?"LI"==n?M.insertAfter(S,t()):M.replace(S,k):e(!0)?"LI"==n?(M.insertAfter(S,t()),S.appendChild(M.doc.createTextNode(" ")),S.appendChild(k)):k.parentNode.insertBefore(S,k):e()?(M.insertAfter(S,t()),i(S)):(k=t(),(y=v.cloneRange()).setStartAfter(w),y.setEndAfter(k),N=y.extractContents(),"LI"==A&&"LI"==N.firstChild.nodeName?(S=N.firstChild,M.insertAfter(N,k)):(M.insertAfter(N,k),M.insertAfter(S,k))),M.remove(w),r(S),L.add()}}function f(){D.execCommand("InsertLineBreak",!1,e)}function m(e){for(;3===e.nodeType&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;);}function h(e){var t,n,i=M.getRoot();for(t=e;t!==i&&"false"!==M.getContentEditable(t);)"true"===M.getContentEditable(t)&&(n=t),t=t.parentNode;return t!==i?n:i}function p(e){var t;V||(e.normalize(),(t=e.lastChild)&&!/^(left|right)$/gi.test(M.getStyle(t,"float",!0))||M.add(e,"br"))}function g(){S=/^(H[1-6]|PRE|FIGURE)$/.test(T)&&"HGROUP"!=R?o(A):o(),O.end_container_on_empty_block&&c(k)&&M.isEmpty(w)?S=M.split(k,w):M.insertAfter(S,w),r(S)}var v,y,b,x,C,w,_,E,S,N,k,T,R,A,B;if(v=P.getRng(!0),!e.isDefaultPrevented())if(v.collapsed){if(new W(M).normalize(v),x=v.startContainer,C=v.startOffset,A=(A=(O.force_p_newlines?"p":"")||O.forced_root_block)?A.toUpperCase():"",_=M.doc.documentMode,E=e.shiftKey,1==x.nodeType&&x.hasChildNodes()&&(B=C>x.childNodes.length-1,x=x.childNodes[Math.min(C,x.childNodes.length-1)]||x,C=B&&3==x.nodeType?x.nodeValue.length:0),b=h(x))if(L.beforeChange(),M.isBlock(b)||b==M.getRoot()){if((A&&!E||!A&&E)&&(x=s(x,C)),w=M.getParent(x,M.isBlock),k=w?M.getParent(w.parentNode,M.isBlock):null,T=w?w.nodeName.toUpperCase():"","LI"!=(R=k?k.nodeName.toUpperCase():"")||e.ctrlKey||(w=k,T=R),/^(LI|DT|DD)$/.test(T)){if(!A&&E)return void f();if(M.isEmpty(w))return void l()}if("PRE"==T&&!1!==O.br_in_pre){if(!E)return void f()}else if(!A&&!E&&"LI"!=T||A&&E)return void f();A&&w===D.getBody()||(A=A||"P",a()?g():a(!0)?(i(S=w.parentNode.insertBefore(o(),w)),r(w)):((y=v.cloneRange()).setEndAfter(w),m(N=y.extractContents()),S=N.firstChild,M.insertAfter(N,w),t(S),p(w),M.isEmpty(w)&&n(w),M.isEmpty(S)?(M.remove(S),g()):r(S)),M.setAttrib(S,"id",""),D.fire("NewBlock",{newBlock:S}),L.add())}else A&&!E||f()}else D.execCommand("Delete")}var M=D.dom,P=D.selection,O=D.settings,L=D.undoManager,H=D.schema,I=H.getNonEmptyElements(),F=H.getMoveCaretBeforeOnEnterElements();D.on("keydown",function(e){13==e.keyCode&&!1!==t(e)&&e.preventDefault()})}}),e("tinymce/ForceBlocks",[],function(){return function(g){function e(){var e,t,n,i,r,o,a,s,l,c,u,d,f=b.getStart(),m=g.getBody(),h=-16777215;if(d=v.forced_root_block,f&&1===f.nodeType&&d){for(;f&&f!=m;){if(C[f.nodeName])return;f=f.parentNode}if((e=b.getRng()).setStart){t=e.startContainer,n=e.startOffset,i=e.endContainer,r=e.endOffset;try{l=g.getDoc().activeElement===m}catch(p){}}else e.item&&(f=e.item(0),(e=g.getDoc().body.createTextRange()).moveToElementText(f)),l=e.parentElement().ownerDocument===g.getDoc(),(c=e.duplicate()).collapse(!0),n=-1*c.move("character",h),c.collapsed||((c=e.duplicate()).collapse(!1),r=-1*c.move("character",h)-n);for(f=m.firstChild,u=m.nodeName.toLowerCase();f;)if((3===f.nodeType||1==f.nodeType&&!C[f.nodeName])&&x.isValidChild(u,d.toLowerCase())){if(3===f.nodeType&&0===f.nodeValue.length){f=(a=f).nextSibling,y.remove(a);continue}o||(o=y.create(d,g.settings.forced_root_block_attrs),f.parentNode.insertBefore(o,f),s=!0),f=(a=f).nextSibling,o.appendChild(a)}else o=null,f=f.nextSibling;if(s&&l){if(e.setStart)e.setStart(t,n),e.setEnd(i,r),b.setRng(e);else try{(e=g.getDoc().body.createTextRange()).moveToElementText(m),e.collapse(!0),e.moveStart("character",n),0<r&&e.moveEnd("character",r),e.select()}catch(p){}g.nodeChanged()}}}var v=g.settings,y=g.dom,b=g.selection,x=g.schema,C=x.getBlockElements();v.forced_root_block&&g.on("NodeChange",e)}}),e("tinymce/EditorCommands",["tinymce/html/Serializer","tinymce/Env","tinymce/util/Tools","tinymce/dom/ElementUtils","tinymce/dom/RangeUtils","tinymce/dom/TreeWalker"],function(T,v,e,R,y,b){var A=e.each,x=e.extend,C=e.map,w=e.inArray,_=e.explode,B=v.gecko,D=v.ie,M=v.ie&&v.ie<11,P=!0,O=!1;return function(E){function n(t,n,i,e){var r,o,a=0;if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t)||e&&e.skip_focus||E.focus(),(e=E.fire("BeforeExecCommand",{command:t,ui:n,value:i})).isDefaultPrevented())return!1;if(o=t.toLowerCase(),r=g.exec[o])return r(o,n,i),E.fire("ExecCommand",{command:t,ui:n,value:i}),!0;if(A(E.plugins,function(e){if(e.execCommand&&e.execCommand(t,n,i))return E.fire("ExecCommand",{command:t,ui:n,value:i}),!(a=!0)}),a)return a;if(E.theme&&E.theme.execCommand&&E.theme.execCommand(t,n,i))return E.fire("ExecCommand",{command:t,ui:n,value:i}),!0;try{a=E.getDoc().execCommand(t,n,i)}catch(s){}return!!a&&(E.fire("ExecCommand",{command:t,ui:n,value:i}),!0)}function t(e){var t;if(!E._isHidden()){if(e=e.toLowerCase(),t=g.state[e])return t(e);try{return E.getDoc().queryCommandState(e)}catch(n){}return!1}}function e(e){var t;if(!E._isHidden()){if(e=e.toLowerCase(),t=g.value[e])return t(e);try{return E.getDoc().queryCommandValue(e)}catch(n){}}}function i(e,n){n=n||"exec",A(e,function(t,e){A(e.toLowerCase().split(","),function(e){g[n][e]=t})})}function r(e,r,o){e=e.toLowerCase(),g.exec[e]=function(e,t,n,i){return r.call(o||E,t,n,i)}}function o(e){if(e=e.toLowerCase(),g.exec[e])return!0;try{return E.getDoc().queryCommandSupported(e)}catch(t){}return!1}function a(e,t,n){e=e.toLowerCase(),g.state[e]=function(){return t.call(n||E)}}function s(e,t,n){e=e.toLowerCase(),g.value[e]=function(){return t.call(n||E)}}function l(e){return e=e.toLowerCase(),!!g.exec[e]}function c(e,t,n){return t===z&&(t=O),n===z&&(n=null),E.getDoc().execCommand(e,t,n)}function u(e){return h.match(e)}function d(e,t){h.toggle(e,t?{value:t}:z),E.nodeChanged()}function f(e){p=N.getBookmark(e)}function m(){N.moveToBookmark(p)}var S,N,h,p,g={state:{},exec:{},value:{}},k=E.settings;E.on("PreInit",function(){S=E.dom,N=E.selection,k=E.settings,h=E.formatter}),x(this,{execCommand:n,queryCommandState:t,queryCommandValue:e,queryCommandSupported:o,addCommands:i,addCommand:r,addQueryStateHandler:a,addQueryValueHandler:s,hasCustomCommand:l}),i({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){E.undoManager.add()},"Cut,Copy,Paste":function(e){var t,n=E.getDoc();try{c(e)}catch(r){t=P}if(t||!n.queryCommandSupported(e)){var i=E.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");v.mac&&(i=i.replace(/Ctrl\+/g,"\u2318+")),E.windowManager.alert(i)}},unlink:function(){if(N.isCollapsed()){var e=N.getNode();"A"==e.tagName&&E.dom.remove(e,!0)}else h.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(e){var t=e.substring(7);"full"==t&&(t="justify"),A("left,center,right,justify".split(","),function(e){t!=e&&h.remove("align"+e)}),"none"!=t&&(d("align"+t),n("mceRepaint"))},"InsertUnorderedList,InsertOrderedList":function(e){var t,n;c(e),(t=S.getParent(N.getNode(),"ol,ul"))&&(n=t.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(n.nodeName)&&(f(),S.split(n,t),m()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){d(e)},"ForeColor,HiliteColor,FontName":function(e,t,n){d(e,n)},FontSize:function(e,t,n){var i,r;1<=n&&n<=7&&(r=_(k.font_size_style_values),n=(i=_(k.font_size_classes))?i[n-1]||n:r[n-1]||n),d(e,n)},RemoveFormat:function(e){h.remove(e)},mceBlockQuote:function(){d("blockquote")},FormatBlock:function(e,t,n){return d(n||"p")},mceCleanup:function(){var e=N.getBookmark();E.setContent(E.getContent({cleanup:P}),{cleanup:P}),N.moveToBookmark(e)},mceRemoveNode:function(e,t,n){var i=n||N.getNode();i!=E.getBody()&&(f(),E.dom.remove(i,P),m())},mceSelectNodeDepth:function(e,t,n){var i=0;S.getParent(N.getNode(),function(e){if(1==e.nodeType&&i++==n)return N.select(e),O},E.getBody())},mceSelectNode:function(e,t,n){N.select(n)},mceInsertContent:function(e,t,i){function n(e){function t(e){return i[e]&&3==i[e].nodeType}var n,i,r;return n=N.getRng(!0),i=n.startContainer,r=n.startOffset,3==i.nodeType&&(0<r?e=e.replace(/^&nbsp;/," "):t("previousSibling")||(e=e.replace(/^ /,"&nbsp;")),r<i.length?e=e.replace(/&nbsp;(<br>|)$/," "):t("nextSibling")||(e=e.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),e}function r(){var e,t,n;t=(e=N.getRng(!0)).startContainer,n=e.startOffset,3==t.nodeType&&e.collapsed&&("\xa0"===t.data[n]?(t.deleteData(n,1),/[\u00a0| ]$/.test(i)||(i+=" ")):"\xa0"===t.data[n-1]&&(t.deleteData(n-1,1),/[\u00a0| ]$/.test(i)||(i=" "+i)))}function o(e){if(y)for(p=e.firstChild;p;p=p.walk(!0))x[p.name]&&p.attr("data-mce-new","true")}function a(){if(y){var n=E.getBody(),i=new R(S);A(S.select("*[data-mce-new]"),function(e){e.removeAttribute("data-mce-new");for(var t=e.parentNode;t&&t!=n;t=t.parentNode)i.compare(t,e)&&S.remove(e,!0)})}}var s,l,c,u,d,f,m,h,p,g,v,y,b,x=E.schema.getTextInlineElements();"string"!=typeof i&&(y=i.merge,b=i.data,i=i.content),/^ | $/.test(i)&&(i=n(i)),s=E.parser,l=new T({validate:k.validate},E.schema),v='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',f={content:i,format:"html",selection:!0},E.fire("BeforeSetContent",f),-1==(i=f.content).indexOf("{$caret}")&&(i+="{$caret}"),i=i.replace(/\{\$caret\}/,v);var C=(h=N.getRng()).startContainer||(h.parentElement?h.parentElement():null),w=E.getBody();C===w&&N.isCollapsed()&&S.isBlock(w.firstChild)&&S.isEmpty(w.firstChild)&&((h=S.createRng()).setStart(w.firstChild,0),h.setEnd(w.firstChild,0),N.setRng(h)),N.isCollapsed()||(E.getDoc().execCommand("Delete",!1,null),r());var _={context:(c=N.getNode()).nodeName.toLowerCase(),data:b};if(o(d=s.parse(i,_)),"mce_marker"==(p=d.lastChild).attr("id"))for(p=(m=p).prev;p;p=p.walk(!0))if(3==p.type||!S.isBlock(p.name)){E.schema.isValidChild(p.parent.name,"span")&&p.parent.insert(m,p,"br"===p.name);break}if(_.invalid){for(N.setContent(v),c=N.getNode(),u=E.getBody(),9==c.nodeType?c=p=u:p=c;p!==u;)p=(c=p).parentNode;i=c==u?u.innerHTML:S.getOuterHTML(c),i=l.serialize(s.parse(i.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return l.serialize(d)}))),c==u?S.setHTML(u,i):S.setOuterHTML(c,i)}else i=l.serialize(d),p=c.firstChild,g=c.lastChild,!p||p===g&&"BR"===p.nodeName?S.setHTML(c,i):N.setContent(i);a(),m=S.get("mce_marker"),N.scrollIntoView(m),h=S.createRng(),(p=m.previousSibling)&&3==p.nodeType?(h.setStart(p,p.nodeValue.length),D||(g=m.nextSibling)&&3==g.nodeType&&(p.appendData(g.data),g.parentNode.removeChild(g))):(h.setStartBefore(m),h.setEndBefore(m)),S.remove(m),N.setRng(h),E.fire("SetContent",f),E.addVisual()},mceInsertRawHTML:function(e,t,n){N.setContent("tiny_mce_marker"),E.setContent(E.getContent().replace(/tiny_mce_marker/g,function(){return n}))},mceToggleFormat:function(e,t,n){d(n)},mceSetContent:function(e,t,n){E.setContent(n)},"Indent,Outdent":function(n){var i,r,o;i=k.indentation,r=/[a-z%]+$/i.exec(i),i=parseInt(i,10),t("InsertUnorderedList")||t("InsertOrderedList")?c(n):(k.forced_root_block||S.getParent(N.getNode(),S.isBlock)||h.apply("div"),A(N.getSelectedBlocks(),function(e){if("LI"!=e.nodeName){var t=E.getParam("indent_use_margin",!1)?"margin":"padding";t+="rtl"==S.getStyle(e,"direction",!0)?"Right":"Left","outdent"==n?(o=Math.max(0,parseInt(e.style[t]||0,10)-i),S.setStyle(e,t,o?o+r:"")):(o=parseInt(e.style[t]||0,10)+i+r,S.setStyle(e,t,o))}}))},mceRepaint:function(){if(B)try{f(P),N.getSel()&&N.getSel().selectAllChildren(E.getBody()),N.collapse(P),m()}catch(e){}},InsertHorizontalRule:function(){E.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){E.hasVisual=!E.hasVisual,E.addVisual()},mceReplaceContent:function(e,t,n){E.execCommand("mceInsertContent",!1,n.replace(/\{\$selection\}/g,N.getContent({format:"text"})))},mceInsertLink:function(e,t,n){var i;"string"==typeof n&&(n={href:n}),i=S.getParent(N.getNode(),"a"),n.href=n.href.replace(" ","%20"),i&&n.href||h.remove("link"),n.href&&h.apply("link",n,i)},selectAll:function(){var e,t=S.getRoot();N.getRng().setStart?((e=S.createRng()).setStart(t,0),e.setEnd(t,t.childNodes.length),N.setRng(e)):(e=N.getRng()).item||(e.moveToElementText(t),e.select())},"delete":function(){c("Delete");var e=E.getBody();S.isEmpty(e)&&(E.setContent(""),e.firstChild&&S.isBlock(e.firstChild)?E.selection.setCursorLocation(e.firstChild,0):E.selection.setCursorLocation(e,0))},mceNewDocument:function(){E.setContent("")},InsertLineBreak:function(e,t,n){function i(){for(var e,t=new b(u,f),n=E.schema.getNonEmptyElements();e=t.next();)if(n[e.nodeName.toLowerCase()]||0<e.length)return!0}var r,o,a,s=n,l=N.getRng(!0);new y(S).normalize(l);var c=l.startOffset,u=l.startContainer;if(1==u.nodeType&&u.hasChildNodes()){var d=c>u.childNodes.length-1;u=u.childNodes[Math.min(c,u.childNodes.length-1)]||u,c=d&&3==u.nodeType?u.nodeValue.length:0}var f=S.getParent(u,S.isBlock),m=f?f.nodeName.toUpperCase():"",h=f?S.getParent(f.parentNode,S.isBlock):null,p=h?h.nodeName.toUpperCase():"",g=s&&s.ctrlKey;"LI"!=p||g||(f=h,m=p),u&&3==u.nodeType&&c>=u.nodeValue.length&&(M||i()||(r=S.create("br"),l.insertNode(r),l.setStartAfter(r),l.setEndAfter(r),o=!0)),r=S.create("br"),l.insertNode(r);var v=S.doc.documentMode;return M&&"PRE"==m&&(!v||v<8)&&r.parentNode.insertBefore(S.doc.createTextNode("\r"),r),a=S.create("span",{},"&nbsp;"),r.parentNode.insertBefore(a,r),N.scrollIntoView(a),S.remove(a),o?(l.setStartBefore(r),l.setEndBefore(r)):(l.setStartAfter(r),l.setEndAfter(r)),N.setRng(l),E.undoManager.add(),P}}),i({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(e){var t="align"+e.substring(7),n=N.isCollapsed()?[S.getParent(N.getNode(),S.isBlock)]:N.getSelectedBlocks(),i=C(n,function(e){return!!h.matchNode(e,t)});return-1!==w(i,P)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return u(e)},mceBlockQuote:function(){return u("blockquote")},Outdent:function(){var e;if(k.inline_styles){if((e=S.getParent(N.getStart(),S.isBlock))&&0<parseInt(e.style.paddingLeft,10))return P;if((e=S.getParent(N.getEnd(),S.isBlock))&&0<parseInt(e.style.paddingLeft,10))return P}return t("InsertUnorderedList")||t("InsertOrderedList")||!k.inline_styles&&!!S.getParent(N.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(e){var t=S.getParent(N.getNode(),"ul,ol");return t&&("insertunorderedlist"===e&&"UL"===t.tagName||"insertorderedlist"===e&&"OL"===t.tagName)}},"state"),i({"FontSize,FontName":function(e){var t,n=0;return(t=S.getParent(N.getNode(),"span"))&&(n="fontsize"==e?t.style.fontSize:t.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),n}},"value"),i({Undo:function(){E.undoManager.undo()},Redo:function(){E.undoManager.redo()}})}}),e("tinymce/util/URI",["tinymce/util/Tools"],function(e){function a(i,e){var t,n,r=this;if(i=l(i),t=(e=r.settings=e||{}).base_uri,/^([\w\-]+):([^\/]{2})/i.test(i)||/^\s*#/.test(i))r.source=i;else{var o=0===i.indexOf("//");0!==i.indexOf("/")||o||(i=(t&&t.protocol||"http")+"://mce_host"+i),/^[\w\-]*:?\/\//.test(i)||(n=e.base_uri?e.base_uri.path:new a(location.href).directory,""===e.base_uri.protocol?i="//mce_host"+r.toAbsPath(n,i):(i=/([^#?]*)([#?]?.*)/.exec(i),i=(t&&t.protocol||"http")+"://mce_host"+r.toAbsPath(n,i[1])+i[2])),i=i.replace(/@@/g,"(mce_at)"),i=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(i),s(c,function(e,t){var n=i[t];n&&(n=n.replace(/\(mce_at\)/g,"@@")),r[e]=n}),t&&(r.protocol||(r.protocol=t.protocol),r.userInfo||(r.userInfo=t.userInfo),r.port||"mce_host"!==r.host||(r.port=t.port),r.host&&"mce_host"!==r.host||(r.host=t.host),r.source=""),o&&(r.protocol="")}}var s=e.each,l=e.trim,c="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),n={ftp:21,http:80,https:443,mailto:25};return a.prototype={setPath:function(e){var t=this;e=/^(.*?)\/?(\w+)?$/.exec(e),t.path=e[0],t.directory=e[1],t.file=e[2],t.source="",t.getURI()},toRelative:function(e){var t,n=this;if("./"===e)return e;if("mce_host"!=(e=new a(e,{base_uri:n})).host&&n.host!=e.host&&e.host||n.port!=e.port||n.protocol!=e.protocol&&""!==e.protocol)return e.getURI();var i=n.getURI(),r=e.getURI();return i==r||"/"==i.charAt(i.length-1)&&i.substr(0,i.length-1)==r?i:(t=n.toRelPath(n.path,e.path),e.query&&(t+="?"+e.query),e.anchor&&(t+="#"+e.anchor),t)},toAbsolute:function(e,t){return(e=new a(e,{base_uri:this})).getURI(t&&this.isSameOrigin(e))},isSameOrigin:function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=n[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0}return!1},toRelPath:function(e,t){var n,i,r,o=0,a="";if(e=(e=e.substring(0,e.lastIndexOf("/"))).split("/"),n=t.split("/"),e.length>=n.length)for(i=0,r=e.length;i<r;i++)if(i>=n.length||e[i]!=n[i]){o=i+1;break}if(e.length<n.length)for(i=0,r=n.length;i<r;i++)if(i>=e.length||e[i]!=n[i]){o=i+1;break}if(1===o)return t;for(i=0,r=e.length-(o-1);i<r;i++)a+="../";for(i=o-1,r=n.length;i<r;i++)a+=i!=o-1?"/"+n[i]:n[i];return a},toAbsPath:function(e,t){var n,i,r,o=0,a=[];for(i=/\/$/.test(t)?"/":"",e=e.split("/"),t=t.split("/"),s(e,function(e){e&&a.push(e)}),e=a,n=t.length-1,a=[];0<=n;n--)0!==t[n].length&&"."!==t[n]&&(".."!==t[n]?0<o?o--:a.push(t[n]):o++);return 0!==(r=(n=e.length-o)<=0?a.reverse().join("/"):e.slice(0,n).join("/")+"/"+a.reverse().join("/")).indexOf("/")&&(r="/"+r),i&&r.lastIndexOf("/")!==r.length-1&&(r+=i),r},getURI:function(e){var t,n=this;return n.source&&!e||(t="",e||(n.protocol?t+=n.protocol+"://":t+="//",n.userInfo&&(t+=n.userInfo+"@"),n.host&&(t+=n.host),n.port&&(t+=":"+n.port)),n.path&&(t+=n.path),n.query&&(t+="?"+n.query),n.anchor&&(t+="#"+n.anchor),n.source=t),n.source}},a.parseDataUri=function(e){var t,n;return e=decodeURIComponent(e).split(","),(n=/data:([^;]+)/.exec(e[0]))&&(t=n[1]),{type:t,data:e[1]}},a}),e("tinymce/util/Class",["tinymce/util/Tools"],function(e){function t(){}var c,u,d=e.each,f=e.extend;return t.extend=c=function(n){function i(){var e,t,n,i=this;if(!u&&(i.init&&i.init.apply(i,arguments),t=i.Mixins))for(e=t.length;e--;)(n=t[e]).init&&n.init.apply(i,arguments)}function t(){return this}function e(i,r){return function(){var e,t=this,n=t._super;return t._super=l[i],e=r.apply(t,arguments),t._super=n,e}}var r,o,a,s=this,l=s.prototype;for(o in u=!0,r=new s,u=!1,n.Mixins&&(d(n.Mixins,function(e){for(var t in e=e)"init"!==t&&(n[t]=e[t])}),l.Mixins&&(n.Mixins=l.Mixins.concat(n.Mixins))),n.Methods&&d(n.Methods.split(","),function(e){n[e]=t}),n.Properties&&d(n.Properties.split(","),function(e){var i="_"+e;n[e]=function(e){var t,n=this;return e!==t?(n[i]=e,n):n[i]}}),n.Statics&&d(n.Statics,function(e,t){i[t]=e}),n.Defaults&&l.Defaults&&(n.Defaults=f({},l.Defaults,n.Defaults)),n)"function"==typeof(a=n[o])&&l[o]?r[o]=e(o,a):r[o]=a;return i.prototype=r,(i.constructor=i).extend=c,i},t}),e("tinymce/util/EventDispatcher",["tinymce/util/Tools"],function(h){function e(a){function s(){return!1}function l(){return!0}function e(e,t){var n,i,r,o;if(e=e.toLowerCase(),(t=t||{}).type=e,t.target||(t.target=u),t.preventDefault||(t.preventDefault=function(){t.isDefaultPrevented=l},t.stopPropagation=function(){t.isPropagationStopped=l},t.stopImmediatePropagation=function(){t.isImmediatePropagationStopped=l},t.isDefaultPrevented=s,t.isPropagationStopped=s,t.isImmediatePropagationStopped=s),a.beforeFire&&a.beforeFire(t),n=m[e])for(i=0,r=n.length;i<r;i++){if((o=n[i]).once&&c(e,o.func),t.isImmediatePropagationStopped())return t.stopPropagation(),t;if(!1===o.func.call(u,t))return t.preventDefault(),t}return t}function i(e,t,n,i){var r,o,a;if(!1===t&&(t=s),t)for(t={func:t},i&&h.extend(t,i),a=(o=e.toLowerCase().split(" ")).length;a--;)e=o[a],(r=m[e])||(r=m[e]=[],d(e,!0)),n?r.unshift(t):r.push(t);return f}function c(e,t){var n,i,r,o,a;if(e)for(n=(o=e.toLowerCase().split(" ")).length;n--;){if(e=o[n],i=m[e],!e){for(r in m)d(r,!1),delete m[r];return f}if(i){if(t)for(a=i.length;a--;)i[a].func===t&&(i=i.slice(0,a).concat(i.slice(a+1)),m[e]=i);else i.length=0;i.length||(d(e,!1),delete m[e])}}else{for(e in m)d(e,!1);m={}}return f}function t(e,t,n){return i(e,t,n,{once:!0})}function n(e){return e=e.toLowerCase(),!(!m[e]||0===m[e].length)}var u,d,f=this,m={};u=(a=a||{}).scope||f,d=a.toggleEvent||s,f.fire=e,f.on=i,f.off=c,f.once=t,f.has=n}var t=h.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchend"," ");return e.isNative=function(e){return!!t[e.toLowerCase()]},e}),e("tinymce/data/Binding",[],function(){function e(e){this.create=e.create}return e.create=function(o,a){return new e({create:function(t,n){function e(e){t.set(n,e.value)}function i(e){o.set(a,e.value)}var r;return t.on("change:"+n,i),o.on("change:"+a,e),(r=t._bindings)||(r=t._bindings=[],t.on("destroy",function(){for(var e=r.length;e--;)r[e]()})),r.push(function(){o.off("change:"+a,e)}),o.get(a)}})},e}),e("tinymce/util/Observable",["tinymce/util/EventDispatcher"],function(i){function o(n){return n._eventDispatcher||(n._eventDispatcher=new i({scope:n,toggleEvent:function(e,t){i.isNative(e)&&n.toggleNativeEvent&&n.toggleNativeEvent(e,t)}})),n._eventDispatcher}return{fire:function(e,t,n){var i=this;if(i.removed&&"remove"!==e)return t;if(t=o(i).fire(e,t,n),!1!==n&&i.parent)for(var r=i.parent();r&&!t.isPropagationStopped();)r.fire(e,t,!1),r=r.parent();return t},on:function(e,t,n){return o(this).on(e,t,n)},off:function(e,t){return o(this).off(e,t)},once:function(e,t){return o(this).once(e,t)},hasEventListeners:function(e){return o(this).has(e)}}}),e("tinymce/data/ObservableObject",["tinymce/data/Binding","tinymce/util/Observable","tinymce/util/Class","tinymce/util/Tools"],function(o,e,t,r){function a(e){return 0<e.nodeType}function s(e,t){var n,i;if(e===t)return!0;if(null===e||null===t)return e===t;if("object"!=typeof e||"object"!=typeof t)return e===t;if(r.isArray(t)){if(e.length!==t.length)return!1;for(n=e.length;n--;)if(!s(e[n],t[n]))return!1}if(a(e)||a(t))return e===t;for(n in i={},t){if(!s(e[n],t[n]))return!1;i[n]=!0}for(n in e)if(!i[n]&&!s(e[n],t[n]))return!1;return!0}return t.extend({Mixins:[e],init:function(e){var t,n;for(t in e=e||{})(n=e[t])instanceof o&&(e[t]=n.create(this,t));this.data=e},set:function(e,t){var n,i,r=this.data[e];if(t instanceof o&&(t=t.create(this,e)),"object"==typeof e){for(n in e)this.set(n,e[n]);return this}return s(r,t)||(this.data[e]=t,i={target:this,name:e,value:t,oldValue:r},this.fire("change:"+e,i),this.fire("change",i)),this},get:function(e){return this.data[e]},has:function(e){return e in this.data},bind:function(e){return o.create(this,e)},destroy:function(){this.fire("destroy")}})}),e("tinymce/ui/Selector",["tinymce/util/Class"],function(e){function r(e){for(var t,n=[],i=e.length;i--;)(t=e[i]).__checked||(n.push(t),t.__checked=1);for(i=n.length;i--;)delete n[i].__checked;return n}var o,f=/^([\w\\*]+)?(?:#([\w\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,m=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,h=/^\s*|\s*$/g,a=e.extend({init:function(e){function o(t){if(t)return t=t.toLowerCase(),function(e){return"*"===t||e.type===t}}function a(t){if(t)return function(e){return e._name===t}}function s(n){if(n)return n=n.split("."),function(e){for(var t=n.length;t--;)if(!e.classes.contains(n[t]))return!1;return!0}}function l(n,i,r){if(n)return function(e){var t=e[n]?e[n]():"";return i?"="===i?t===r:"*="===i?0<=t.indexOf(r):"~="===i?0<=(" "+t+" ").indexOf(" "+r+" "):"!="===i?t!=r:"^="===i?0===t.indexOf(r):"$="===i&&t.substr(t.length-r.length)===r:!!r}}function c(i){var t;if(i)return(i=/(?:not\((.+)\))|(.+)/i.exec(i))[1]?(t=d(i[1],[]),function(e){return!n(e,t)}):(i=i[2],function(e,t,n){return"first"===i?0===t:"last"===i?t===n-1:"even"===i?t%2==0:"odd"===i?t%2==1:!!e[i]&&e[i]()})}function u(e,t,n){function i(e){e&&t.push(e)}var r;return i(o((r=f.exec(e.replace(h,"")))[1])),i(a(r[2])),i(s(r[3])),i(l(r[4],r[5],r[6])),i(c(r[7])),t.pseudo=!!r[7],t.direct=n,t}function d(e,t){var n,i,r,o=[];do{if(m.exec(""),(i=m.exec(e))&&(e=i[3],o.push(i[1]),i[2])){n=i[3];break}}while(i);for(n&&d(n,t),e=[],r=0;r<o.length;r++)">"!=o[r]&&e.push(u(o[r],[],">"===o[r-1]));return t.push(e),t}var n=this.match;this._selectors=d(e,[])},match:function(e,t){var n,i,r,o,a,s,l,c,u,d,f,m,h;for(n=0,i=(t=t||this._selectors).length;n<i;n++){for(h=e,m=0,r=(o=(a=t[n]).length)-1;0<=r;r--)for(c=a[r];h;){
if(c.pseudo)for(u=d=(f=h.parent().items()).length;u--&&f[u]!==h;);for(s=0,l=c.length;s<l;s++)if(!c[s](h,u,d)){s=l+1;break}if(s===l){m++;break}if(r===o-1)break;h=h.parent()}if(m===o)return!0}return!1},find:function(e){function c(e,t,n){var i,r,o,a,s,l=t[n];for(i=0,r=e.length;i<r;i++){for(s=e[i],o=0,a=l.length;o<a;o++)if(!l[o](s,i,r)){o=a+1;break}if(o===a)n==t.length-1?u.push(s):s.items&&c(s.items(),t,n+1);else if(l.direct)return;s.items&&c(s.items(),t,n)}}var t,n,u=[],i=this._selectors;if(e.items){for(t=0,n=i.length;t<n;t++)c(e.items(),i[t],0);1<n&&(u=r(u))}return o||(o=a.Collection),new o(u)}});return a}),e("tinymce/ui/Collection",["tinymce/util/Tools","tinymce/ui/Selector","tinymce/util/Class"],function(i,s,e){var l,r,n=Array.prototype.push,t=Array.prototype.slice;return r={length:0,init:function(e){e&&this.add(e)},add:function(e){var t=this;return i.isArray(e)?n.apply(t,e):e instanceof l?t.add(e.toArray()):n.call(t,e),t},set:function(e){var t,n=this,i=n.length;for(n.length=0,n.add(e),t=n.length;t<i;t++)delete n[t];return n},filter:function(t){var e,n,i,r,o=this,a=[];for("string"==typeof t?(t=new s(t),r=function(e){return t.match(e)}):r=t,e=0,n=o.length;e<n;e++)r(i=o[e])&&a.push(i);return new l(a)},slice:function(){return new l(t.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},each:function(e){return i.each(this,e),this},toArray:function(){return i.toArray(this)},indexOf:function(e){for(var t=this,n=t.length;n--&&t[n]!==e;);return n},reverse:function(){return new l(i.toArray(this).reverse())},hasClass:function(e){return!!this[0]&&this[0].classes.contains(e)},prop:function(t,n){var e,i,r=this;return n!==e?(r.each(function(e){e[t]&&e[t](n)}),r):(i=r[0])&&i[t]?i[t]():void 0},exec:function(t){var e=this,n=i.toArray(arguments).slice(1);return e.each(function(e){e[t]&&e[t].apply(e,n)}),e},remove:function(){for(var e=this.length;e--;)this[e].remove();return this},addClass:function(t){return this.each(function(e){e.classes.add(t)})},removeClass:function(t){return this.each(function(e){e.classes.remove(t)})}},i.each("fire on off show hide append prepend before after reflow".split(" "),function(n){r[n]=function(){var t=i.toArray(arguments);return this.each(function(e){n in e&&e[n].apply(e,t)}),this}}),i.each("text name disabled active selected checked visible parent value data".split(" "),function(t){r[t]=function(e){return this.prop(t,e)}}),l=e.extend(r),s.Collection=l}),e("tinymce/ui/DomUtils",["tinymce/util/Tools","tinymce/dom/DOMUtils"],function(e,r){var t=0;return{id:function(){return"mceu_"+t++},createFragment:function(e){return r.DOM.createFragment(e)},getWindowSize:function(){return r.DOM.getViewPort()},getSize:function(e){var t,n;if(e.getBoundingClientRect){var i=e.getBoundingClientRect();t=Math.max(i.width||i.right-i.left,e.offsetWidth),n=Math.max(i.height||i.bottom-i.bottom,e.offsetHeight)}else t=e.offsetWidth,n=e.offsetHeight;return{width:t,height:n}},getPos:function(e,t){return r.DOM.getPos(e,t)},getViewPort:function(e){return r.DOM.getViewPort(e)},get:function(e){return document.getElementById(e)},addClass:function(e,t){return r.DOM.addClass(e,t)},removeClass:function(e,t){return r.DOM.removeClass(e,t)},hasClass:function(e,t){return r.DOM.hasClass(e,t)},toggleClass:function(e,t,n){return r.DOM.toggleClass(e,t,n)},css:function(e,t,n){return r.DOM.setStyle(e,t,n)},getRuntimeStyle:function(e,t){return r.DOM.getStyle(e,t,!0)},on:function(e,t,n,i){return r.DOM.bind(e,t,n,i)},off:function(e,t,n){return r.DOM.unbind(e,t,n)},fire:function(e,t,n){return r.DOM.fire(e,t,n)},innerHtml:function(e,t){r.DOM.setHTML(e,t)}}}),e("tinymce/ui/BoxUtils",[],function(){return{parseBox:function(e){var t,n=10;if(e)return"number"==typeof e?{top:e=e||0,left:e,bottom:e,right:e}:(1===(t=(e=e.split(" ")).length)?e[1]=e[2]=e[3]=e[0]:2===t?(e[2]=e[0],e[3]=e[1]):3===t&&(e[3]=e[1]),{top:parseInt(e[0],n)||0,right:parseInt(e[1],n)||0,bottom:parseInt(e[2],n)||0,left:parseInt(e[3],n)||0})},measureBox:function(n,e){function i(e){var t=document.defaultView;return t?(e=e.replace(/[A-Z]/g,function(e){return"-"+e}),t.getComputedStyle(n,null).getPropertyValue(e)):n.currentStyle[e]}function t(e){var t=parseFloat(i(e),10);return isNaN(t)?0:t}return{top:t(e+"TopWidth"),right:t(e+"RightWidth"),bottom:t(e+"BottomWidth"),left:t(e+"LeftWidth")}}}}),e("tinymce/ui/ClassList",["tinymce/util/Tools"],function(e){function t(){}function n(e){this.cls=[],this.cls._map={},this.onchange=e||t,this.prefix=""}return e.extend(n.prototype,{add:function(e){return e&&!this.contains(e)&&(this.cls._map[e]=!0,this.cls.push(e),this._change()),this},remove:function(e){if(this.contains(e)){for(var t=0;t<this.cls.length&&this.cls[t]!==e;t++);this.cls.splice(t,1),delete this.cls._map[e],this._change()}return this},toggle:function(e,t){var n=this.contains(e);return n!==t&&(n?this.remove(e):this.add(e),this._change()),this},contains:function(e){return!!this.cls._map[e]},_change:function(){delete this.clsValue,this.onchange.call(this)}}),n.prototype.toString=function(){var e;if(this.clsValue)return this.clsValue;e="";for(var t=0;t<this.cls.length;t++)0<t&&(e+=" "),e+=this.prefix+this.cls[t];return e},n}),e("tinymce/ui/ReflowQueue",[],function(){function n(e,t){function n(e){window.setTimeout(e,0)}var i,r=window.requestAnimationFrame,o=["ms","moz","webkit"];for(i=0;i<o.length&&!r;i++)r=window[o[i]+"RequestAnimationFrame"];r||(r=n),r(e,t)}var i,r={};return{add:function(e){var t=e.parent();if(t){if(!t._layout||t._layout.isNative())return;r[t._id]||(r[t._id]=t),i||(i=!0,n(function(){var e,t;for(e in i=!1,r)(t=r[e]).state.get("rendered")&&t.reflow();r={}},document.body))}},remove:function(e){r[e._id]&&delete r[e._id]}}}),e("tinymce/ui/Control",["tinymce/util/Class","tinymce/util/Tools","tinymce/util/EventDispatcher","tinymce/data/ObservableObject","tinymce/ui/Collection","tinymce/ui/DomUtils","tinymce/dom/DomQuery","tinymce/ui/BoxUtils","tinymce/ui/ClassList","tinymce/ui/ReflowQueue"],function(e,o,i,a,r,v,f,y,s,c){function l(n){return n._eventDispatcher||(n._eventDispatcher=new i({scope:n,toggleEvent:function(e,t){t&&i.isNative(e)&&(n._nativeEvents||(n._nativeEvents={}),n._nativeEvents[e]=!0,n.state.get("rendered")&&u(n))}})),n._eventDispatcher}function u(s){function e(e){var t=s.getParentCtrl(e.target);t&&t.fire(e.type,e)}function t(){var e=l._lastHoverCtrl;e&&(e.fire("mouseleave",{target:e.getEl()}),e.parents().each(function(e){e.fire("mouseleave",{target:e.getEl()})}),l._lastHoverCtrl=null)}function n(e){var t,n,i,r=s.getParentCtrl(e.target),o=l._lastHoverCtrl,a=0;if(r!==o){if((n=(l._lastHoverCtrl=r).parents().toArray().reverse()).push(r),o){for((i=o.parents().toArray().reverse()).push(o),a=0;a<i.length&&n[a]===i[a];a++);for(t=i.length-1;a<=t;t--)(o=i[t]).fire("mouseleave",{target:o.getEl()})}for(t=a;t<n.length;t++)(r=n[t]).fire("mouseenter",{target:r.getEl()})}}function i(e){e.preventDefault(),"mousewheel"==e.type?(e.deltaY=-.025*e.wheelDelta,e.wheelDeltaX&&(e.deltaX=-.025*e.wheelDeltaX)):(e.deltaX=0,e.deltaY=e.detail),e=s.fire("wheel",e)}var r,o,a,l,c,u;if(c=s._nativeEvents){for((a=s.parents().toArray()).unshift(s),r=0,o=a.length;!l&&r<o;r++)l=a[r]._eventsRoot;for(l||(l=a[a.length-1]||s),s._eventsRoot=l,o=r,r=0;r<o;r++)a[r]._eventsRoot=l;var d=l._delegates;for(u in d||(d=l._delegates={}),c){if(!c)return!1;"wheel"!==u||h?("mouseenter"===u||"mouseleave"===u?l._hasMouseEnter||(f(l.getEl()).on("mouseleave",t).on("mouseover",n),l._hasMouseEnter=1):d[u]||(f(l.getEl()).on(u,e),d[u]=!0),c[u]=!1):m?f(s.getEl()).on("mousewheel",i):f(s.getEl()).on("DOMMouseScroll",i)}}}var d,m="onmousewheel"in document,h=!1,t="mce-",p=0,n={Statics:{classPrefix:t},isRtl:function(){return d.rtl},classPrefix:t,init:function(t){function e(e){var t;for(e=e.split(" "),t=0;t<e.length;t++)r.classes.add(e[t])}var n,i,r=this;r.settings=t=o.extend({},r.Defaults,t),r._id=t.id||"mceu_"+p++,r._aria={role:t.role},r._elmCache={},r.$=f,r.state=new a({visible:!0,active:!1,disabled:!1,value:""}),r.data=new a(t.data),r.classes=new s(function(){r.state.get("rendered")&&(r.getEl().className=this.toString())}),r.classes.prefix=r.classPrefix,(n=t.classes)&&(r.Defaults&&(i=r.Defaults.classes)&&n!=i&&e(i),e(n)),o.each("title text name visible disabled active value".split(" "),function(e){e in t&&r[e](t[e])}),r.on("click",function(){if(r.disabled())return!1}),r.settings=t,r.borderBox=y.parseBox(t.border),r.paddingBox=y.parseBox(t.padding),r.marginBox=y.parseBox(t.margin),t.hidden&&r.hide()},Properties:"parent,name",getContainerElm:function(){return document.body},getParentCtrl:function(e){for(var t,n=this.getRoot().controlIdLookup;e&&n&&!(t=n[e.id]);)e=e.parentNode;return t},initLayoutRect:function(){var e,t,n,i,r,o,a,s,l,c,u=this,d=u.settings,f=u.getEl();e=u.borderBox=u.borderBox||y.measureBox(f,"border"),u.paddingBox=u.paddingBox||y.measureBox(f,"padding"),u.marginBox=u.marginBox||y.measureBox(f,"margin"),c=v.getSize(f),s=d.minWidth,l=d.minHeight,r=s||c.width,o=l||c.height,n=d.width,i=d.height,a=void 0!==(a=d.autoResize)?a:!n&&!i,n=n||r,i=i||o;var m=e.left+e.right,h=e.top+e.bottom,p=d.maxWidth||65535,g=d.maxHeight||65535;return u._layoutRect=t={x:d.x||0,y:d.y||0,w:n,h:i,deltaW:m,deltaH:h,contentW:n-m,contentH:i-h,innerW:n-m,innerH:i-h,startMinWidth:s||0,startMinHeight:l||0,minW:Math.min(r,p),minH:Math.min(o,g),maxW:p,maxH:g,autoResize:a,scrollW:0},u._lastLayoutRect={},t},layoutRect:function(e){var t,n,i,r,o,a,s=this,l=s._layoutRect;return l||(l=s.initLayoutRect()),e?(i=l.deltaW,r=l.deltaH,e.x!==o&&(l.x=e.x),e.y!==o&&(l.y=e.y),e.minW!==o&&(l.minW=e.minW),e.minH!==o&&(l.minH=e.minH),(n=e.w)!==o&&(n=(n=n<l.minW?l.minW:n)>l.maxW?l.maxW:n,l.w=n,l.innerW=n-i),(n=e.h)!==o&&(n=(n=n<l.minH?l.minH:n)>l.maxH?l.maxH:n,l.h=n,l.innerH=n-r),(n=e.innerW)!==o&&(n=(n=n<l.minW-i?l.minW-i:n)>l.maxW-i?l.maxW-i:n,l.innerW=n,l.w=n+i),(n=e.innerH)!==o&&(n=(n=n<l.minH-r?l.minH-r:n)>l.maxH-r?l.maxH-r:n,l.innerH=n,l.h=n+r),e.contentW!==o&&(l.contentW=e.contentW),e.contentH!==o&&(l.contentH=e.contentH),(t=s._lastLayoutRect).x===l.x&&t.y===l.y&&t.w===l.w&&t.h===l.h||((a=d.repaintControls)&&a.map&&!a.map[s._id]&&(a.push(s),a.map[s._id]=!0),t.x=l.x,t.y=l.y,t.w=l.w,t.h=l.h),s):l},repaint:function(){var e,t,n,i,r,o,a,s,l,c,u=this;l=document.createRange?function(e){return e}:Math.round,e=u.getEl().style,i=u._layoutRect,s=u._lastRepaintRect||{},o=(r=u.borderBox).left+r.right,a=r.top+r.bottom,i.x!==s.x&&(e.left=l(i.x)+"px",s.x=i.x),i.y!==s.y&&(e.top=l(i.y)+"px",s.y=i.y),i.w!==s.w&&(c=l(i.w-o),e.width=(0<=c?c:0)+"px",s.w=i.w),i.h!==s.h&&(c=l(i.h-a),e.height=(0<=c?c:0)+"px",s.h=i.h),u._hasBody&&i.innerW!==s.innerW&&(c=l(i.innerW),(n=u.getEl("body"))&&((t=n.style).width=(0<=c?c:0)+"px"),s.innerW=i.innerW),u._hasBody&&i.innerH!==s.innerH&&(c=l(i.innerH),(n=n||u.getEl("body"))&&((t=t||n.style).height=(0<=c?c:0)+"px"),s.innerH=i.innerH),u._lastRepaintRect=s,u.fire("repaint",{},!1)},on:function(e,t){function n(n){var i,r;return"string"!=typeof n?n:function(e){return i||o.parentsAndSelf().each(function(e){var t=e.settings.callbacks;if(t&&(i=t[n]))return r=e,!1}),i?i.call(r,e):(e.action=n,void this.fire("execute",e))}}var o=this;return l(o).on(e,n(t)),o},off:function(e,t){return l(this).off(e,t),this},fire:function(e,t,n){var i=this;if((t=t||{}).control||(t.control=i),t=l(i).fire(e,t),!1!==n&&i.parent)for(var r=i.parent();r&&!t.isPropagationStopped();)r.fire(e,t,!1),r=r.parent();return t},hasEventListeners:function(e){return l(this).has(e)},parents:function(e){var t,n=this,i=new r;for(t=n.parent();t;t=t.parent())i.add(t);return e&&(i=i.filter(e)),i},parentsAndSelf:function(e){return new r(this).add(this.parents(e))},next:function(){var e=this.parent().items();return e[e.indexOf(this)+1]},prev:function(){var e=this.parent().items();return e[e.indexOf(this)-1]},innerHtml:function(e){return this.$el.html(e),this},getEl:function(e){var t=e?this._id+"-"+e:this._id;return this._elmCache[t]||(this._elmCache[t]=f("#"+t)[0]),this._elmCache[t]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(e){}return this},blur:function(){return this.getEl().blur(),this},aria:function(e,t){var n=this,i=n.getEl(n.ariaTarget);return void 0===t?n._aria[e]:(n._aria[e]=t,n.state.get("rendered")&&i.setAttribute("role"==e?e:"aria-"+e,t),n)},encode:function(e,t){return!1!==t&&(e=this.translate(e)),(e||"").replace(/[&<>"]/g,function(e){return"&#"+e.charCodeAt(0)+";"})},translate:function(e){return d.translate?d.translate(e):e},before:function(e){var t=this,n=t.parent();return n&&n.insert(e,n.items().indexOf(t),!0),t},after:function(e){var t=this,n=t.parent();return n&&n.insert(e,n.items().indexOf(t)),t},remove:function(){var t,e,n=this,i=n.getEl(),r=n.parent();if(n.items){var o=n.items().toArray();for(e=o.length;e--;)o[e].remove()}r&&r.items&&(t=[],r.items().each(function(e){e!==n&&t.push(e)}),r.items().set(t),r._lastRect=null),n._eventsRoot&&n._eventsRoot==n&&f(i).off();var a=n.getRoot().controlIdLookup;return a&&delete a[n._id],i&&i.parentNode&&i.parentNode.removeChild(i),n.state.set("rendered",!1),n.state.destroy(),n.fire("remove"),n},renderBefore:function(e){return f(e).before(this.renderHtml()),this.postRender(),this},renderTo:function(e){return f(e||this.getContainerElm()).append(this.renderHtml()),this.postRender(),this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var e,t,n,i,r,o=this,a=o.settings;for(i in o.$el=f(o.getEl()),o.state.set("rendered",!0),a)0===i.indexOf("on")&&o.on(i.substr(2),a[i]);if(o._eventsRoot){for(n=o.parent();!r&&n;n=n.parent())r=n._eventsRoot;if(r)for(i in r._nativeEvents)o._nativeEvents[i]=!0}u(o),a.style&&(e=o.getEl())&&(e.setAttribute("style",a.style),e.style.cssText=a.style),o.settings.border&&(t=o.borderBox,o.$el.css({"border-top-width":t.top,"border-right-width":t.right,"border-bottom-width":t.bottom,"border-left-width":t.left}));var s=o.getRoot();for(var l in s.controlIdLookup||(s.controlIdLookup={}),(s.controlIdLookup[o._id]=o)._aria)o.aria(l,o._aria[l]);!1===o.state.get("visible")&&(o.getEl().style.display="none"),o.bindStates(),o.state.on("change:visible",function(e){var t,n=e.value;o.state.get("rendered")&&(o.getEl().style.display=!1===n?"none":"",o.getEl().getBoundingClientRect()),(t=o.parent())&&(t._lastRect=null),o.fire(n?"show":"hide"),c.add(o)}),o.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(e){function t(e,t){var n,i,r=e;for(n=i=0;r&&r!=t&&r.nodeType;)n+=r.offsetLeft||0,i+=r.offsetTop||0,r=r.offsetParent;return{x:n,y:i}}var n,i,r,o,a,s,l=this.getEl(),c=l.parentNode,u=t(l,c);return n=u.x,i=u.y,r=l.offsetWidth,o=l.offsetHeight,a=c.clientWidth,s=c.clientHeight,"end"==e?(n-=a-r,i-=s-o):"center"==e&&(n-=a/2-r/2,i-=s/2-o/2),c.scrollLeft=n,c.scrollTop=i,this},getRoot:function(){for(var e,t=this,n=[];t;){if(t.rootControl){e=t.rootControl;break}n.push(t),t=(e=t).parent()}e||(e=this);for(var i=n.length;i--;)n[i].rootControl=e;return e},reflow:function(){c.remove(this);var e=this.parent();return e._layout&&!e._layout.isNative()&&e.reflow(),this}};return o.each("text title visible disabled active value".split(" "),function(t){n[t]=function(e){return 0===arguments.length?this.state.get(t):(void 0!==e&&this.state.set(t,e),this)}}),d=e.extend(n)}),e("tinymce/ui/Factory",[],function(){var o,a={};return{add:function(e,t){a[e.toLowerCase()]=t},has:function(e){return!!a[e.toLowerCase()]},create:function(e,t){var n,i,r;if(!o){for(i in r=tinymce.ui)a[i.toLowerCase()]=r[i];o=!0}if("string"==typeof e?(t=t||{}).type=e:e=(t=e).type,e=e.toLowerCase(),!(n=a[e]))throw new Error("Could not find control by type: "+e);return(n=new n(t)).type=e,n}}}),e("tinymce/ui/KeyboardNavigation",[],function(){return function(e){function n(e){return e&&1===e.nodeType}function i(e){return n(e=e||b)?e.getAttribute("role"):null}function r(e){for(var t,n=e||b;n=n.parentNode;)if(t=i(n))return t}function o(e){var t=b;if(n(t))return t.getAttribute("aria-"+e)}function a(e){var t=e.tagName.toUpperCase();return"INPUT"==t||"TEXTAREA"==t}function s(e){return!(!a(e)||e.hidden)||!!/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell)$/.test(i(e))}function l(e){function n(e){if(1==e.nodeType&&"none"!=e.style.display){s(e)&&i.push(e);for(var t=0;t<e.childNodes.length;t++)n(e.childNodes[t])}}var i=[];return n(e||C.getEl()),i}function c(e){var t,n;(n=(e=e||x).parents().toArray()).unshift(e);for(var i=0;i<n.length&&!(t=n[i]).settings.ariaRoot;i++);return t}function t(e){var t=c(e),n=l(t.getEl());t.settings.ariaRemember&&"lastAriaIndex"in t?u(t.lastAriaIndex,n):u(0,n)}function u(e,t){return e<0?e=t.length-1:e>=t.length&&(e=0),t[e]&&t[e].focus(),e}function d(e,t){var n=-1,i=c();t=t||l(i.getEl());for(var r=0;r<t.length;r++)t[r]===b&&(n=r);n+=e,i.lastAriaIndex=u(n,t)}function f(){"tablist"==r()?d(-1,l(b.parentNode)):x.parent().submenu?v():d(-1)}function m(){var e=i(),t=r();"tablist"==t?d(1,l(b.parentNode)):"menuitem"==e&&"menu"==t&&o("haspopup")?y():d(1)}function h(){d(-1)}function p(){var e=i(),t=r();"menuitem"==e&&"menubar"==t?y():"button"==e&&o("haspopup")?y({key:"down"}):d(1)}function g(e){if("tablist"==r()){var t=l(x.getEl("body"))[0];t&&t.focus()}else d(e.shiftKey?-1:1)}function v(){x.fire("cancel")}function y(e){e=e||{},x.fire("click",{target:b,aria:e})}var b,x,C=e.root;try{b=document.activeElement}catch(w){b=document.body}return x=C.getParentCtrl(b),C.on("keydown",function(e){function t(e,t){a(b)||!1!==t(e)&&e.preventDefault()}if(!e.isDefaultPrevented())switch(e.keyCode){case 37:t(e,f);break;case 39:t(e,m);break;case 38:t(e,h);break;case 40:t(e,p);break;case 27:v();break;case 14:case 13:case 32:t(e,y);break;case 9:!1!==g(e)&&e.preventDefault()}}),C.on("focusin",function(e){b=e.target,x=e.control}),{focusFirst:t}}}),e("tinymce/ui/Container",["tinymce/ui/Control","tinymce/ui/Collection","tinymce/ui/Selector","tinymce/ui/Factory","tinymce/ui/KeyboardNavigation","tinymce/util/Tools","tinymce/dom/DomQuery","tinymce/ui/ClassList","tinymce/ui/ReflowQueue"],function(r,n,t,o,i,a,s,l,c){var u={};return r.extend({init:function(e){var t=this;t._super(e),(e=t.settings).fixed&&t.state.set("fixed",!0),t._items=new n,t.isRtl()&&t.classes.add("rtl"),t.bodyClasses=new l(function(){t.state.get("rendered")&&(t.getEl("body").className=this.toString())}),t.bodyClasses.prefix=t.classPrefix,t.classes.add("container"),t.bodyClasses.add("container-body"),e.containerCls&&t.classes.add(e.containerCls),t._layout=o.create((e.layout||"")+"layout"),t.settings.items?t.add(t.settings.items):t.add(t.render()),t._hasBody=!0},items:function(){return this._items},find:function(e){return(e=u[e]=u[e]||new t(e)).find(this)},add:function(e){var t=this;return t.items().add(t.create(e)).parent(t),t},focus:function(e){var t,n,i,r=this;if(!e||!(n=r.keyboardNav||r.parents().eq(-1)[0].keyboardNav))return i=r.find("*"),r.statusbar&&i.add(r.statusbar.items()),i.each(function(e){if(e.settings.autofocus)return t=null,!1;e.canFocus&&(t=t||e)}),t&&t.focus(),r;n.focusFirst(r)},replace:function(e,t){for(var n,i=this.items(),r=i.length;r--;)if(i[r]===e){i[r]=t;break}0<=r&&((n=t.getEl())&&n.parentNode.removeChild(n),(n=e.getEl())&&n.parentNode.removeChild(n)),t.parent(this)},create:function(e){var t,n=this,i=[];return a.isArray(e)||(e=[e]),a.each(e,function(e){e&&(e instanceof r||("string"==typeof e&&(e={type:e}),t=a.extend({},n.settings.defaults,e),e.type=t.type=t.type||e.type||n.settings.defaultType||(t.defaults?t.defaults.type:null),e=o.create(t)),i.push(e))}),i},renderNew:function(){var i=this;return i.items().each(function(e,t){var n;e.parent(i),e.state.get("rendered")||((n=i.getEl("body")).hasChildNodes()&&t<=n.childNodes.length-1?s(n.childNodes[t]).before(e.renderHtml()):s(n).append(e.renderHtml()),e.postRender(),c.add(e))}),i._layout.applyClasses(i.items().filter(":visible")),i._lastRect=null,i},append:function(e){return this.add(e).renderNew()},prepend:function(e){var t=this;return t.items().set(t.create(e).concat(t.items().toArray())),t.renderNew()},insert:function(e,t,n){var i,r,o,a=this;return e=a.create(e),i=a.items(),!n&&t<i.length-1&&(t+=1),0<=t&&t<i.length&&(r=i.slice(0,t).toArray(),o=i.slice(t).toArray(),i.set(r.concat(e,o))),a.renderNew()},fromJSON:function(e){var t=this;for(var n in e)t.find("#"+n).value(e[n]);return t},toJSON:function(){var i={};return this.find("*").each(function(e){var t=e.name(),n=e.value();t&&void 0!==n&&(i[t]=n)}),i},renderHtml:function(){var e=this,t=e._layout,n=this.settings.role;return e.preRender(),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'"'+(n?' role="'+this.settings.role+'"':"")+'><div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"},postRender:function(){var e,t=this;return t.items().exec("postRender"),t._super(),t._layout.postRender(t),t.state.set("rendered",!0),t.settings.style&&t.$el.css(t.settings.style),t.settings.border&&(e=t.borderBox,t.$el.css({"border-top-width":e.top,"border-right-width":e.right,"border-bottom-width":e.bottom,"border-left-width":e.left})),t.parent()||(t.keyboardNav=new i({root:t})),t},initLayoutRect:function(){var e=this,t=e._super();return e._layout.recalc(e),t},recalc:function(){var e=this,t=e._layoutRect,n=e._lastRect;if(!n||n.w!=t.w||n.h!=t.h)return e._layout.recalc(e),t=e.layoutRect(),e._lastRect={x:t.x,y:t.y,w:t.w,h:t.h},!0},reflow:function(){var e;if(c.remove(this),this.visible()){for(r.repaintControls=[],r.repaintControls.map={},this.recalc(),e=r.repaintControls.length;e--;)r.repaintControls[e].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),r.repaintControls=[]}return this}})}),e("tinymce/ui/DragHelper",["tinymce/dom/DomQuery"],function(m){function h(e){var t,n,i,r,o,a,s,l=Math.max;return t=e.documentElement,n=e.body,i=l(t.scrollWidth,n.scrollWidth),r=l(t.clientWidth,n.clientWidth),o=l(t.offsetWidth,n.offsetWidth),a=l(t.scrollHeight,n.scrollHeight),s=l(t.clientHeight,n.clientHeight),{width:i<o?r:i,height:a<l(t.offsetHeight,n.offsetHeight)?s:a}}function p(e){var t,n;if(e.changedTouches)for(t="screenX screenY pageX pageY clientX clientY".split(" "),n=0;n<t.length;n++)e[t[n]]=e.changedTouches[0][t[n]]}return function(e,r){function o(){return f.getElementById(r.handle||e)}var a,s,t,l,c,u,d,f=r.document||document;r=r||{},t=function(e){var t,n,i=h(f);p(e),e.preventDefault(),s=e.button,t=o(),u=e.screenX,d=e.screenY,n=window.getComputedStyle?window.getComputedStyle(t,null).getPropertyValue("cursor"):t.runtimeStyle.cursor,a=m("<div>").css({position:"absolute",top:0,left:0,width:i.width,height:i.height,zIndex:2147483647,opacity:1e-4,cursor:n}).appendTo(f.body),m(f).on("mousemove touchmove",c).on("mouseup touchend",l),r.start(e)},c=function(e){if(p(e),e.button!==s)return l(e);e.deltaX=e.screenX-u,e.deltaY=e.screenY-d,e.preventDefault(),r.drag(e)},l=function(e){p(e),m(f).off("mousemove touchmove",c).off("mouseup touchend",l),a.remove(),r.stop&&r.stop(e)},this.destroy=function(){m(o()).off()},m(o()).on("mousedown touchstart",t)}}),e("tinymce/ui/Scrollable",["tinymce/dom/DomQuery","tinymce/ui/DragHelper"],function(y,i){return{init:function(){var e=this;e.on("repaint",e.renderScroll)},renderScroll:function(){function n(){function e(e,t,n,i,r,o){var a,s,l,c,u,d,f,m;if(s=g.getEl("scroll"+e)){if(f=t.toLowerCase(),m=n.toLowerCase(),y(g.getEl("absend")).css(f,g.layoutRect()[i]-1),!r)return void y(s).css("display","none");y(s).css("display","block"),a=g.getEl("body"),l=g.getEl("scroll"+e+"t"),c=a["client"+n]-2*v,u=(c-=h&&p?s["client"+o]:0)/a["scroll"+n],(d={})[f]=a["offset"+t]+v,d[m]=c,y(s).css(d),(d={})[f]=a["scroll"+t]*u,d[m]=c*u,y(l).css(d)}}var h,p,t;t=g.getEl("body"),h=t.scrollWidth>t.clientWidth,p=t.scrollHeight>t.clientHeight,e("h","Left","Width","contentW",h,"Height"),e("v","Top","Height","contentH",p,"Width")}function e(){function e(a,s,l,c,u){var d,e=g._id+"-scroll"+a,t=g.classPrefix;y(g.getEl()).append('<div id="'+e+'" class="'+t+"scrollbar "+t+"scrollbar-"+a+'"><div id="'+e+'t" class="'+t+'scrollbar-thumb"></div></div>'),g.draghelper=new i(e+"t",{start:function(){d=g.getEl("body")["scroll"+s],y("#"+e).addClass(t+"active")},drag:function(e){var t,n,i,r,o=g.layoutRect();n=o.contentW>o.innerW,i=o.contentH>o.innerH,r=g.getEl("body")["client"+l]-2*v,t=(r-=n&&i?g.getEl("scroll"+a)["client"+u]:0)/g.getEl("body")["scroll"+l],g.getEl("body")["scroll"+s]=d+e["delta"+c]/t},stop:function(){y("#"+e).removeClass(t+"active")}})}g.classes.add("scroll"),e("v","Top","Height","Y","Width"),e("h","Left","Width","X","Height")}var g=this,v=2;g.settings.autoScroll&&(g._hasScroll||(g._hasScroll=!0,e(),g.on("wheel",function(e){var t=g.getEl("body");t.scrollLeft+=10*(e.deltaX||0),t.scrollTop+=10*e.deltaY,n()}),y(g.getEl("body")).on("scroll",n)),n())}}}),e("tinymce/ui/Panel",["tinymce/ui/Container","tinymce/ui/Scrollable"],function(e,t){return e.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[t],renderHtml:function(){var e=this,t=e._layout,n=e.settings.html;return e.preRender(),t.preRender(e),void 0===n?n='<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+t.renderHtml(e)+"</div>":("function"==typeof n&&(n=n.call(e)),e._hasBody=!1),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1" role="group">'+(e._preBodyHtml||"")+n+"</div>"}})}),e("tinymce/ui/Movable",["tinymce/ui/DomUtils"],function(m){function o(e,t,n){var i,r,o,a,s,l,c,u,d,f;return d=m.getViewPort(),o=(r=m.getPos(t)).x,a=r.y,e.state.get("fixed")&&"static"==m.getRuntimeStyle(document.body,"position")&&(o-=d.x,a-=d.y),i=e.getEl(),s=(f=m.getSize(i)).width,l=f.height,c=(f=m.getSize(t)).width,u=f.height,"b"===(n=(n||"").split(""))[0]&&(a+=u),"r"===n[1]&&(o+=c),"c"===n[0]&&(a+=Math.round(u/2)),"c"===n[1]&&(o+=Math.round(c/2)),"b"===n[3]&&(a-=l),"r"===n[4]&&(o-=s),"c"===n[3]&&(a-=Math.round(l/2)),"c"===n[4]&&(o-=Math.round(s/2)),{x:o,y:a,w:s,h:l}}return{testMoveRel:function(e,t){for(var n=m.getViewPort(),i=0;i<t.length;i++){var r=o(this,e,t[i]);if(this.state.get("fixed")){if(0<r.x&&r.x+r.w<n.w&&0<r.y&&r.y+r.h<n.h)return t[i]}else if(r.x>n.x&&r.x+r.w<n.w+n.x&&r.y>n.y&&r.y+r.h<n.h+n.y)return t[i]}return t[0]},moveRel:function(e,t){"string"!=typeof t&&(t=this.testMoveRel(e,t));var n=o(this,e,t);return this.moveTo(n.x,n.y)},moveBy:function(e,t){var n=this,i=n.layoutRect();return n.moveTo(i.x+e,i.y+t),n},moveTo:function(e,t){function n(e,t,n){return e<0?0:t<e+n&&(e=t-n)<0?0:e}var i=this;if(i.settings.constrainToViewport){var r=m.getViewPort(window),o=i.layoutRect();e=n(e,r.w+r.x,o.w),t=n(t,r.h+r.y,o.h)}return i.state.get("rendered")?i.layoutRect({x:e,y:t}).repaint():(i.settings.x=e,i.settings.y=t),i.fire("move",{x:e,y:t}),i}}}),e("tinymce/ui/Resizable",["tinymce/ui/DomUtils"],function(i){return{resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(e,t){if(e<=1||t<=1){var n=i.getWindowSize();e=e<=1?e*n.w:e,t=t<=1?t*n.h:t}return this._layoutRect.autoResize=!1,this.layoutRect({minW:e,minH:t,w:e,h:t}).reflow()},resizeBy:function(e,t){var n=this,i=n.layoutRect();return n.resizeTo(i.w+e,i.h+t)}}}),e("tinymce/ui/FloatPanel",["tinymce/ui/Panel","tinymce/ui/Movable","tinymce/ui/Resizable","tinymce/ui/DomUtils","tinymce/dom/DomQuery"],function(e,t,n,i,a){function r(e,t){for(;e;){if(e==t)return!0;e=e.parent()}}function o(e){for(var t=v.length;t--;){var n=v[t],i=n.getParentCtrl(e.target);if(n.settings.autohide){if(i&&(r(i,n)||n.parent()===i))continue;(e=n.fire("autohide",{target:e.target})).isDefaultPrevented()||n.hide()}}}function s(){m||(m=function(e){2!=e.button&&o(e)},a(document).on("click touchstart",m))}function l(){h||(h=function(){var e;for(e=v.length;e--;)u(v[e])},a(window).on("scroll",h))}function c(){if(!p){var e=document.documentElement,t=e.clientWidth,n=e.clientHeight;p=function(){document.all&&t==e.clientWidth&&n==e.clientHeight||(t=e.clientWidth,n=e.clientHeight,b.hideAll())},a(window).on("resize",p)}}function u(r){function e(e,t){for(var n,i=0;i<v.length;i++)if(v[i]!=r)for(n=v[i].parent();n&&(n=n.parent());)n==r&&v[i].fixed(e).moveBy(0,t).repaint()}var t=i.getViewPort().y;r.settings.autofix&&(r.state.get("fixed")?r._autoFixY>t&&(r.fixed(!1).layoutRect({y:r._autoFixY}).repaint(),e(!1,r._autoFixY-t)):(r._autoFixY=r.layoutRect().y,r._autoFixY<t&&(r.fixed(!0).layoutRect({y:0}).repaint(),e(!0,t-r._autoFixY))))}function d(e,t){var n,i,r=b.zIndex||65535;if(e)y.push(t);else for(n=y.length;n--;)y[n]===t&&y.splice(n,1);if(y.length)for(n=0;n<y.length;n++)y[n].modal&&(r++,i=y[n]),y[n].getEl().style.zIndex=r,y[n].zIndex=r,r++;var o=document.getElementById(t.classPrefix+"modal-block");i?a(o).css("z-index",i.zIndex-1):o&&(o.parentNode.removeChild(o),g=!1),b.currentZIndex=r}function f(e){var t;for(t=v.length;t--;)v[t]===e&&v.splice(t,1);for(t=y.length;t--;)y[t]===e&&y.splice(t,1)}var m,h,p,g,v=[],y=[],b=e.extend({Mixins:[t,n],init:function(e){var i=this;i._super(e),(i._eventsRoot=i).classes.add("floatpanel"),e.autohide&&(s(),c(),v.push(i)),e.autofix&&(l(),i.on("move",function(){u(this)})),i.on("postrender show",function(e){if(e.control==i){var t,n=i.classPrefix;i.modal&&!g&&((t=a("#"+n+"modal-block"))[0]||(t=a('<div id="'+n+'modal-block" class="'+n+"reset "+n+'fade"></div>').appendTo(i.getContainerElm())),setTimeout(function(){t.addClass(n+"in"),a(i.getEl()).addClass(n+"in")},0),g=!0),d(!0,i)}}),i.on("show",function(){i.parents().each(function(e){if(e.state.get("fixed"))return i.fixed(!0),!1})}),e.popover&&(i._preBodyHtml='<div class="'+i.classPrefix+'arrow"></div>',i.classes.add("popover").add("bottom").add(i.isRtl()?"end":"start"))},fixed:function(e){var t=this;if(t.state.get("fixed")!=e){if(t.state.get("rendered")){var n=i.getViewPort();e?t.layoutRect().y-=n.y:t.layoutRect().y+=n.y}t.classes.toggle("fixed",e),t.state.set("fixed",e)}return t},show:function(){var e,t=this,n=t._super();for(e=v.length;e--&&v[e]!==t;);return-1===e&&v.push(t),n},hide:function(){return f(this),d(!1,this),this._super()},hideAll:function(){b.hideAll()},close:function(){var e=this;return e.fire("close").isDefaultPrevented()||(e.remove(),d(!1,e)),e},remove:function(){f(this),this._super()},postRender:function(){var e=this;return e.settings.bodyRole&&this.getEl("body").setAttribute("role",e.settings.bodyRole),e._super()}});return b.hideAll=function(){for(var e=v.length;e--;){var t=v[e];t&&t.settings.autohide&&(t.hide(),v.splice(e,1))}},b}),e("tinymce/ui/Window",["tinymce/ui/FloatPanel","tinymce/ui/Panel","tinymce/ui/DomUtils","tinymce/dom/DomQuery","tinymce/ui/DragHelper","tinymce/ui/BoxUtils","tinymce/Env"],function(e,n,s,l,i,c,r){function o(e){var t,n="width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0",i=l("meta[name=viewport]")[0];!1!==r.overrideViewPort&&(i||((i=document.createElement("meta")).setAttribute("name","viewport"),document.getElementsByTagName("head")[0].appendChild(i)),(t=i.getAttribute("content"))&&void 0!==d&&(d=t),i.setAttribute("content",e?n:d))}function a(e){for(var t=0;t<u.length;t++)if(u[t]._fullscreen)return;l([document.documentElement,document.body]).removeClass(e+"fullscreen")}function t(){function e(){var e,t,n=s.getWindowSize();for(e=0;e<u.length;e++)t=u[e].layoutRect(),u[e].moveTo(u[e].settings.x||Math.max(0,n.w/2-t.w/2),u[e].settings.y||Math.max(0,n.h/2-t.h/2))}var n={w:window.innerWidth,h:window.innerHeight};window.setInterval(function(){var e=window.innerWidth,t=window.innerHeight;n.w==e&&n.h==t||(n={w:e,h:t},l(window).trigger("resize"))},0),l(window).on("resize",e)}var u=[],d="",f=e.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(e){var t=this;t._super(e),t.isRtl()&&t.classes.add("rtl"),t.classes.add("window"),t.bodyClasses.add("window-body"),t.state.set("fixed",!0),e.buttons&&(t.statusbar=new n({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:t.isRtl()?"start":"end",defaults:{type:"button"},items:e.buttons}),t.statusbar.classes.add("foot"),t.statusbar.parent(t)),t.on("click",function(e){-1!=e.target.className.indexOf(t.classPrefix+"close")&&t.close()}),t.on("cancel",function(){t.close()}),t.aria("describedby",t.describedBy||t._id+"-none"),t.aria("label",e.title),t._fullscreen=!1},recalc:function(){var e,t,n,i,r=this,o=r.statusbar;r._fullscreen&&(r.layoutRect(s.getWindowSize()),r.layoutRect().contentH=r.layoutRect().innerH),r._super(),e=r.layoutRect(),r.settings.title&&!r._fullscreen&&(t=e.headerW)>e.w&&(n=e.x-Math.max(0,t/2),r.layoutRect({w:t,x:n}),i=!0),o&&(o.layoutRect({w:r.layoutRect().innerW}).recalc(),(t=o.layoutRect().minW+e.deltaW)>e.w&&(n=e.x-Math.max(0,t-e.w),r.layoutRect({w:t,x:n}),i=!0)),i&&r.recalc()},initLayoutRect:function(){
var e,t=this,n=t._super(),i=0;if(t.settings.title&&!t._fullscreen){e=t.getEl("head");var r=s.getSize(e);n.headerW=r.width,n.headerH=r.height,i+=n.headerH}t.statusbar&&(i+=t.statusbar.layoutRect().h),n.deltaH+=i,n.minH+=i,n.h+=i;var o=s.getWindowSize();return n.x=t.settings.x||Math.max(0,o.w/2-n.w/2),n.y=t.settings.y||Math.max(0,o.h/2-n.h/2),n},renderHtml:function(){var e=this,t=e._layout,n=e._id,i=e.classPrefix,r=e.settings,o="",a="",s=r.html;return e.preRender(),t.preRender(e),r.title&&(o='<div id="'+n+'-head" class="'+i+'window-head"><div id="'+n+'-title" class="'+i+'title">'+e.encode(r.title)+'</div><button type="button" class="'+i+'close" aria-hidden="true">\xd7</button><div id="'+n+'-dragh" class="'+i+'dragh"></div></div>'),r.url&&(s='<iframe src="'+r.url+'" tabindex="-1"></iframe>'),void 0===s&&(s=t.renderHtml(e)),e.statusbar&&(a=e.statusbar.renderHtml()),'<div id="'+n+'" class="'+e.classes+'" hidefocus="1"><div class="'+e.classPrefix+'reset" role="application">'+o+'<div id="'+n+'-body" class="'+e.bodyClasses+'">'+s+"</div>"+a+"</div></div>"},fullscreen:function(e){var n,t,i=this,r=document.documentElement,o=i.classPrefix;if(e!=i._fullscreen)if(l(window).on("resize",function(){var e;if(i._fullscreen)if(n)i._timer||(i._timer=setTimeout(function(){var e=s.getWindowSize();i.moveTo(0,0).resizeTo(e.w,e.h),i._timer=0},50));else{e=(new Date).getTime();var t=s.getWindowSize();i.moveTo(0,0).resizeTo(t.w,t.h),50<(new Date).getTime()-e&&(n=!0)}}),t=i.layoutRect(),i._fullscreen=e){i._initial={x:t.x,y:t.y,w:t.w,h:t.h},i.borderBox=c.parseBox("0"),i.getEl("head").style.display="none",t.deltaH-=t.headerH+2,l([r,document.body]).addClass(o+"fullscreen"),i.classes.add("fullscreen");var a=s.getWindowSize();i.moveTo(0,0).resizeTo(a.w,a.h)}else i.borderBox=c.parseBox(i.settings.border),i.getEl("head").style.display="",t.deltaH+=t.headerH,l([r,document.body]).removeClass(o+"fullscreen"),i.classes.remove("fullscreen"),i.moveTo(i._initial.x,i._initial.y).resizeTo(i._initial.w,i._initial.h);return i.reflow()},postRender:function(){var t,n=this;setTimeout(function(){n.classes.add("in")},0),n._super(),n.statusbar&&n.statusbar.postRender(),n.focus(),this.dragHelper=new i(n._id+"-dragh",{start:function(){t={x:n.layoutRect().x,y:n.layoutRect().y}},drag:function(e){n.moveTo(t.x+e.deltaX,t.y+e.deltaY)}}),n.on("submit",function(e){e.isDefaultPrevented()||n.close()}),u.push(n),o(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var e,t=this;for(t.dragHelper.destroy(),t._super(),t.statusbar&&this.statusbar.remove(),e=u.length;e--;)u[e]===t&&u.splice(e,1);o(0<u.length),a(t.classPrefix)},getContentWindow:function(){var e=this.getEl().getElementsByTagName("iframe")[0];return e?e.contentWindow:null}});return r.desktop||t(),f}),e("tinymce/ui/MessageBox",["tinymce/ui/Window"],function(r){var o=r.extend({init:function(e){e={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}},this._super(e)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(e){function t(e,t,n){return{type:"button",text:e,subtype:n?"primary":"",onClick:function(e){e.control.parents()[1].close(),i(t)}}}var n,i=e.callback||function(){};switch(e.buttons){case o.OK_CANCEL:n=[t("Ok",!0,!0),t("Cancel",!1)];break;case o.YES_NO:case o.YES_NO_CANCEL:n=[t("Yes",1,!0),t("No",0)],e.buttons==o.YES_NO_CANCEL&&n.push(t("Cancel",-1));break;default:n=[t("Ok",!0,!0)]}return new r({padding:20,x:e.x,y:e.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:n,title:e.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:e.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:e.onClose,onCancel:function(){i(!1)}}).renderTo(document.body).reflow()},alert:function(e,t){return"string"==typeof e&&(e={text:e}),e.callback=t,o.msgBox(e)},confirm:function(e,t){return"string"==typeof e&&(e={text:e}),e.callback=t,e.buttons=o.OK_CANCEL,o.msgBox(e)}}});return o}),e("tinymce/WindowManager",["tinymce/ui/Window","tinymce/ui/MessageBox"],function(o,a){return function(i){function t(){if(r.length)return r[r.length-1]}var e=this,r=[];e.windows=r,i.on("remove",function(){for(var e=r.length;e--;)r[e].close()}),e.open=function(n,e){var t;return i.editorManager.setActive(i),n.title=n.title||" ",n.url=n.url||n.file,n.url&&(n.width=parseInt(n.width||320,10),n.height=parseInt(n.height||240,10)),n.body&&(n.items={defaults:n.defaults,type:n.bodyType||"form",items:n.body}),n.url||n.buttons||(n.buttons=[{text:"Ok",subtype:"primary",onclick:function(){t.find("form")[0].submit()}},{text:"Cancel",onclick:function(){t.close()}}]),t=new o(n),r.push(t),t.on("close",function(){for(var e=r.length;e--;)r[e]===t&&r.splice(e,1);r.length||i.focus()}),n.data&&t.on("postRender",function(){this.find("*").each(function(e){var t=e.name();t in n.data&&e.value(n.data[t])})}),t.features=n||{},t.params=e||{},1===r.length&&i.nodeChanged(),t.renderTo().reflow()},e.alert=function(e,t,n){a.alert(e,function(){t?t.call(n||this):i.focus()})},e.confirm=function(e,t,n){a.confirm(e,function(e){t.call(n||this,e)})},e.close=function(){t()&&t().close()},e.getParams=function(){return t()?t().params:null},e.setParams=function(e){t()&&(t().params=e)},e.getWindows=function(){return r}}}),e("tinymce/dom/NodePath",["tinymce/dom/DOMUtils"],function(r){function e(e,t,n){for(var i=[];t&&t!=e;t=t.parentNode)i.push(r.nodeIndex(t,n));return i}function t(e,t){var n,i,r;for(i=e,n=t.length-1;0<=n;n--){if(r=i.childNodes,t[n]>r.length-1)return null;i=r[t[n]]}return i}return{create:e,resolve:t}}),e("tinymce/util/Quirks",["tinymce/util/VK","tinymce/dom/RangeUtils","tinymce/dom/TreeWalker","tinymce/dom/NodePath","tinymce/html/Node","tinymce/html/Entities","tinymce/Env","tinymce/util/Tools"],function(J,Z,ee,te,ne,ie,re,oe){return function(p){function t(e,t){try{p.getDoc().execCommand(e,!1,t)}catch(n){}}function e(){var e=p.getDoc().documentMode;return e||6}function g(e){return e.isDefaultPrevented()}function v(e){var t,n;e.dataTransfer&&(p.selection.isCollapsed()&&"IMG"==e.target.tagName&&V.select(e.target),0<(t=p.selection.getContent()).length&&(n=X+escape(p.id)+","+escape(t),e.dataTransfer.setData(Q,n)))}function y(e){var t;return e.dataTransfer&&(t=e.dataTransfer.getData(Q))&&0<=t.indexOf(X)?(t=t.substr(X.length).split(","),{id:unescape(t[0]),html:unescape(t[1])}):null}function b(e){p.queryCommandSupported("mceInsertClipboardContent")?p.execCommand("mceInsertClipboardContent",!1,{content:e}):p.execCommand("mceInsertContent",!1,e)}function n(){function a(e){var t=m.schema.getBlockElements(),n=p.getBody();if("BR"!=e.nodeName)return!1;for(e=e;e!=n&&!t[e.nodeName];e=e.parentNode)if(e.nextSibling)return!1;return!0}function l(e,t){var n;for(n=e.nextSibling;n&&n!=t;n=n.nextSibling)if((3!=n.nodeType||0!==F.trim(n.data).length)&&n!==t)return!1;return n===t}function c(e,t,n){var i,r,o;for(o=m.schema.getNonEmptyElements(),i=new ee(n||e,e);r=i[t?"next":"prev"]();){if(o[r.nodeName]&&!a(r))return r;if(3==r.nodeType&&0<r.data.length)return r}}function n(e){var t,n,i,r,o;if(!e.collapsed&&(t=m.getParent(Z.getNode(e.startContainer,e.startOffset),m.isBlock),n=m.getParent(Z.getNode(e.endContainer,e.endOffset),m.isBlock),o=p.schema.getTextBlockElements(),t!=n&&o[t.nodeName]&&o[n.nodeName]&&"false"!==m.getContentEditable(t)&&"false"!==m.getContentEditable(n)))return e.deleteContents(),i=c(t,!1),r=c(n,!0),m.isEmpty(n)||F(t).append(n.childNodes),F(n).remove(),i?1==i.nodeType?"BR"==i.nodeName?(e.setStartBefore(i),e.setEndBefore(i)):(e.setStartAfter(i),e.setEndAfter(i)):(e.setStart(i,i.data.length),e.setEnd(i,i.data.length)):r&&(1==r.nodeType?(e.setStartBefore(r),e.setEndBefore(r)):(e.setStart(r,0),e.setEnd(r,0))),f.setRng(e),!0}function i(e,t){var n,i,r,o,a,s;if(!e.collapsed)return e;if(a=e.startContainer,s=e.startOffset,3==a.nodeType)if(t){if(s<a.data.length)return e}else if(0<s)return e;if(n=Z.getNode(e.startContainer,e.startOffset),r=m.getParent(n,m.isBlock),i=c(p.getBody(),t,n),o=m.getParent(i,m.isBlock),!n||!i)return e;if(o&&r!=o)if(t){if(!l(r,o))return e;1==n.nodeType?"BR"==n.nodeName?e.setStartBefore(n):e.setStartAfter(n):e.setStart(n,n.data.length),1==i.nodeType?e.setEnd(i,0):e.setEndBefore(i)}else{if(!l(o,r))return e;1==i.nodeType?"BR"==i.nodeName?e.setStartBefore(i):e.setStartAfter(i):e.setStart(i,i.data.length),1==n.nodeType?e.setEnd(n,0):e.setEndBefore(n)}return e}function o(e){var t=f.getRng();if(n(t=i(t,e)))return!0}function s(e,n){function t(e,t){return f=F(t).parents().filter(function(e,t){return!!p.schema.getTextInlineElements()[t.nodeName]}),a=e.cloneNode(!1),(f=oe.map(f,function(e){return e=e.cloneNode(!1),a.hasChildNodes()&&e.appendChild(a.firstChild),a.appendChild(e),a.appendChild(e),e})).length?(d=m.create("br"),f[0].appendChild(d),m.replace(a,e),n.setStartBefore(d),n.setEndBefore(d),p.selection.setRng(n),d):null}function i(e){return e&&p.schema.getTextBlockElements()[e.tagName]}var r,o,a,s,l,c,u,d,f;if(n.collapsed&&(c=n.startContainer,u=n.startOffset,i(o=m.getParent(c,m.isBlock))))if(1==c.nodeType){if((c=c.childNodes[u])&&"BR"!=c.tagName)return;if(l=e?o.nextSibling:o.previousSibling,m.isEmpty(o)&&i(l)&&m.isEmpty(l)&&t(o,c))return m.remove(l),!0}else if(3==c.nodeType){if(r=te.create(o,c),s=o.cloneNode(!0),c=te.resolve(s,r),e){if(u>=c.data.length)return;c.deleteData(u,1)}else{if(u<=0)return;c.deleteData(u-1,1)}if(m.isEmpty(s))return t(o,c)}}function u(e){var t,i,r;o(e)||(oe.each(p.getBody().getElementsByTagName("*"),function(e){"SPAN"==e.tagName&&e.setAttribute("mce-data-marked",1),!e.hasAttribute("data-mce-style")&&e.hasAttribute("style")&&p.dom.setAttrib(e,"style",p.dom.getAttrib(e,"style"))}),(t=new h(function(){})).observe(p.getDoc(),{childList:!0,attributes:!0,subtree:!0,attributeFilter:["style"]}),p.getDoc().execCommand(e?"ForwardDelete":"Delete",!1,null),i=p.selection.getRng(),r=i.startContainer.parentNode,oe.each(t.takeRecords(),function(e){if(m.isChildOf(e.target,p.getBody())){if("style"==e.attributeName){var t=e.target.getAttribute("data-mce-style");t?e.target.setAttribute("style",t):e.target.removeAttribute("style")}oe.each(e.addedNodes,function(e){var t,n;"SPAN"!=e.nodeName||e.getAttribute("mce-data-marked")||(e==r&&(t=i.startOffset,n=e.firstChild),m.remove(e,!0),n&&(i.setStart(n,t),i.setEnd(n,t),p.selection.setRng(i)))})}}),t.disconnect(),oe.each(p.dom.select("span[mce-data-marked]"),function(e){e.removeAttribute("mce-data-marked")}))}var e,r,d=p.getDoc(),m=p.dom,f=p.selection,h=window.MutationObserver;h||(e=!0,h=function(){function t(e){var t=e.relatedNode||e.target;r.push({target:t,addedNodes:[t]})}function n(e){var t=e.relatedNode||e.target;r.push({target:t,attributeName:e.attrName})}var i,r=[];this.observe=function(e){(i=e).addEventListener("DOMSubtreeModified",t,!1),i.addEventListener("DOMNodeInsertedIntoDocument",t,!1),i.addEventListener("DOMNodeInserted",t,!1),i.addEventListener("DOMAttrModified",n,!1)},this.disconnect=function(){i.removeEventListener("DOMSubtreeModified",t,!1),i.removeEventListener("DOMNodeInsertedIntoDocument",t,!1),i.removeEventListener("DOMNodeInserted",t,!1),i.removeEventListener("DOMAttrModified",n,!1)},this.takeRecords=function(){return r}}),p.on("keydown",function(e){var t=e.keyCode==W,n=e.ctrlKey||e.metaKey;if(!g(e)&&(t||e.keyCode==z)){var i=p.selection.getRng(),r=i.startContainer,o=i.startOffset;if(t&&e.shiftKey)return;if(s(t,i))return void e.preventDefault();if(!n&&i.collapsed&&3==r.nodeType&&(t?o<r.data.length:0<o))return;e.preventDefault(),n&&p.selection.getSel().modify("extend",t?"forward":"backward",e.metaKey?"lineboundary":"word"),u(t)}}),p.on("keypress",function(e){var t,n,i,r,o,a;!g(e)&&!f.isCollapsed()&&31<e.charCode&&!J.metaKeyPressed(e)&&(t=p.selection.getRng(),a=String.fromCharCode(e.charCode),e.preventDefault(),n=F(t.startContainer).parents().filter(function(e,t){return!!p.schema.getTextInlineElements()[t.nodeName]}),u(!0),(n=n.filter(function(e,t){return!F.contains(p.getBody(),t)})).length?(i=m.createFragment(),n.each(function(e,t){t=t.cloneNode(!1),i.hasChildNodes()?t.appendChild(i.firstChild):o=t,i.appendChild(t),i.appendChild(t)}),o.appendChild(p.getDoc().createTextNode(a)),r=m.getParent(t.startContainer,m.isBlock),m.isEmpty(r)?F(r).empty().append(i):t.insertNode(i),t.setStart(o.firstChild,1),t.setEnd(o.firstChild,1),p.selection.setRng(t)):p.selection.setContent(a))}),p.addCommand("Delete",function(){u()}),p.addCommand("ForwardDelete",function(){u(!0)}),e||(p.on("dragstart",function(e){r=f.getRng(),v(e)}),p.on("drop",function(t){if(!g(t)){var n=y(t);n&&(t.preventDefault(),window.setTimeout(function(){var e=Z.getCaretRangeFromPoint(t.x,t.y,d);r&&(f.setRng(r),r=null),u(),f.setRng(e),b(n.html)},0))}}),p.on("cut",function(e){g(e)||!e.clipboardData||p.selection.isCollapsed()||(e.preventDefault(),e.clipboardData.clearData(),e.clipboardData.setData("text/html",p.selection.getContent()),e.clipboardData.setData("text/plain",p.selection.getContent({format:"text"})),window.setTimeout(function(){u(!0)},0))}))}function i(){function r(e){var t=U.create("body"),n=e.cloneContents();return t.appendChild(n),V.serializer.serialize(t,{format:"html"})}function o(e){if(!e.setStart){if(e.item)return!1;var t=e.duplicate();return t.moveToElementText(p.getBody()),Z.compareRanges(e,t)}var n=r(e),i=U.createRng();return i.selectNode(p.getBody()),n===r(i)}p.on("keydown",function(e){var t,n,i=e.keyCode;if(!g(e)&&(i==W||i==z)){if(t=p.selection.isCollapsed(),n=p.getBody(),t&&!U.isEmpty(n))return;if(!t&&!o(p.selection.getRng()))return;e.preventDefault(),p.setContent(""),n.firstChild&&U.isBlock(n.firstChild)?p.selection.setCursorLocation(n.firstChild,0):p.selection.setCursorLocation(n,0),p.nodeChanged()}})}function r(){p.shortcuts.add("meta+a",null,"SelectAll")}function o(){p.settings.content_editable||(U.bind(p.getDoc(),"focusin",function(){V.setRng(V.getRng())}),U.bind(p.getDoc(),"mousedown mouseup",function(e){e.target==p.getDoc().documentElement&&(p.getBody().focus(),"mousedown"==e.type?V.placeCaretAt(e.clientX,e.clientY):V.setRng(V.getRng()))}))}function a(){p.on("keydown",function(e){if(!g(e)&&e.keyCode===z){if(!p.getBody().getElementsByTagName("hr").length)return;if(V.isCollapsed()&&0===V.getRng(!0).startOffset){var t=V.getNode(),n=t.previousSibling;if("HR"==t.nodeName)return U.remove(t),void e.preventDefault();n&&n.nodeName&&"hr"===n.nodeName.toLowerCase()&&(U.remove(n),e.preventDefault())}}})}function s(){window.Range.prototype.getClientRects||p.on("mousedown",function(e){if(!g(e)&&"HTML"===e.target.nodeName){var t=p.getBody();t.blur(),setTimeout(function(){t.focus()},0)}})}function l(){p.on("click",function(e){var t=e.target;/^(IMG|HR)$/.test(t.nodeName)&&(e.preventDefault(),V.getSel().setBaseAndExtent(t,0,t,1),p.nodeChanged()),"A"==t.nodeName&&U.hasClass(t,"mce-item-anchor")&&(e.preventDefault(),V.select(t))})}function c(){function n(){var e=U.getAttribs(V.getStart().cloneNode(!1));return function(){var t=V.getStart();t!==p.getBody()&&(U.setAttrib(t,"style",null),I(e,function(e){t.setAttributeNode(e.cloneNode(!0))}))}}function i(){return!V.isCollapsed()&&U.getParent(V.getStart(),U.isBlock)!=U.getParent(V.getEnd(),U.isBlock)}p.on("keypress",function(e){var t;if(!g(e)&&(8==e.keyCode||46==e.keyCode)&&i())return t=n(),p.getDoc().execCommand("delete",!1,null),t(),e.preventDefault(),!1}),U.bind(p.getDoc(),"cut",function(e){var t;!g(e)&&i()&&(t=n(),setTimeout(function(){t()},0))})}function u(){document.body.setAttribute("role","application")}function d(){p.on("keydown",function(e){if(!g(e)&&e.keyCode===z&&V.isCollapsed()&&0===V.getRng(!0).startOffset){var t=V.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}})}function f(){7<e()||(t("RespectVisibilityInDesign",!0),p.contentStyles.push(".mceHideBrInPre pre br {display: none}"),U.addClass(p.getBody(),"mceHideBrInPre"),j.addNodeFilter("pre",function(e){for(var t,n,i,r,o=e.length;o--;)for(n=(t=e[o].getAll("br")).length;n--;)(r=(i=t[n]).prev)&&3===r.type&&"\n"!=r.value.charAt(r.value-1)?r.value+="\n":i.parent.insert(new ne("#text",3),i,!0).value="\n"}),q.addNodeFilter("pre",function(e){for(var t,n,i,r=e.length;r--;)for(n=(t=e[r].getAll("br")).length;n--;)(i=t[n].prev)&&3==i.type&&(i.value=i.value.replace(/\r?\n$/,""))}))}function m(){U.bind(p.getBody(),"mouseup",function(){var e,t=V.getNode();"IMG"==t.nodeName&&((e=U.getStyle(t,"width"))&&(U.setAttrib(t,"width",e.replace(/[^0-9%]+/g,"")),U.setStyle(t,"width","")),(e=U.getStyle(t,"height"))&&(U.setAttrib(t,"height",e.replace(/[^0-9%]+/g,"")),U.setStyle(t,"height","")))})}function h(){p.on("keydown",function(e){var t,n,i,r,o;if(!g(e)&&e.keyCode==J.BACKSPACE&&(n=(t=V.getRng()).startContainer,i=t.startOffset,r=U.getRoot(),o=n,t.collapsed&&0===i)){for(;o&&o.parentNode&&o.parentNode.firstChild==o&&o.parentNode!=r;)o=o.parentNode;"BLOCKQUOTE"===o.tagName&&(p.formatter.toggle("blockquote",null,o),(t=U.createRng()).setStart(n,0),t.setEnd(n,0),V.setRng(t))}})}function x(){function e(){p._refreshContentEditable(),t("StyleWithCSS",!1),t("enableInlineTableEditing",!1),$.object_resizing||t("enableObjectResizing",!1)}$.readonly||p.on("BeforeExecCommand MouseDown",e)}function C(){function t(){I(U.select("a"),function(e){var t=e.parentNode,n=U.getRoot();if(t.lastChild===e){for(;t&&!U.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}U.add(t,"br",{"data-mce-bogus":1})}})}p.on("SetContent ExecCommand",function(e){"setcontent"!=e.type&&"mceInsertLink"!==e.command||t()})}function w(){$.forced_root_block&&p.on("init",function(){t("DefaultParagraphSeparator",$.forced_root_block)})}function _(){p.on("Undo Redo SetContent",function(e){e.initial||p.execCommand("mceRepaint")})}function E(){p.on("keydown",function(e){var t;g(e)||e.keyCode!=z||(t=p.getDoc().selection.createRange())&&t.item&&(e.preventDefault(),p.undoManager.beforeChange(),U.remove(t.item(0)),p.undoManager.add())})}function S(){var n;10<=e()&&(n="",I("p div h1 h2 h3 h4 h5 h6".split(" "),function(e,t){n+=(0<t?",":"")+e+":empty"}),p.contentStyles.push(n+"{padding-right: 1px !important}"))}function N(){e()<9&&(j.addNodeFilter("noscript",function(e){for(var t,n,i=e.length;i--;)(n=(t=e[i]).firstChild)&&t.attr("data-mce-innertext",n.value)}),q.addNodeFilter("noscript",function(e){for(var t,n,i,r=e.length;r--;)t=e[r],(n=e[r].firstChild)?n.value=ie.decode(n.value):(i=t.attributes.map["data-mce-innertext"])&&(t.attr("data-mce-innertext",null),(n=new ne("#text",3)).value=i,n.raw=!0,t.append(n))}))}function k(){function n(e,t){var n=l.createTextRange();try{n.moveToPoint(e,t)}catch(i){n=null}return n}function t(e){var t;e.button?(t=n(e.x,e.y))&&(0<t.compareEndPoints("StartToStart",o)?t.setEndPoint("StartToStart",o):t.setEndPoint("EndToEnd",o),t.select()):i()}function i(){var e=s.selection.createRange();o&&!e.item&&0===e.compareEndPoints("StartToEnd",e)&&o.select(),U.unbind(s,"mouseup",i),U.unbind(s,"mousemove",t),o=r=0}var r,o,a,s=U.doc,l=s.body;s.documentElement.unselectable=!0,U.bind(s,"mousedown contextmenu",function(e){if("HTML"===e.target.nodeName){if(r&&i(),(a=s.documentElement).scrollHeight>a.clientHeight)return;r=1,(o=n(e.x,e.y))&&(U.bind(s,"mouseup",i),U.bind(s,"mousemove",t),U.getRoot().focus(),o.select())}})}function T(){p.on("keyup focusin mouseup",function(e){65==e.keyCode&&J.metaKeyPressed(e)||V.normalize()},!0)}function R(){p.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}function A(){p.inline||p.on("keydown",function(){document.activeElement==document.body&&p.getWin().focus()})}function B(){p.inline||(p.contentStyles.push("body {min-height: 150px}"),p.on("click",function(e){var t;if("HTML"==e.target.nodeName){if(11<re.ie)return void p.getBody().focus();t=p.selection.getRng(),p.getBody().focus(),p.selection.setRng(t),p.selection.normalize(),p.nodeChanged()}}))}function D(){re.mac&&p.on("keydown",function(e){!J.metaKeyPressed(e)||e.shiftKey||37!=e.keyCode&&39!=e.keyCode||(e.preventDefault(),p.selection.getSel().modify("move",37==e.keyCode?"backward":"forward","lineboundary"))})}function M(){t("AutoUrlDetect",!1)}function P(){p.on("click",function(e){var t=e.target;do{if("A"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)}),p.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}function O(){p.on("init",function(){p.dom.bind(p.getBody(),"submit",function(e){e.preventDefault()})})}function L(){j.addNodeFilter("br",function(e){for(var t=e.length;t--;)"Apple-interchange-newline"==e[t].attr("class")&&e[t].remove()})}function H(){p.on("dragstart",function(e){v(e)}),p.on("drop",function(e){if(!g(e)){var t=y(e);if(t&&t.id!=p.id){e.preventDefault();var n=Z.getCaretRangeFromPoint(e.x,e.y,p.getDoc());V.setRng(n),b(t.html)}}})}var I=oe.each,F=p.$,z=J.BACKSPACE,W=J.DELETE,U=p.dom,V=p.selection,$=p.settings,j=p.parser,q=p.serializer,K=re.gecko,Y=re.ie,G=re.webkit,X="data:text/mce-internal,",Q=Y?"Text":"URL";h(),i(),T(),G&&(n(),o(),l(),w(),O(),d(),L(),re.iOS?(A(),B(),P()):r()),Y&&re.ie<11&&(a(),u(),f(),m(),E(),S(),N(),k()),11<=re.ie&&(B(),d()),re.ie&&(r(),M(),H()),K&&(a(),s(),c(),x(),C(),_(),R(),D(),d())}}),e("tinymce/EditorObservable",["tinymce/util/Observable","tinymce/dom/DOMUtils","tinymce/util/Tools"],function(e,t,n){function i(e,t){return"selectionchange"==t?e.getDoc():!e.inline&&/^mouse|click|contextmenu|drop|dragover|dragend/.test(t)?e.getDoc().documentElement:e.settings.event_root?(e.eventRoot||(e.eventRoot=l.select(e.settings.event_root)[0]),e.eventRoot):e.getBody()}function r(o,a){var e,t=i(o,a);if(o.delegates||(o.delegates={}),!o.delegates[a])if(o.settings.event_root){if(s||(s={},o.editorManager.on("removeEditor",function(){var e;if(!o.editorManager.activeEditor&&s){for(e in s)o.dom.unbind(i(o,e));s=null}})),s[a])return;e=function(e){for(var t=e.target,n=o.editorManager.editors,i=n.length;i--;){var r=n[i].getBody();(r===t||l.isChildOf(t,r))&&(n[i].hidden||n[i].fire(a,e))}},s[a]=e,l.bind(t,a,e)}else e=function(e){o.hidden||o.fire(a,e)},l.bind(t,a,e),o.delegates[a]=e}var s,l=t.DOM,o={bindPendingEventDelegates:function(){var t=this;n.each(t._pendingNativeEvents,function(e){r(t,e)})},toggleNativeEvent:function(e,t){var n=this;n.settings.readonly||"focus"!=e&&"blur"!=e&&(t?n.initialized?r(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(i(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents:function(){var e,t=this;if(t.delegates){for(e in t.delegates)t.dom.unbind(i(t,e),e,t.delegates[e]);delete t.delegates}t.inline||(t.getBody().onload=null,t.dom.unbind(t.getWin()),t.dom.unbind(t.getDoc())),t.dom.unbind(t.getBody()),t.dom.unbind(t.getContainer())}};return o=n.extend({},e,o)}),e("tinymce/Shortcuts",["tinymce/util/Tools","tinymce/Env"],function(l,c){var u=l.each,d=l.explode,f={f9:120,f10:121,f11:122},m=l.makeMap("alt,ctrl,shift,meta,access");return function(s){function o(e,t,n,i){var r,o,a;for(o in a={func:n,scope:i||s,desc:s.translate(t)},u(d(e,"+"),function(e){e in m?a[e]=!0:/^[0-9]{2,}$/.test(e)?a.keyCode=parseInt(e,10):(a.charCode=e.charCodeAt(0),a.keyCode=f[e]||e.toUpperCase().charCodeAt(0))}),r=[a.keyCode],m)a[o]?r.push(o):a[o]=!1;return a.id=r.join(","),a.access&&(a.alt=!0,c.mac?a.ctrl=!0:a.shift=!0),a.meta&&(c.mac?a.meta=!0:(a.ctrl=!0,a.meta=!1)),a}var e=this,a={};s.on("keyup keypress keydown",function(t){(t.altKey||t.ctrlKey||t.metaKey)&&!t.isDefaultPrevented()&&u(a,function(e){if(e.ctrl==t.ctrlKey&&e.meta==t.metaKey&&e.alt==t.altKey&&e.shift==t.shiftKey)return t.keyCode==e.keyCode||t.charCode&&t.charCode==e.charCode?(t.preventDefault(),"keydown"==t.type&&e.func.call(e.scope),!0):void 0})}),e.add=function(e,n,i,r){var t;return"string"==typeof(t=i)?i=function(){s.execCommand(t,!1,null)}:l.isArray(t)&&(i=function(){s.execCommand(t[0],t[1],t[2])}),u(d(e.toLowerCase()),function(e){var t=o(e,n,i,r);a[t.id]=t}),!0},e.remove=function(e){var t=o(e);return!!a[t.id]&&(delete a[t.id],!0)}}}),e("tinymce/util/Promise",[],function(){function i(e,t){return function(){e.apply(t,arguments)}}function o(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],u(e,i(r,this),i(s,this))}function a(i){var r=this;null!==this._state?e(function(){var e=r._state?i.onFulfilled:i.onRejected;if(null!==e){var t;try{t=e(r._value)}catch(n){return void i.reject(n)}i.resolve(t)}else(r._state?i.resolve:i.reject)(r._value)}):this._deferreds.push(i)}function r(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var t=e.then;if("function"==typeof t)return void u(i(t,e),i(r,this),i(s,this))}this._state=!0,this._value=e,l.call(this)}catch(n){s.call(this,n)}}function s(e){this._state=!1,this._value=e,l.call(this)}function l(){for(var e=0,t=this._deferreds.length;e<t;e++)a.call(this,this._deferreds[e]);this._deferreds=null}function c(e,t,n,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=i}function u(e,t,n){var i=!1;try{e(function(e){i||(i=!0,t(e))},function(e){i||(i=!0,n(e))})}catch(r){if(i)return;i=!0,n(r)}}if(window.Promise)return window.Promise;var e=o.immediateFn||"function"==typeof setImmediate&&setImmediate||function(e){setTimeout(e,1)},t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};return o.prototype["catch"]=function(e){return this.then(null,e)},o.prototype.then=function(n,i){var r=this;return new o(function(e,t){a.call(r,new c(n,i,e,t))})},o.all=function(e){var l=Array.prototype.slice.call(1===arguments.length&&t(e)?e:arguments);return new o(function(r,o){function a(t,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if("function"==typeof n)return void n.call(e,function(e){a(t,e)},o)}l[t]=e,0==--s&&r(l)}catch(i){o(i)}}if(0===l.length)return r([]);for(var s=l.length,e=0;e<l.length;e++)a(e,l[e])})},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o(function(e){e(t)})},o.reject=function(n){return new o(function(e,t){t(n)})},o.race=function(r){return new o(function(e,t){for(var n=0,i=r.length;n<i;n++)r[n].then(e,t)})},o}),e("tinymce/util/Fun",[],function(){function e(e){return function(){return e}}return{constant:e}}),e("tinymce/file/Uploader",["tinymce/util/Promise","tinymce/util/Tools","tinymce/util/Fun"],function(c,u,t){return function(o){function a(e){var t;return t={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[e.blob().type.toLowerCase()]||"dat",e.id()+"."+t}function s(e,t){return e?e.replace(/\/$/,"")+"/"+t.replace(/^\//,""):t}function r(e){return{id:e.id,blob:e.blob,base64:e.base64,filename:t.constant(a(e))}}function n(e,t,n){var i,r;(i=new XMLHttpRequest).open("POST",o.url),i.withCredentials=o.credentials,i.onload=function(){var e;200==i.status?(e=JSON.parse(i.responseText))&&"string"==typeof e.location?t(s(o.basePath,e.location)):n("Invalid JSON: "+i.responseText):n("HTTP Error: "+i.status)},(r=new FormData).append("file",e.blob(),a(e)),i.send(r)}function e(e){function i(n){return new c(function(t){(0,o.handler)(r(n),function(e){t({url:e,blobInfo:n,status:!0})},function(e){t({url:"",blobInfo:n,status:!1,error:e})})})}var t;return o.url||o.handler!==n?(t=u.map(e,function(e){var t,n=e.id();return l[n]?l[n]:(t=i(e).then(function(e){return delete l[n],e})["catch"](function(e){return delete l[n],e}),l[n]=t)}),c.all(t)):new c(function(e){e([])})}var l={};return o=u.extend({credentials:!1,handler:n},o),{upload:e}}}),e("tinymce/file/Conversions",["tinymce/util/Promise"],function(e){function t(n){return new e(function(e){var t=new XMLHttpRequest;t.open("GET",n,!0),t.responseType="blob",t.onload=function(){200==this.status&&e(this.response)},t.send()})}function a(e){var t,n;return e=decodeURIComponent(e).split(","),(n=/data:([^;]+)/.exec(e[0]))&&(t=n[1]),{type:t,data:e[1]}}function n(o){return new e(function(e){var t,n,i;o=a(o);try{t=atob(o.data)}catch(r){return void e(new Blob([]))}for(n=new Uint8Array(t.length),i=0;i<n.length;i++)n[i]=t.charCodeAt(i);e(new Blob([n],{type:o.type}))})}function i(e){return 0===e.indexOf("blob:")?t(e):0===e.indexOf("data:")?n(e):null}function r(n){return new e(function(e){var t=new FileReader;t.onloadend=function(){e(t.result)},t.readAsDataURL(n)})}return{uriToBlob:i,blobToDataUri:r,parseDataUri:a}}),e("tinymce/file/ImageScanner",["tinymce/util/Promise","tinymce/util/Arr","tinymce/file/Conversions","tinymce/Env"],function(o,s,l,c){var u=0;return function(a){function e(e){function t(i,r){var o,e;0!==i.src.indexOf("blob:")?(o=l.parseDataUri(i.src).data,(e=a.findFirst(function(e){return e.base64()===o}))?r({image:i,blobInfo:e}):l.uriToBlob(i.src).then(function(e){var t="blobid"+u++,n=a.create(t,e,o);a.add(n),r({image:i,blobInfo:n})})):(e=a.getByUri(i.src))&&r({image:i,blobInfo:e})}var n,i;return n=s.filter(e.getElementsByTagName("img"),function(e){var t=e.src;return!!c.fileApi&&(!e.hasAttribute("data-mce-bogus")&&(!e.hasAttribute("data-mce-placeholder")&&(!(!t||t==c.transparentSrc)&&(0===t.indexOf("data:")||0===t.indexOf("blob:")))))}),i=s.map(n,function(n){var e;return r[n.src]?new o(function(t){r[n.src].then(function(e){t({image:n,blobInfo:e.blobInfo})})}):(e=new o(function(e){t(n,e)}).then(function(e){return delete r[e.image.src],e})["catch"](function(e){return delete r[n.src],e}),r[n.src]=e)}),o.all(i)}var r={};return{findAll:e}}}),e("tinymce/file/BlobCache",["tinymce/util/Arr","tinymce/util/Fun"],function(l,c){return function(){function e(e,t,n){return{id:s(e),blob:s(t),base64:s(n),blobUri:s(URL.createObjectURL(t))}}function t(e){n(e.id())||a.push(e)}function n(t){return i(function(e){return e.id()===t})}function i(e){return l.filter(a,e)[0]}function r(t){return i(function(e){return e.blobUri()==t})}function o(){l.each(a,function(e){URL.revokeObjectURL(e.blobUri())}),a=[]}var a=[],s=c.constant;return{create:e,add:t,get:n,getByUri:r,findFirst:i,destroy:o}}}),e("tinymce/EditorUpload",["tinymce/util/Arr","tinymce/file/Uploader","tinymce/file/ImageScanner","tinymce/file/BlobCache"],function(m,h,p,g){return function(r){function n(t){return function(e){return r.selection?t(e):[]}}function i(e,t,n){for(var i=0;-1!==(i=e.indexOf(t,i))&&(e=e.substring(0,i)+n+e.substr(i+t.length),i+=n.length-t.length+1),-1!==i;);return e}function o(e,t,n){return e=i(e=i(e,'src="'+t+'"','src="'+n+'"'),'data-mce-src="'+t+'"','data-mce-src="'+n+'"')}function a(t,n){m.each(r.undoManager.data,function(e){e.content=o(e.content,t,n)})}function t(t){return u||(u=new h({url:r.settings.images_upload_url,basePath:r.settings.images_upload_base_path,credentials:r.settings.images_upload_credentials,handler:r.settings.images_upload_handler})),s().then(n(function(i){var e;return e=m.map(i,function(e){return e.blobInfo}),u.upload(e).then(n(function(e){return e=m.map(e,function(e,t){var n=i[t].image;return a(n.src,e.url),r.$(n).attr({src:e.url,"data-mce-src":r.convertURL(e.url,"src")}),{element:n,status:e.status}}),t&&t(e),e}))}))}function e(e){if(!1!==r.settings.automatic_uploads)return t(e)}function s(){return d||(d=new p(f)),d.findAll(r.getBody()).then(n(function(e){return m.each(e,function(e){a(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri()}),e}))}function l(){f.destroy(),d=u=null}function c(e){return e.replace(/src="(blob:[^"]+)"/g,function(e,n){var t=f.getByUri(n);return t||(t=m.reduce(r.editorManager.editors,function(e,t){return e||t.editorUpload.blobCache.getByUri(n)},null)),t?'src="data:'+t.blob().type+";base64,"+t.base64()+'"':e})}var u,d,f=new g;return r.on("setContent",function(){!1!==r.settings.automatic_uploads?e():s()}),r.on("RawSaveContent",function(e){e.content=c(e.content)}),r.on("getContent",function(e){e.source_view||"raw"==e.format||(e.content=c(e.content))}),{blobCache:f,uploadImages:t,uploadImagesAuto:e,scanForImages:s,destroy:l}}}),e("tinymce/Editor",["tinymce/dom/DOMUtils","tinymce/dom/DomQuery","tinymce/AddOnManager","tinymce/NodeChange","tinymce/html/Node","tinymce/dom/Serializer","tinymce/html/Serializer","tinymce/dom/Selection","tinymce/Formatter","tinymce/UndoManager","tinymce/EnterKey","tinymce/ForceBlocks","tinymce/EditorCommands","tinymce/util/URI","tinymce/dom/ScriptLoader","tinymce/dom/EventUtils","tinymce/WindowManager","tinymce/html/Schema","tinymce/html/DomParser","tinymce/util/Quirks","tinymce/Env","tinymce/util/Tools","tinymce/EditorObservable","tinymce/Shortcuts","tinymce/EditorUpload"],function(a,s,l,c,u,d,f,m,h,p,g,v,y,b,x,e,C,w,_,E,S,N,t,k,T){function n(e,t,n){var i,r,o=this
;i=o.documentBaseUrl=n.documentBaseURL,r=n.baseURI,o.settings=t=D({id:e,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:i,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",validate:!0,entity_encoding:"named",url_converter:o.convertURL,url_converter_scope:o,ie7_compat:!0},t),l.language=t.language||"en",l.languageLoad=t.language_load,l.baseURL=n.baseURL,o.id=t.id=e,o.isNotDirty=!0,o.plugins={},o.documentBaseURI=new b(t.document_base_url||i,{base_uri:r}),o.baseURI=r,o.contentCSS=[],o.contentStyles=[],o.shortcuts=new k(o),o.loadedCSS={},o.editorCommands=new y(o),t.target&&(o.targetElm=t.target),o.suffix=n.suffix,o.editorManager=n,o.inline=t.inline,t.cache_suffix&&(S.cacheSuffix=t.cache_suffix.replace(/^[\?\&]+/,"")),!1===t.override_viewport&&(S.overrideViewPort=!1),n.fire("SetupEditor",o),o.execCallback("setup",o),o.$=s.overrideDefaults(function(){return{context:o.inline?o.getBody():o.getDoc(),element:o.getBody()}})}var R=a.DOM,A=l.ThemeManager,B=l.PluginManager,D=N.extend,M=N.each,P=N.explode,O=N.inArray,L=N.trim,r=N.resolve,H=e.Event,I=S.gecko,F=S.ie;return n.prototype={render:function(){function e(){R.unbind(window,"ready",e),n.render()}function t(){var e=x.ScriptLoader;if(i.language&&"en"!=i.language&&!i.language_url&&(i.language_url=n.editorManager.baseURL+"/langs/"+i.language+".js"),i.language_url&&e.add(i.language_url),i.theme&&"function"!=typeof i.theme&&"-"!=i.theme.charAt(0)&&!A.urls[i.theme]){var t=i.theme_url;t=t?n.documentBaseURI.toAbsolute(t):"themes/"+i.theme+"/theme"+o+".js",A.load(i.theme,t)}N.isArray(i.plugins)&&(i.plugins=i.plugins.join(" ")),M(i.external_plugins,function(e,t){B.load(t,e),i.plugins+=" "+t}),M(i.plugins.split(/[ ,]/),function(e){if((e=L(e))&&!B.urls[e])if("-"==e.charAt(0)){e=e.substr(1,e.length);var t=B.dependencies(e);M(t,function(e){var t={prefix:"plugins/",resource:e,suffix:"/plugin"+o+".js"};e=B.createUrl(t,e),B.load(e.resource,e)})}else B.load(e,{prefix:"plugins/",resource:e,suffix:"/plugin"+o+".js"})}),e.loadQueue(function(){n.removed||n.init()})}var n=this,i=n.settings,r=n.id,o=n.suffix;if(H.domLoaded){if(n.getElement()&&S.contentEditable){i.inline?n.inline=!0:(n.orgVisibility=n.getElement().style.visibility,n.getElement().style.visibility="hidden");var a=n.getElement().form||R.getParent(r,"form");a&&(n.formElement=a,i.hidden_input&&!/TEXTAREA|INPUT/i.test(n.getElement().nodeName)&&(R.insertAfter(R.create("input",{type:"hidden",name:r}),r),n.hasHiddenInput=!0),n.formEventDelegate=function(e){n.fire(e.type,e)},R.bind(a,"submit reset",n.formEventDelegate),n.on("reset",function(){n.setContent(n.startContent,{format:"raw"})}),!i.submit_patch||a.submit.nodeType||a.submit.length||a._mceOldSubmit||(a._mceOldSubmit=a.submit,a.submit=function(){return n.editorManager.triggerSave(),n.isNotDirty=!0,a._mceOldSubmit(a)})),n.windowManager=new C(n),"xml"==i.encoding&&n.on("GetContent",function(e){e.save&&(e.content=R.encode(e.content))}),i.add_form_submit_trigger&&n.on("submit",function(){n.initialized&&n.save()}),i.add_unload_trigger&&(n._beforeUnload=function(){!n.initialized||n.destroyed||n.isHidden()||n.save({format:"raw",no_events:!0,set_dirty:!1})},n.editorManager.on("BeforeUnload",n._beforeUnload)),t()}}else R.bind(window,"ready",e)},init:function(){function r(e){var t,n,i=B.get(e);t=B.urls[e]||f.documentBaseUrl.replace(/\/$/,""),e=L(e),i&&-1===O(p,e)&&(M(B.dependencies(e),function(e){r(e)}),n=new i(f,t,f.$),(f.plugins[e]=n).init&&(n.init(f,t),p.push(e)))}var e,t,n,i,o,a,s,l,c,u,d,f=this,m=f.settings,h=f.getElement(),p=[];if(this.editorManager.i18n.setCode(m.language),f.rtl=m.rtl_ui||this.editorManager.i18n.rtl,f.editorManager.add(f),m.aria_label=m.aria_label||R.getAttrib(h,"aria-label",f.getLang("aria.rich_text_area")),m.theme&&("function"!=typeof m.theme?(m.theme=m.theme.replace(/-/,""),a=A.get(m.theme),f.theme=new a(f,A.urls[m.theme]),f.theme.init&&f.theme.init(f,A.urls[m.theme]||f.documentBaseUrl.replace(/\/$/,""),f.$)):f.theme=m.theme),M(m.plugins.replace(/\-/g,"").split(/[ ,]/),r),m.render_ui&&f.theme&&(f.orgDisplay=h.style.display,"function"!=typeof m.theme?(e=m.width||h.style.width||h.offsetWidth,t=m.height||h.style.height||h.offsetHeight,n=m.min_height||100,(u=/^[0-9\.]+(|px)$/i).test(""+e)&&(e=Math.max(parseInt(e,10),100)),u.test(""+t)&&(t=Math.max(parseInt(t,10),n)),o=f.theme.renderUI({targetNode:h,width:e,height:t,deltaWidth:m.delta_width,deltaHeight:m.delta_height}),m.content_editable||(t=(o.iframeHeight||t)+("number"==typeof t?o.deltaHeight||0:""))<n&&(t=n)):((o=m.theme(f,h)).editorContainer.nodeType&&(o.editorContainer=o.editorContainer.id=o.editorContainer.id||f.id+"_parent"),o.iframeContainer.nodeType&&(o.iframeContainer=o.iframeContainer.id=o.iframeContainer.id||f.id+"_iframecontainer"),t=o.iframeHeight||h.offsetHeight),f.editorContainer=o.editorContainer),m.content_css&&M(P(m.content_css),function(e){f.contentCSS.push(f.documentBaseURI.toAbsolute(e))}),m.content_style&&f.contentStyles.push(m.content_style),m.content_editable)return h=i=o=null,f.initContentBody();for(f.iframeHTML=m.doctype+"<html><head>",m.document_base_url!=f.documentBaseUrl&&(f.iframeHTML+='<base href="'+f.documentBaseURI.getURI()+'" />'),!S.caretAfter&&m.ie7_compat&&(f.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'),f.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',d=0;d<f.contentCSS.length;d++){var g=f.contentCSS[d];f.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+N._addCacheSuffix(g)+'" />',f.loadedCSS[g]=!0}-1!=(l=m.body_id||"tinymce").indexOf("=")&&(l=(l=f.getParam("body_id","","hash"))[f.id]||l),-1!=(c=m.body_class||"").indexOf("=")&&(c=(c=f.getParam("body_class","","hash"))[f.id]||""),m.content_security_policy&&(f.iframeHTML+='<meta http-equiv="Content-Security-Policy" content="'+m.content_security_policy+'" />'),f.iframeHTML+='</head><body id="'+l+'" class="mce-content-body '+c+'" data-id="'+f.id+'"><br></body></html>';var v='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+f.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody(true);})()';document.domain!=location.hostname&&S.ie&&S.ie<12&&(s=v);var y=R.create("iframe",{id:f.id+"_ifr",frameBorder:"0",allowTransparency:"true",title:f.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:t,display:"block"}});if(y.onload=function(){y.onload=null,f.fire("load")},R.setAttrib(y,"src",s||'javascript:""'),f.contentAreaContainer=o.iframeContainer,f.iframeElement=y,i=R.add(o.iframeContainer,y),F)try{f.getDoc()}catch(b){i.src=s=v}o.editorContainer&&(R.get(o.editorContainer).style.display=f.orgDisplay,f.hidden=R.isHidden(o.editorContainer)),f.getElement().style.display="none",R.setAttrib(f.id,"aria-hidden",!0),s||f.initContentBody(),h=i=o=null},initContentBody:function(e){var t,n,s=this,i=s.settings,r=s.getElement(),o=s.getDoc();i.inline||(s.getElement().style.visibility=s.orgVisibility),e||i.content_editable||(o.open(),o.write(s.iframeHTML),o.close()),i.content_editable&&(s.on("remove",function(){var e=this.getBody();R.removeClass(e,"mce-content-body"),R.removeClass(e,"mce-edit-focus"),R.setAttrib(e,"contentEditable",null)}),R.addClass(r,"mce-content-body"),s.contentDocument=o=i.content_document||document,s.contentWindow=i.content_window||window,s.bodyElement=r,i.content_document=i.content_window=null,i.root_name=r.nodeName.toLowerCase()),(t=s.getBody()).disabled=!0,i.readonly||(s.inline&&"static"==R.getStyle(t,"position",!0)&&(t.style.position="relative"),t.contentEditable=s.getParam("content_editable_state",!0)),t.disabled=!1,s.editorUpload=new T(s),s.schema=new w(i),s.dom=new a(o,{keep_values:!0,url_converter:s.convertURL,url_converter_scope:s,hex_colors:i.force_hex_style_colors,class_filter:i.class_filter,update_styles:!0,root_element:s.inline?s.getBody():null,collect:i.content_editable,schema:s.schema,onSetAttrib:function(e){s.fire("SetAttrib",e)}}),s.parser=new _(i,s.schema),s.parser.addAttributeFilter("src,href,style,tabindex",function(e,t){for(var n,i,r,o=e.length,a=s.dom;o--;)if(i=(n=e[o]).attr(t),r="data-mce-"+t,!n.attributes.map[r]){if(0===i.indexOf("data:")||0===i.indexOf("blob:"))continue;"style"===t?((i=a.serializeStyle(a.parseStyle(i),n.name)).length||(i=null),n.attr(r,i),n.attr(t,i)):"tabindex"===t?(n.attr(r,i),n.attr(t,null)):n.attr(r,s.convertURL(i,t,n.name))}}),s.parser.addNodeFilter("script",function(e){for(var t,n,i=e.length;i--;)0!==(n=(t=e[i]).attr("type")||"no/type").indexOf("mce-")&&t.attr("type","mce-"+n)}),s.parser.addNodeFilter("#cdata",function(e){for(var t,n=e.length;n--;)(t=e[n]).type=8,t.name="#comment",t.value="[CDATA["+t.value+"]]"}),s.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(e){for(var t,n=e.length,i=s.schema.getNonEmptyElements();n--;)(t=e[n]).isEmpty(i)&&(t.append(new u("br",1)).shortEnded=!0)}),s.serializer=new d(i,s),s.selection=new m(s.dom,s.getWin(),s.serializer,s),s.formatter=new h(s),s.undoManager=new p(s),s.forceBlocks=new v(s),s.enterKey=new g(s),s._nodeChangeDispatcher=new c(s),s.fire("PreInit"),i.browser_spellcheck||i.gecko_spellcheck||(o.body.spellcheck=!1,R.setAttrib(t,"spellcheck","false")),s.fire("PostRender"),s.quirks=new E(s),i.directionality&&(t.dir=i.directionality),i.nowrap&&(t.style.whiteSpace="nowrap"),i.protect&&s.on("BeforeSetContent",function(t){M(i.protect,function(e){t.content=t.content.replace(e,function(e){return"<!--mce:protected "+escape(e)+"-->"})})}),s.on("SetContent",function(){s.addVisual(s.getBody())}),i.padd_empty_editor&&s.on("PostProcess",function(e){e.content=e.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),s.load({initial:!0,format:"html"}),s.startContent=s.getContent({format:"raw"}),s.initialized=!0,s.bindPendingEventDelegates(),s.fire("init"),s.focus(!0),s.nodeChanged({initial:!0}),s.execCallback("init_instance_callback",s),0<s.contentStyles.length&&(n="",M(s.contentStyles,function(e){n+=e+"\r\n"}),s.dom.addStyle(n)),M(s.contentCSS,function(e){s.loadedCSS[e]||(s.dom.loadCSS(e),s.loadedCSS[e]=!0)}),i.auto_focus&&setTimeout(function(){var e;(e=!0===i.auto_focus?s:s.editorManager.get(i.auto_focus)).destroyed||e.focus()},100),r=o=t=null},focus:function(e){var t,n,i,r=this,o=r.selection,a=r.settings.content_editable,s=r.getDoc();if(!e){if((t=o.getRng()).item&&(n=t.item(0)),r._refreshContentEditable(),a||(S.opera||r.getBody().focus(),r.getWin().focus()),I||a){if((i=r.getBody()).setActive)try{i.setActive()}catch(l){i.focus()}else i.focus();a&&o.normalize()}n&&n.ownerDocument==s&&((t=s.body.createControlRange()).addElement(n),t.select())}r.editorManager.setActive(r)},execCallback:function(e){var t,n=this,i=n.settings[e];if(i)return n.callbackLookup&&(t=n.callbackLookup[e])&&(i=t.func,t=t.scope),"string"==typeof i&&(t=(t=i.replace(/\.\w+$/,""))?r(t):0,i=r(i),n.callbackLookup=n.callbackLookup||{},n.callbackLookup[e]={func:i,scope:t}),i.apply(t||n,Array.prototype.slice.call(arguments,1))},translate:function(e){var n=this.settings.language||"en",i=this.editorManager.i18n;return e?i.data[n+"."+e]||e.replace(/\{\#([^\}]+)\}/g,function(e,t){return i.data[n+"."+t]||"{#"+t+"}"}):""},getLang:function(e,t){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+e]||(t!==z?t:"{#"+e+"}")},getParam:function(e,t,n){var i,r=e in this.settings?this.settings[e]:t;return"hash"===n?(i={},"string"==typeof r?M(0<r.indexOf("=")?r.split(/[;,](?![^=;,]*(?:[;,]|$))/):r.split(","),function(e){1<(e=e.split("=")).length?i[L(e[0])]=L(e[1]):i[L(e[0])]=L(e)}):i=r,i):r},nodeChanged:function(e){this._nodeChangeDispatcher.nodeChanged(e)},addButton:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),t.text||t.icon||(t.icon=e),n.buttons=n.buttons||{},t.tooltip=t.tooltip||t.title,n.buttons[e]=t},addMenuItem:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),n.menuItems=n.menuItems||{},n.menuItems[e]=t},addContextToolbar:function(e,t){var n,i=this;i.contextToolbars=i.contextToolbars||[],"string"==typeof e&&(n=e,e=function(e){return i.dom.is(e,n)}),i.contextToolbars.push({predicate:e,items:t})},addCommand:function(e,t,n){this.editorCommands.addCommand(e,t,n)},addQueryStateHandler:function(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)},addQueryValueHandler:function(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)},addShortcut:function(e,t,n,i){this.shortcuts.add(e,t,n,i)},execCommand:function(e,t,n,i){return this.editorCommands.execCommand(e,t,n,i)},queryCommandState:function(e){return this.editorCommands.queryCommandState(e)},queryCommandValue:function(e){return this.editorCommands.queryCommandValue(e)},queryCommandSupported:function(e){return this.editorCommands.queryCommandSupported(e)},show:function(){var e=this;e.hidden&&(e.hidden=!1,e.inline?e.getBody().contentEditable=!0:(R.show(e.getContainer()),R.hide(e.id)),e.load(),e.fire("show"))},hide:function(){var e=this,t=e.getDoc();e.hidden||(F&&t&&!e.inline&&t.execCommand("SelectAll"),e.save(),e.inline?(e.getBody().contentEditable=!1,e==e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(R.hide(e.getContainer()),R.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(e,t){this.fire("ProgressState",{state:e,time:t})},load:function(e){var t,n=this,i=n.getElement();if(i)return(e=e||{}).load=!0,t=n.setContent(i.value!==z?i.value:i.innerHTML,e),e.element=i,e.no_events||n.fire("LoadContent",e),e.element=i=null,t},save:function(e){var t,n,i=this,r=i.getElement();if(r&&i.initialized)return(e=e||{}).save=!0,e.element=r,t=e.content=i.getContent(e),e.no_events||i.fire("SaveContent",e),"raw"==e.format&&i.fire("RawSaveContent",e),t=e.content,/TEXTAREA|INPUT/i.test(r.nodeName)?r.value=t:(i.inline||(r.innerHTML=t),(n=R.getParent(i.id,"form"))&&M(n.elements,function(e){if(e.name==i.id)return e.value=t,!1})),e.element=r=null,!1!==e.set_dirty&&(i.isNotDirty=!0),t},setContent:function(e,t){var n,i,r=this,o=r.getBody();return(t=t||{}).format=t.format||"html",t.set=!0,t.content=e,t.no_events||r.fire("BeforeSetContent",t),0===(e=t.content).length||/^\s+$/.test(e)?(i=F&&F<11?"":'<br data-mce-bogus="1">',"TABLE"==o.nodeName?e="<tr><td>"+i+"</td></tr>":/^(UL|OL)$/.test(o.nodeName)&&(e="<li>"+i+"</li>"),(n=r.settings.forced_root_block)&&r.schema.isValidChild(o.nodeName.toLowerCase(),n.toLowerCase())?(e=i,e=r.dom.createHTML(n,r.settings.forced_root_block_attrs,e)):F||e||(e='<br data-mce-bogus="1">'),r.dom.setHTML(o,e),r.fire("SetContent",t)):("raw"!==t.format&&(e=new f({validate:r.validate},r.schema).serialize(r.parser.parse(e,{isRootContent:!0}))),t.content=L(e),r.dom.setHTML(o,t.content),t.no_events||r.fire("SetContent",t)),t.content},getContent:function(e){var t,n=this,i=n.getBody();return(e=e||{}).format=e.format||"html",e.get=!0,e.getInner=!0,e.no_events||n.fire("BeforeGetContent",e),t="raw"==e.format?i.innerHTML:"text"==e.format?i.innerText||i.textContent:n.serializer.serialize(i,e),"text"!=e.format?e.content=L(t):e.content=t,e.no_events||n.fire("GetContent",e),e.content},insertContent:function(e,t){t&&(e=D({content:e},t)),this.execCommand("mceInsertContent",!1,e)},isDirty:function(){return!this.isNotDirty},getContainer:function(){var e=this;return e.container||(e.container=R.get(e.editorContainer||e.id+"_parent")),e.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=R.get(this.id)),this.targetElm},getWin:function(){var e,t=this;return t.contentWindow||(e=t.iframeElement)&&(t.contentWindow=e.contentWindow),t.contentWindow},getDoc:function(){var e,t=this;return t.contentDocument||(e=t.getWin())&&(t.contentDocument=e.document),t.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(e,t,n){var i=this,r=i.settings;return r.urlconverter_callback?i.execCallback("urlconverter_callback",e,n,!0,t):!r.convert_urls||n&&"LINK"==n.nodeName||0===e.indexOf("file:")||0===e.length?e:r.relative_urls?i.documentBaseURI.toRelative(e):e=i.documentBaseURI.toAbsolute(e,r.remove_script_host)},addVisual:function(e){var n,i=this,r=i.settings,o=i.dom;e=e||i.getBody(),i.hasVisual===z&&(i.hasVisual=r.visual),M(o.select("table,a",e),function(e){var t;switch(e.nodeName){case"TABLE":return n=r.visual_table_class||"mce-item-table",void((t=o.getAttrib(e,"border"))&&"0"!=t||!i.hasVisual?o.removeClass(e,n):o.addClass(e,n));case"A":return void(o.getAttrib(e,"href",!1)||(t=o.getAttrib(e,"name")||e.id,n=r.visual_anchor_class||"mce-item-anchor",t&&i.hasVisual?o.addClass(e,n):o.removeClass(e,n)))}}),i.fire("VisualAid",{element:e,hasVisual:i.hasVisual})},remove:function(){var e=this;e.removed||(e.save(),e.removed=1,e.unbindAllNativeEvents(),e.hasHiddenInput&&R.remove(e.getElement().nextSibling),e.inline||(F&&F<10&&e.getDoc().execCommand("SelectAll",!1,null),R.setStyle(e.id,"display",e.orgDisplay),e.getBody().onload=null),e.fire("remove"),e.editorManager.remove(e),R.remove(e.getContainer()),e.editorUpload.destroy(),e.destroy())},destroy:function(e){var t,n=this;n.destroyed||(e||n.removed?(e||(n.editorManager.off("beforeunload",n._beforeUnload),n.theme&&n.theme.destroy&&n.theme.destroy(),n.selection.destroy(),n.dom.destroy()),(t=n.formElement)&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,t._mceOldSubmit=null),R.unbind(t,"submit reset",n.formEventDelegate)),n.contentAreaContainer=n.formElement=n.container=n.editorContainer=null,n.bodyElement=n.contentDocument=n.contentWindow=null,n.iframeElement=n.targetElm=null,n.selection&&(n.selection=n.selection.win=n.selection.dom=n.selection.dom.doc=null),n.destroyed=1):n.remove())},uploadImages:function(e){return this.editorUpload.uploadImages(e)},_scanForImages:function(){return this.editorUpload.scanForImages()},_refreshContentEditable:function(){var e,t,n=this;n._isHidden()&&((t=(e=n.getBody()).parentNode).removeChild(e),t.appendChild(e),e.focus())},_isHidden:function(){var e;return I?!(e=this.selection.getSel())||!e.rangeCount||0===e.rangeCount:0}},D(n.prototype,t),n}),e("tinymce/util/I18n",[],function(){var r={},i="en";return{setCode:function(e){e&&(i=e,this.rtl=!!this.data[e]&&"rtl"===this.data[e]._dir)},getCode:function(){return i},rtl:!1,add:function(e,t){var n=r[e];for(var i in n||(r[e]=n={}),t)n[i]=t[i];this.setCode(e)},translate:function(e){var t;if((t=r[i])||(t={}),void 0===e)return e;if("string"!=typeof e&&e.raw)return e.raw;if(e.push){var n=e.slice(1);e=(t[e[0]]||e[0]).replace(/\{([0-9]+)\}/g,function(e,t){return n[t]})}return(t[e]||e).replace(/{context:\w+}$/,"")},data:r}}),e("tinymce/FocusManager",["tinymce/dom/DOMUtils","tinymce/Env"],function(e,s){function l(i){function r(){try{return document.activeElement}catch(e){return document.body}}function o(e,t){if(t&&t.startContainer){if(!e.isChildOf(t.startContainer,e.getRoot())||!e.isChildOf(t.endContainer,e.getRoot()))return;return{startContainer:t.startContainer,startOffset:t.startOffset,endContainer:t.endContainer,endOffset:t.endOffset}}return t}function t(e,t){var n;return t.startContainer?((n=e.getDoc().createRange()).setStart(t.startContainer,t.startOffset),n.setEnd(t.endContainer,t.endOffset)):n=t,n}function a(e){return!!f.getParent(e,l.isEditorUIElement)}function e(e){var n=e.editor;n.on("init",function(){(n.inline||s.ie)&&("onbeforedeactivate"in document&&s.ie<9?n.dom.bind(n.getBody(),"beforedeactivate",function(e){if(e.target==n.getBody())try{n.lastRng=n.selection.getRng()}catch(t){}}):n.on("nodechange mouseup keyup",function(e){var t=r();"nodechange"==e.type&&e.selectionChange||(t&&t.id==n.id+"_ifr"&&(t=n.getBody()),n.dom.isChildOf(t,n.getBody())&&(n.lastRng=n.selection.getRng()))}),s.webkit&&!c&&(c=function(){var e=i.activeEditor;if(e&&e.selection){var t=e.selection.getRng();t&&!t.collapsed&&(n.lastRng=t)}},f.bind(document,"selectionchange",c)))}),n.on("setcontent",function(){n.lastRng=null}),n.on("mousedown",function(){n.selection.lastFocusBookmark=null}),n.on("focusin",function(){var e=i.focusedEditor;n.selection.lastFocusBookmark&&(n.selection.setRng(t(n,n.selection.lastFocusBookmark)),n.selection.lastFocusBookmark=null),e!=n&&(e&&e.fire("blur",{focusedEditor:n}),i.setActive(n),(i.focusedEditor=n).fire("focus",{blurredEditor:e}),n.focus(!0)),n.lastRng=null}),n.on("focusout",function(){window.setTimeout(function(){var e=i.focusedEditor;a(r())||e!=n||(n.fire("blur",{focusedEditor:null}),i.focusedEditor=null,n.selection&&(n.selection.lastFocusBookmark=null))},0)}),u||(u=function(e){var t=i.activeEditor;t&&e.target.ownerDocument==document&&(t.selection&&e.target!=t.getBody()&&(t.selection.lastFocusBookmark=o(t.dom,t.lastRng)),e.target==document.body||a(e.target)||i.focusedEditor!=t||(t.fire("blur",{focusedEditor:null}),i.focusedEditor=null))},f.bind(document,"focusin",u)),n.inline&&!d&&(d=function(e){var t=i.activeEditor;if(t.inline&&!t.dom.isChildOf(e.target,t.getBody())){var n=t.selection.getRng();n.collapsed||(t.lastRng=n)}},f.bind(document,"mouseup",d))}function n(e){i.focusedEditor==e.editor&&(i.focusedEditor=null),i.activeEditor||(f.unbind(document,"selectionchange",c),f.unbind(document,"focusin",u),f.unbind(document,"mouseup",d),c=u=d=null)}i.on("AddEditor",e),i.on("RemoveEditor",n)}var c,u,d,f=e.DOM;return l.isEditorUIElement=function(e){return-1!==e.className.toString().indexOf("mce-")},l}),e("tinymce/EditorManager",["tinymce/Editor","tinymce/dom/DomQuery","tinymce/dom/DOMUtils","tinymce/util/URI","tinymce/Env","tinymce/util/Tools","tinymce/util/Observable","tinymce/util/I18n","tinymce/FocusManager"],function(u,n,e,c,t,i,r,o,d){function a(t){v(h.editors,function(e){e.fire("ResizeWindow",t)})}function s(e,t){t!==x&&(t?n(window).on("resize",a):n(window).off("resize",a),x=t)}function l(e){var t,n=h.editors;delete n[e.id];for(var i=0;i<n.length;i++)if(n[i]==e){n.splice(i,1),t=!0;break}return h.activeEditor==e&&(h.activeEditor=n[0]),h.focusedEditor==e&&(h.focusedEditor=null),t}function f(e){return e&&!(e.getContainer()||e.getBody()).parentNode&&(l(e),e.unbindAllNativeEvents(),e.destroy(!0),e=null),e}var m,h,p=e.DOM,g=i.explode,v=i.each,y=i.extend,b=0,x=!1;return y(h={$:n,majorVersion:"4",minorVersion:"2.8",releaseDate:"2015-11-13",editors:[],i18n:o,activeEditor:null,setup:function(){var e,t,n,i,r=this,o="";if(t=document.location.href,/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),n=window.tinymce||window.tinyMCEPreInit)e=n.base||n.baseURL,o=n.suffix;else{for(var a=document.getElementsByTagName("script"),s=0;s<a.length;s++){var l=(i=a[s].src).substring(i.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(i)){-1!=l.indexOf(".min")&&(o=".min"),e=i.substring(0,i.lastIndexOf("/"));break}}!e&&document.currentScript&&(-1!=(i=document.currentScript.src).indexOf(".min")&&(o=".min"),e=i.substring(0,i.lastIndexOf("/")))}r.baseURL=new c(t).toAbsolute(e),r.documentBaseURL=t,r.baseURI=new c(r.baseURL),r.suffix=o,r.focusManager=new d(r)},init:function(i){function r(e){var t=e.id;return t||(t=(t=e.name)&&!p.get(t)?e.name:p.uniqueId(),e.setAttribute("id",t)),t}function o(e,t,n){if(!f(l.get(e))){var i=new u(e,t,l);i.targetElm=i.targetElm||n,c.push(i),i.render()}}function a(e){var t=i[e];if(t)return t.apply(l,Array.prototype.slice.call(arguments,2))}function s(e,t){return t.constructor===RegExp?t.test(e.className):p.hasClass(e,t)}function e(){var t,n;if(p.unbind(window,"ready",e),a("onpageload"),i.types)v(i.types,function(t){v(p.select(t.selector),function(e){o(r(e),y({},i,t),e)})});else if(i.selector)v(p.select(i.selector),function(e){o(r(e),i,e)});else{switch(i.target&&o(r(i.target),i),i.mode){case"exact":0<(t=i.elements||"").length&&v(g(t),function(t){var e;(e=p.get(t))?o(t,i,e):v(document.forms,function(e){v(e.elements,function(e){e.name===t&&(t="mce_editor_"+b++,p.setAttrib(e,"id",t),o(t,i,e))})})});break;case"textareas":case"specific_textareas":v(p.select("textarea"),function(e){i.editor_deselector&&s(e,i.editor_deselector)||i.editor_selector&&!s(e,i.editor_selector)||o(r(e),i,e)})}i.oninit&&(t=n=0,v(c,function(e){n++,e.initialized?t++:e.on("init",function(){++t==n&&a("oninit")}),t==n&&a("oninit")}))}}var l=this,c=[];l.settings=i,p.bind(window,"ready",e)},get:function(e){return arguments.length?e in this.editors?this.editors[e]:null:this.editors},add:function(e){var t=this,n=t.editors;return n[e.id]=e,n.push(e),s(n,!0),t.activeEditor=e,t.fire("AddEditor",{editor:e}),m||(m=function(){t.fire("BeforeUnload")},p.bind(window,"beforeunload",m)),e},createEditor:function(e,t){return this.add(new u(e,t,this))},remove:function(e){var t,n,i=this,r=i.editors;if(e)return"string"==typeof e?(e=e.selector||e,void v(p.select(e),function(e){(n=r[e.id])&&i.remove(n)})):r[(n=e).id]?(l(n)&&i.fire("RemoveEditor",{editor:n}),r.length||p.unbind(window,"beforeunload",m),n.remove(),s(r,0<r.length),n):null;for(t=r.length-1;0<=t;t--)i.remove(r[t])},execCommand:function(e,t,n){var i=this,r=i.get(n);switch(e){case"mceAddEditor":return i.get(n)||new u(n,i.settings,i).render(),!0;case"mceRemoveEditor":return r&&r.remove(),!0;case"mceToggleEditor":return r?r.isHidden()?r.show():r.hide():i.execCommand("mceAddEditor",0,n),!0}return!!i.activeEditor&&i.activeEditor.execCommand(e,t,n)},triggerSave:function(){v(this.editors,function(e){e.save()})},addI18n:function(e,t){o.add(e,t)},translate:function(e){return o.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!=e&&(t&&t.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:t})),this.activeEditor=e}},r),h.setup(),window.tinymce=window.tinyMCE=h,h}),e("tinymce/LegacyInput",["tinymce/EditorManager","tinymce/util/Tools"],function(e,t){var s=t.each,l=t.explode;e.on("AddEditor",function(e){var a=e.editor;a.on("preInit",function(){function n(n,e){s(e,function(e,t){e&&r.setStyle(n,t,e)}),r.rename(n,"span")}function e(e){r=a.dom,o.convert_fonts_to_spans&&s(r.select("font,u,strike",e.node),function(e){t[e.nodeName.toLowerCase()](r,e)})}var t,i,r,o=a.settings;o.inline_styles&&(i=l(o.font_size_legacy_values),t={font:function(e,t){n(t,{backgroundColor:t.style.backgroundColor,color:t.color,fontFamily:t.face,fontSize:i[parseInt(t.size,10)-1]})},u:function(e,t){"html4"===a.settings.schema&&n(t,{textDecoration:"underline"})},strike:function(e,t){n(t,{textDecoration:"line-through"})}},a.on("PreProcess SetContent",e))})})}),e("tinymce/util/XHR",["tinymce/util/Observable","tinymce/util/Tools"],function(e,r){var o={send:function(e){function t(){!e.async||4==n.readyState||1e4<i++?(e.success&&i<1e4&&200==n.status?e.success.call(e.success_scope,""+n.responseText,n,e):e.error&&e.error.call(e.error_scope,1e4<i?"TIMED_OUT":"GENERAL",n,e),n=null):setTimeout(t,10)}var n,i=0;if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=!1!==e.async,e.data=e.data||"",n=new XMLHttpRequest){if(n.overrideMimeType&&n.overrideMimeType(e.content_type),n.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(n.withCredentials=!0),e.content_type&&n.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&r.each(e.requestheaders,function(e){n.setRequestHeader(e.key,e.value)}),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),(n=o.fire("beforeSend",{xhr:n,settings:e}).xhr).send(e.data),!e.async)return t();setTimeout(t,10)}}};return r.extend(o,e),o}),e("tinymce/util/JSON",[],function(){function a(e,n){var i,r,t,o;if(n=n||'"',null===e)return"null";if("string"==(t=typeof e))return r="\bb\tt\nn\ff\rr\"\"''\\\\",n+e.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(e,t){return'"'===n&&"'"===e?e:(i=r.indexOf(t))+1?"\\"+r.charAt(i+1):(e=t.charCodeAt().toString(16),"\\u"+"0000".substring(e.length)+e)})+n;if("object"==t){if(e.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(e)){for(i=0,r="[";i<e.length;i++)r+=(0<i?",":"")+a(e[i],n);return r+"]"}for(o in r="{",e)e.hasOwnProperty(o)&&(r+="function"!=typeof e[o]?(1<r.length?","+n:n)+o+n+":"+a(e[o],n):"");return r+"}"}return""+e}return{serialize:a,parse:function(e){try{return window[String.fromCharCode(101)+"val"]("("+e+")")}catch(t){}}}}),e("tinymce/util/JSONRequest",["tinymce/util/JSON","tinymce/util/XHR","tinymce/util/Tools"],function(o,e,t){function n(e){this.settings=a({},e),this.count=0}var a=t.extend;return n.sendRPC=function(e){return(new n).send(e)},n.prototype={send:function(n){var i=n.error,r=n.success;(n=a(this.settings,n)).success=function(e,t){void 0===(e=o.parse(e))&&(e={error:"JSON Parse error."}),e.error?i.call(n.error_scope||n.scope,e.error,t):r.call(n.success_scope||n.scope,e.result)},n.error=function(e,t){i&&i.call(n.error_scope||n.scope,e,t)},n.data=o.serialize({id:n.id||"c"+this.count++,method:n.method,params:n.params}),n.content_type="application/json",e.send(n)}},n}),e("tinymce/util/JSONP",["tinymce/dom/DOMUtils"],function(e){return{callbacks:{},count:0,send:function(t){var n=this,i=e.DOM,r=t.count!==z?t.count:n.count,o="tinymce_jsonp_"+r;n.callbacks[r]=function(e){i.remove(o),delete n.callbacks[r],t.callback(e)},i.add(i.doc.body,"script",{id:o,src:t.url,type:"text/javascript"}),n.count++}}}),e("tinymce/util/LocalStorage",[],function(){function a(){for(var e in i=[],l)i.push(e);t.length=i.length}function e(){function e(e){var t,n;return-1===(n=e!==z?r+e:i.indexOf(",",r))||n>i.length?null:(t=i.substring(r,n),r=n+1,t)}var t,i,n,r=0;if(l={},u){s.load(c),i=s.getAttribute(c)||"";do{var o=e();if(null===o)break;if(null!==(t=e(parseInt(o,32)||0))){if(null===(o=e()))break;n=e(parseInt(o,32)||0),t&&(l[t]=n)}}while(null!==t);a()}}function n(){var e,t="";if(u){for(var n in l)e=l[n],t+=(t?",":"")+n.length.toString(32)+","+n+","+e.length.toString(32)+","+e;s.setAttribute(c,t);try{s.save(c)}catch(i){}a()}}var t,s,l,i,c,u;try{if(window.localStorage)return localStorage}catch(r){}return c="tinymce",s=document.documentElement,(u=!!s.addBehavior)&&s.addBehavior("#default#userData"),t={key:function(e){return i[e]},getItem:function(e){return e in l?l[e]:null},setItem:function(e,t){l[e]=""+t,n()},removeItem:function(e){delete l[e],n()},clear:function(){l={},n()}},e(),t}),e("tinymce/Compat",["tinymce/dom/DOMUtils","tinymce/dom/EventUtils","tinymce/dom/ScriptLoader","tinymce/AddOnManager","tinymce/util/Tools","tinymce/Env"],function(e,t,n,i,r,o){var a=window.tinymce;return a.DOM=e.DOM,a.ScriptLoader=n.ScriptLoader,a.PluginManager=i.PluginManager,a.ThemeManager=i.ThemeManager,a.dom=a.dom||{},a.dom.Event=t.Event,r.each(r,function(e,t){a[t]=e}),r.each("isOpera isWebKit isIE isGecko isMac".split(" "),function(e){a[e]=o[e.substr(2).toLowerCase()]}),{}}),e("tinymce/ui/Layout",["tinymce/util/Class","tinymce/util/Tools"],function(e,t){return e.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(e){this.settings=t.extend({},this.Defaults,e)},preRender:function(e){e.bodyClasses.add(this.settings.containerClass)},applyClasses:function(e){var t,n,i,r,o=this.settings;t=o.firstControlClass,n=o.lastControlClass,e.each(function(e){e.classes.remove(t).remove(n).add(o.controlClass),e.visible()&&(i||(i=e),r=e)}),i&&i.classes.add(t),r&&r.classes.add(n)},renderHtml:function(e){var t="";return this.applyClasses(e.items()),e.items().each(function(e){t+=e.renderHtml()}),t},recalc:function(){},postRender:function(){},isNative:function(){return!1}})}),e("tinymce/ui/AbsoluteLayout",["tinymce/ui/Layout"],function(e){return e.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(e){e.items().filter(":visible").each(function(e){var t=e.settings;e.layoutRect({x:t.x,y:t.y,w:t.w,h:t.h}),e.recalc&&e.recalc()})},renderHtml:function(e){return'<div id="'+e._id+'-absend" class="'+e.classPrefix+'abs-end"></div>'+this._super(e)}})}),e("tinymce/ui/Tooltip",["tinymce/ui/Control","tinymce/ui/Movable"],function(e,t){return e.extend({Mixins:[t],
Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var e=this,t=e.classPrefix;return'<div id="'+e._id+'" class="'+e.classes+'" role="presentation"><div class="'+t+'tooltip-arrow"></div><div class="'+t+'tooltip-inner">'+e.encode(e.state.get("text"))+"</div></div>"},bindStates:function(){var t=this;return t.state.on("change:text",function(e){t.getEl().lastChild.innerHTML=t.encode(e.value)}),t._super()},repaint:function(){var e,t,n=this;e=n.getEl().style,t=n._layoutRect,e.left=t.x+"px",e.top=t.y+"px",e.zIndex=131070}})}),e("tinymce/ui/Widget",["tinymce/ui/Control","tinymce/ui/Tooltip"],function(e,t){var n,o=e.extend({init:function(i){var r=this;r._super(i),i=r.settings,r.canFocus=!0,i.tooltip&&!1!==o.tooltips&&(r.on("mouseenter",function(e){var t=r.tooltip().moveTo(-65535);if(e.control==r){var n=t.text(i.tooltip).show().testMoveRel(r.getEl(),["bc-tc","bc-tl","bc-tr"]);t.classes.toggle("tooltip-n","bc-tc"==n),t.classes.toggle("tooltip-nw","bc-tl"==n),t.classes.toggle("tooltip-ne","bc-tr"==n),t.moveRel(r.getEl(),n)}else t.hide()}),r.on("mouseleave mousedown click",function(){r.tooltip().hide()})),r.aria("label",i.ariaLabel||i.tooltip)},tooltip:function(){return n||(n=new t({type:"tooltip"})).renderTo(),n},postRender:function(){var e=this,t=e.settings;e._super(),e.parent()||!t.width&&!t.height||(e.initLayoutRect(),e.repaint()),t.autofocus&&e.focus()},bindStates:function(){function t(e){i.aria("disabled",e),i.classes.toggle("disabled",e)}function n(e){i.aria("pressed",e),i.classes.toggle("active",e)}var i=this;return i.state.on("change:disabled",function(e){t(e.value)}),i.state.on("change:active",function(e){n(e.value)}),i.state.get("disabled")&&t(!0),i.state.get("active")&&n(!0),i._super()},remove:function(){this._super(),n&&(n.remove(),n=null)}});return o}),e("tinymce/ui/Button",["tinymce/ui/Widget"],function(e){return e.extend({Defaults:{classes:"widget btn",role:"button"},init:function(e){var t,n=this;n._super(e),e=n.settings,t=n.settings.size,n.on("click mousedown",function(e){e.preventDefault()}),n.on("touchstart",function(e){n.fire("click",e),e.preventDefault()}),e.subtype&&n.classes.add(e.subtype),t&&n.classes.add("btn-"+t),e.icon&&n.icon(e.icon)},icon:function(e){return arguments.length?(this.state.set("icon",e),this):this.state.get("icon")},repaint:function(){var e,t=this.getEl().firstChild;t&&((e=t.style).width=e.height="100%"),this._super()},renderHtml:function(){var e,t=this,n=t._id,i=t.classPrefix,r=t.state.get("icon"),o=t.state.get("text");return(e=t.settings.image)?(r="none","string"!=typeof e&&(e=window.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="",o&&t.classes.add("btn-has-text"),r=t.settings.icon?i+"ico "+i+"i-"+r:"",'<div id="'+n+'" class="'+t.classes+'" tabindex="-1" aria-labelledby="'+n+'"><button role="presentation" type="button" tabindex="-1">'+(r?'<i class="'+r+'"'+e+"></i>":"")+(o?t.encode(o):"")+"</button></div>"},bindStates:function(){function o(e){for(var t=a.getEl().firstChild.firstChild;t;t=t.nextSibling)3==t.nodeType&&(t.data=a.translate(e));a.classes.toggle("btn-has-text",!!e)}var a=this;return a.state.on("change:text",function(e){o(e.value)}),a.state.on("change:icon",function(e){var t=e.value,n=a.classPrefix;t=(a.settings.icon=t)?n+"ico "+n+"i-"+a.settings.icon:"";var i=a.getEl().firstChild,r=i.getElementsByTagName("i")[0];t?(r&&r==i.firstChild||(r=document.createElement("i"),i.insertBefore(r,i.firstChild)),r.className=t):r&&i.removeChild(r),o(a.state.get("text"))}),a._super()}})}),e("tinymce/ui/ButtonGroup",["tinymce/ui/Container"],function(e){return e.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var e=this,t=e._layout;return e.classes.add("btn-group"),e.preRender(),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'"><div id="'+e._id+'-body">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"}})}),e("tinymce/ui/Checkbox",["tinymce/ui/Widget"],function(e){return e.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(e){var t=this;t._super(e),t.on("click mousedown",function(e){e.preventDefault()}),t.on("click",function(e){e.preventDefault(),t.disabled()||t.checked(!t.checked())}),t.checked(t.settings.checked)},checked:function(e){return arguments.length?(this.state.set("checked",e),this):this.state.get("checked")},value:function(e){return arguments.length?this.checked(e):this.checked()},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix;return'<div id="'+t+'" class="'+e.classes+'" unselectable="on" aria-labelledby="'+t+'-al" tabindex="-1"><i class="'+n+"ico "+n+'i-checkbox"></i><span id="'+t+'-al" class="'+n+'label">'+e.encode(e.state.get("text"))+"</span></div>"},bindStates:function(){function t(e){o.classes.toggle("checked",e),o.aria("checked",e)}var o=this;return o.state.on("change:text",function(e){o.getEl("al").firstChild.data=o.translate(e.value)}),o.state.on("change:checked change:value",function(e){o.fire("change"),t(e.value)}),o.state.on("change:icon",function(e){var t=e.value,n=o.classPrefix;if(void 0===t)return o.settings.icon;t=(o.settings.icon=t)?n+"ico "+n+"i-"+o.settings.icon:"";var i=o.getEl().firstChild,r=i.getElementsByTagName("i")[0];t?(r&&r==i.firstChild||(r=document.createElement("i"),i.insertBefore(r,i.firstChild)),r.className=t):r&&i.removeChild(r)}),o.state.get("checked")&&t(!0),o._super()}})}),e("tinymce/ui/ComboBox",["tinymce/ui/Widget","tinymce/ui/Factory","tinymce/ui/DomUtils","tinymce/dom/DomQuery"],function(e,i,s,l){return e.extend({init:function(i){var r=this;r._super(i),i=r.settings,r.classes.add("combobox"),r.subinput=!0,r.ariaTarget="inp",i.menu=i.menu||i.values,i.menu&&(i.icon="caret"),r.on("click",function(e){var t=e.target,n=r.getEl();if(l.contains(n,t)||t==n)for(;t&&t!=n;)t.id&&-1!=t.id.indexOf("-open")&&(r.fire("action"),i.menu&&(r.showMenu(),e.aria&&r.menu.items()[0].focus())),t=t.parentNode}),r.on("keydown",function(i){"INPUT"==i.target.nodeName&&13==i.keyCode&&r.parents().reverse().each(function(e){var t=r.state.get("value"),n=r.getEl("inp").value;if(i.preventDefault(),r.state.set("value",n),t!=n&&r.fire("change"),e.hasEventListeners("submit")&&e.toJSON)return e.fire("submit",{data:e.toJSON()}),!1})}),r.on("keyup",function(e){"INPUT"==e.target.nodeName&&r.state.set("value",e.target.value)})},showMenu:function(){var e,t=this,n=t.settings;t.menu||((e=n.menu||[]).length?e={type:"menu",items:e}:e.type=e.type||"menu",t.menu=i.create(e).parent(t).renderTo(t.getContainerElm()),t.fire("createmenu"),t.menu.reflow(),t.menu.on("cancel",function(e){e.control===t.menu&&t.focus()}),t.menu.on("show hide",function(e){e.control.items().each(function(e){e.active(e.value()==t.value())})}).fire("show"),t.menu.on("select",function(e){t.value(e.control.value())}),t.on("focusin",function(e){"INPUT"==e.target.tagName.toUpperCase()&&t.menu.hide()}),t.aria("expanded",!0)),t.menu.show(),t.menu.layoutRect({w:t.layoutRect().w}),t.menu.moveRel(t.getEl(),t.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var e,t,n=this,i=n.getEl(),r=n.getEl("open"),o=n.layoutRect();e=r?o.w-s.getSize(r).width-10:o.w-10;var a=document;return a.all&&(!a.documentMode||a.documentMode<=8)&&(t=n.layoutRect().h-2+"px"),l(i.firstChild).css({width:e,lineHeight:t}),n._super(),n},postRender:function(){var t=this;return l(this.getEl("inp")).on("change",function(e){t.state.set("value",e.target.value),t.fire("change",e)}),t._super()},renderHtml:function(){var e,t,n=this,i=n._id,r=n.settings,o=n.classPrefix,a=n.state.get("value")||"",s="",l="";return"spellcheck"in r&&(l+=' spellcheck="'+r.spellcheck+'"'),r.maxLength&&(l+=' maxlength="'+r.maxLength+'"'),r.size&&(l+=' size="'+r.size+'"'),r.subtype&&(l+=' type="'+r.subtype+'"'),n.disabled()&&(l+=' disabled="disabled"'),(e=r.icon)&&"caret"!=e&&(e=o+"ico "+o+"i-"+r.icon),t=n.state.get("text"),(e||t)&&(s='<div id="'+i+'-open" class="'+o+"btn "+o+'open" tabIndex="-1" role="button"><button id="'+i+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!=e?'<i class="'+e+'"></i>':'<i class="'+o+'caret"></i>')+(t?(e?" ":"")+t:"")+"</button></div>",n.classes.add("has-open")),'<div id="'+i+'" class="'+n.classes+'"><input id="'+i+'-inp" class="'+o+'textbox" value="'+n.encode(a,!1)+'" hidefocus="1"'+l+' placeholder="'+n.encode(r.placeholder)+'" />'+s+"</div>"},value:function(e){return arguments.length?(this.state.set("value",e),this):(this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value),this.state.get("value"))},bindStates:function(){var t=this;return t.state.on("change:value",function(e){t.getEl("inp").value!=e.value&&(t.getEl("inp").value=e.value)}),t.state.on("change:disabled",function(e){t.getEl("inp").disabled=e.value}),t._super()},remove:function(){l(this.getEl("inp")).off(),this._super()}})}),e("tinymce/ui/ColorBox",["tinymce/ui/ComboBox"],function(e){return e.extend({init:function(e){var t=this;e.spellcheck=!1,e.onaction&&(e.icon="none"),t._super(e),t.classes.add("colorbox"),t.on("change keyup postrender",function(){t.repaintColor(t.value())})},repaintColor:function(e){var t=this.getEl().getElementsByTagName("i")[0];if(t)try{t.style.background=e}catch(n){}},bindStates:function(){var t=this;return t.state.on("change:value",function(e){t._rendered&&t.repaintColor(e.value)}),t._super()}})}),e("tinymce/ui/PanelButton",["tinymce/ui/Button","tinymce/ui/FloatPanel"],function(e,i){return e.extend({showPanel:function(){var t=this,e=t.settings;if(t.active(!0),t.panel)t.panel.show();else{var n=e.panel;n.type&&(n={layout:"grid",items:n}),n.role=n.role||"dialog",n.popover=!0,n.autohide=!0,n.ariaRoot=!0,t.panel=new i(n).on("hide",function(){t.active(!1)}).on("cancel",function(e){e.stopPropagation(),t.focus(),t.hidePanel()}).parent(t).renderTo(t.getContainerElm()),t.panel.fire("show"),t.panel.reflow()}t.panel.moveRel(t.getEl(),e.popoverAlign||(t.isRtl()?["bc-tr","bc-tc"]:["bc-tl","bc-tc"]))},hidePanel:function(){var e=this;e.panel&&e.panel.hide()},postRender:function(){var t=this;return t.aria("haspopup",!0),t.on("click",function(e){e.control===t&&(t.panel&&t.panel.visible()?t.hidePanel():(t.showPanel(),t.panel.focus(!!e.aria)))}),t._super()},remove:function(){return this.panel&&(this.panel.remove(),this.panel=null),this._super()}})}),e("tinymce/ui/ColorButton",["tinymce/ui/PanelButton","tinymce/dom/DOMUtils"],function(e,t){var i=t.DOM;return e.extend({init:function(e){this._super(e),this.classes.add("colorbutton")},color:function(e){return e?(this._color=e,this.getEl("preview").style.backgroundColor=e,this):this._color},resetColor:function(){return this._color=null,this.getEl("preview").style.backgroundColor=null,this},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix,i=e.state.get("text"),r=e.settings.icon?n+"ico "+n+"i-"+e.settings.icon:"",o=e.settings.image?" style=\"background-image: url('"+e.settings.image+"')\"":"";return'<div id="'+t+'" class="'+e.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(r?'<i class="'+r+'"'+o+"></i>":"")+'<span id="'+t+'-preview" class="'+n+'preview"></span>'+(i?(r?" ":"")+i:"")+'</button><button type="button" class="'+n+'open" hidefocus="1" tabindex="-1"> <i class="'+n+'caret"></i></button></div>'},postRender:function(){var t=this,n=t.settings.onclick;return t.on("click",function(e){e.aria&&"down"==e.aria.key||e.control!=t||i.getParent(e.target,"."+t.classPrefix+"open")||(e.stopImmediatePropagation(),n.call(t,e))}),delete t.settings.onclick,t._super()}})}),e("tinymce/util/Color",[],function(){function e(e){function t(e,t,n){var i,r,o,a;return r=i=0,(o=d(e/=255,d(t/=255,n/=255)))==(a=f(e,f(t,n)))?{h:0,s:0,v:100*(r=o)}:(i=(a-o)/a,{h:m(60*((e==o?3:n==o?1:5)-(e==o?t-n:n==o?e-t:n-e)/((r=a)-o))),s:m(100*i),v:m(100*r)})}function n(e,t,n){var i,r,o,a;if(e=(parseInt(e,10)||0)%360,t=parseInt(t,10)/100,n=parseInt(n,10)/100,t=f(0,d(t,1)),n=f(0,d(n,1)),0!==t){switch(i=e/60,o=(r=n*t)*(1-Math.abs(i%2-1)),a=n-r,Math.floor(i)){case 0:l=r,c=o,u=0;break;case 1:l=o,c=r,u=0;break;case 2:l=0,c=r,u=o;break;case 3:l=0,c=o,u=r;break;case 4:l=o,c=0,u=r;break;case 5:l=r,c=0,u=o;break;default:l=c=u=0}l=m(255*(l+a)),c=m(255*(c+a)),u=m(255*(u+a))}else l=c=u=m(255*n)}function i(){function e(e){return 1<(e=parseInt(e,10).toString(16)).length?e:"0"+e}return"#"+e(l)+e(c)+e(u)}function r(){return{r:l,g:c,b:u}}function o(){return t(l,c,u)}function a(e){var t;return"object"==typeof e?"r"in e?(l=e.r,c=e.g,u=e.b):"v"in e&&n(e.h,e.s,e.v):(t=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e))?(l=parseInt(t[1],10),c=parseInt(t[2],10),u=parseInt(t[3],10)):(t=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e))?(l=parseInt(t[1],16),c=parseInt(t[2],16),u=parseInt(t[3],16)):(t=/#([0-F])([0-F])([0-F])/gi.exec(e))&&(l=parseInt(t[1]+t[1],16),c=parseInt(t[2]+t[2],16),u=parseInt(t[3]+t[3],16)),l=l<0?0:255<l?255:l,c=c<0?0:255<c?255:c,u=u<0?0:255<u?255:u,s}var s=this,l=0,c=0,u=0;e&&a(e),s.toRgb=r,s.toHsv=o,s.toHex=i,s.parse=a}var d=Math.min,f=Math.max,m=Math.round;return e}),e("tinymce/ui/ColorPicker",["tinymce/ui/Widget","tinymce/ui/DragHelper","tinymce/ui/DomUtils","tinymce/util/Color"],function(e,d,f,m){return e.extend({Defaults:{classes:"widget colorpicker"},init:function(e){this._super(e)},postRender:function(){function n(e,t){var n,i,r=f.getPos(e);return n=t.pageX-r.x,i=t.pageY-r.y,{x:n=Math.max(0,Math.min(n/e.clientWidth,1)),y:i=Math.max(0,Math.min(i/e.clientHeight,1))}}function i(e,t){var n=(360-e.h)/360;f.css(a,{top:100*n+"%"}),t||f.css(l,{left:e.s+"%",top:100-e.v+"%"}),s.style.background=new m({s:100,v:100,h:e.h}).toHex(),c.color().parse({s:e.s,v:e.v,h:e.h})}function e(e){var t;t=n(s,e),r.s=100*t.x,r.v=100*(1-t.y),i(r),c.fire("change")}function t(e){var t;t=n(o,e),(r=u.toHsv()).h=360*(1-t.y),i(r,!0),c.fire("change")}var r,o,a,s,l,c=this,u=c.color();o=c.getEl("h"),a=c.getEl("hp"),s=c.getEl("sv"),l=c.getEl("svp"),c._repaint=function(){i(r=u.toHsv())},c._super(),c._svdraghelper=new d(c._id+"-sv",{start:e,drag:e}),c._hdraghelper=new d(c._id+"-h",{start:t,drag:t}),c._repaint()},rgb:function(){return this.color().toRgb()},value:function(e){var t=this;if(!arguments.length)return t.color().toHex();t.color().parse(e),t._rendered&&t._repaint()},color:function(){return this._color||(this._color=new m),this._color},renderHtml:function(){function e(){var e,t,n,i,r="";for(n="filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=",e=0,t=(i=a.split(",")).length-1;e<t;e++)r+='<div class="'+o+'colorpicker-h-chunk" style="height:'+100/t+"%;"+n+i[e]+",endColorstr="+i[e+1]+");-ms-"+n+i[e]+",endColorstr="+i[e+1]+')"></div>';return r}var t,n=this,i=n._id,o=n.classPrefix,a="#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000";return t='<div id="'+i+'-h" class="'+o+'colorpicker-h" style="'+("background: -ms-linear-gradient(top,"+a+");background: linear-gradient(to bottom,"+a+");")+'">'+e()+'<div id="'+i+'-hp" class="'+o+'colorpicker-h-marker"></div></div>','<div id="'+i+'" class="'+n.classes+'"><div id="'+i+'-sv" class="'+o+'colorpicker-sv"><div class="'+o+'colorpicker-overlay1"><div class="'+o+'colorpicker-overlay2"><div id="'+i+'-svp" class="'+o+'colorpicker-selector1"><div class="'+o+'colorpicker-selector2"></div></div></div></div></div>'+t+"</div>"}})}),e("tinymce/ui/Path",["tinymce/ui/Widget"],function(e){return e.extend({init:function(e){var n=this;e.delimiter||(e.delimiter="\xbb"),n._super(e),n.classes.add("path"),n.canFocus=!0,n.on("click",function(e){var t;(t=e.target.getAttribute("data-index"))&&n.fire("select",{value:n.row()[t],index:t})}),n.row(n.settings.row)},focus:function(){var e=this;return e.getEl().firstChild.focus(),e},row:function(e){return arguments.length?(this.state.set("row",e),this):this.state.get("row")},renderHtml:function(){var e=this;return'<div id="'+e._id+'" class="'+e.classes+'">'+e._getDataPathHtml(e.state.get("row"))+"</div>"},bindStates:function(){var t=this;return t.state.on("change:row",function(e){t.innerHtml(t._getDataPathHtml(e.value))}),t._super()},_getDataPathHtml:function(e){var t,n,i=this,r=e||[],o="",a=i.classPrefix;for(t=0,n=r.length;t<n;t++)o+=(0<t?'<div class="'+a+'divider" aria-hidden="true"> '+i.settings.delimiter+" </div>":"")+'<div role="button" class="'+a+"path-item"+(t==n-1?" "+a+"last":"")+'" data-index="'+t+'" tabindex="-1" id="'+i._id+"-"+t+'" aria-level="'+t+'">'+r[t].name+"</div>";return o||(o='<div class="'+a+'path-item">\xa0</div>'),o}})}),e("tinymce/ui/ElementPath",["tinymce/ui/Path","tinymce/EditorManager"],function(e,t){return e.extend({postRender:function(){function o(e){if(1===e.nodeType){if("BR"==e.nodeName||e.getAttribute("data-mce-bogus"))return!0;if("bookmark"===e.getAttribute("data-mce-type"))return!0}return!1}var a=this,s=t.activeEditor;return!1!==s.settings.elementpath&&(a.on("select",function(e){s.focus(),s.selection.select(this.row()[e.index].element),s.nodeChanged()}),s.on("nodeChange",function(e){for(var t=[],n=e.parents,i=n.length;i--;)if(1==n[i].nodeType&&!o(n[i])){var r=s.fire("ResolveName",{name:n[i].nodeName.toLowerCase(),target:n[i]});if(r.isDefaultPrevented()||t.push({name:r.name,element:n[i]}),r.isPropagationStopped())break}a.row(t)})),a._super()}})}),e("tinymce/ui/FormItem",["tinymce/ui/Container"],function(e){return e.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.classes.add("formitem"),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1">'+(e.settings.title?'<div id="'+e._id+'-title" class="'+n+'title">'+e.settings.title+"</div>":"")+'<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"}})}),e("tinymce/ui/Form",["tinymce/ui/Container","tinymce/ui/FormItem","tinymce/util/Tools"],function(e,r,o){return e.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var i=this,e=i.items();i.settings.formItemDefaults||(i.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}}),e.each(function(e){var t,n=e.settings.label;n&&((t=new r(o.extend({items:{type:"label",id:e._id+"-l",text:n,flex:0,forId:e._id,disabled:e.disabled()}},i.settings.formItemDefaults))).type="formitem",e.aria("labelledby",e._id+"-l"),"undefined"==typeof e.settings.flex&&(e.settings.flex=1),i.replace(e,t),t.add(e))})},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){var e=this;e._super(),e.fromJSON(e.settings.data)},bindStates:function(){function e(){var e,t,i=0,r=[];if(!1!==n.settings.labelGapCalc)for(("children"==n.settings.labelGapCalc?n.find("formitem"):n.items()).filter("formitem").each(function(e){var t=e.items()[0],n=t.getEl().clientWidth;i=i<n?n:i,r.push(t)}),t=n.settings.labelGap||0,e=r.length;e--;)r[e].settings.minWidth=i+t}var n=this;n._super(),n.on("show",e),e()}})}),e("tinymce/ui/FieldSet",["tinymce/ui/Form"],function(e){return e.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.preRender(),t.preRender(e),'<fieldset id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1">'+(e.settings.title?'<legend id="'+e._id+'-title" class="'+n+'fieldset-title">'+e.settings.title+"</legend>":"")+'<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></fieldset>"}})}),e("tinymce/ui/FilePicker",["tinymce/ui/ComboBox","tinymce/util/Tools"],function(e,s){return e.extend({init:function(t){var e,n,i,r=this,o=tinymce.activeEditor,a=o.settings;t.spellcheck=!1,(i=a.file_picker_types||a.file_browser_callback_types)&&(i=s.makeMap(i,/[, ]/)),i&&!i[t.filetype]||(!(n=a.file_picker_callback)||i&&!i[t.filetype]?!(n=a.file_browser_callback)||i&&!i[t.filetype]||(e=function(){n(r.getEl("inp").id,r.value(),t.filetype,window)}):e=function(){var e=r.fire("beforecall").meta;e=s.extend({filetype:t.filetype},e),n.call(o,function(e,t){r.value(e).fire("change",{meta:t})},r.value(),e)}),e&&(t.icon="browse",t.onaction=e),r._super(t)}})}),e("tinymce/ui/FitLayout",["tinymce/ui/AbsoluteLayout"],function(e){return e.extend({recalc:function(e){var t=e.layoutRect(),n=e.paddingBox;e.items().filter(":visible").each(function(e){e.layoutRect({x:n.left,y:n.top,w:t.innerW-n.right-n.left,h:t.innerH-n.top-n.bottom}),e.recalc&&e.recalc()})}})}),e("tinymce/ui/FlexLayout",["tinymce/ui/AbsoluteLayout"],function(e){return e.extend({recalc:function(e){var t,n,i,r,o,a,s,l,c,u,d,f,m,h,p,g,v,y,b,x,C,w,_,E,S,N,k,T,R,A,B,D,M,P,O,L,H,I=[],F=Math.max,z=Math.min;for(i=e.items().filter(":visible"),r=e.layoutRect(),o=e.paddingBox,a=e.settings,f=e.isRtl()?a.direction||"row-reversed":a.direction,s=a.align,l=e.isRtl()?a.pack||"end":a.pack,c=a.spacing||0,"row-reversed"!=f&&"column-reverse"!=f||(i=i.set(i.toArray().reverse()),f=f.split("-")[0]),"column"==f?(E="y",w="h",_="minH",S="maxH",k="innerH",N="top",T="deltaH",R="contentH",P="left",D="w",A="x",B="innerW",M="minW",O="right",L="deltaW",H="contentW"):(E="x",w="w",_="minW",S="maxW",k="innerW",N="left",T="deltaW",R="contentW",P="top",D="h",A="y",B="innerH",M="minH",O="bottom",L="deltaH",H="contentH"),d=r[k]-o[N]-o[N],C=u=0,t=0,n=i.length;t<n;t++)h=(m=i[t]).layoutRect(),d-=t<n-1?c:0,0<(p=m.settings.flex)&&(u+=p,h[S]&&I.push(m),h.flex=p),d-=h[_],C<(g=o[P]+h[M]+o[O])&&(C=g);if((b={})[_]=d<0?r[_]-d+r[T]:r[k]-d+r[T],b[M]=C+r[L],b[R]=r[k]-d,b[H]=C,b.minW=z(b.minW,r.maxW),b.minH=z(b.minH,r.maxH),b.minW=F(b.minW,r.startMinWidth),b.minH=F(b.minH,r.startMinHeight),!r.autoResize||b.minW==r.minW&&b.minH==r.minH){for(y=d/u,t=0,n=I.length;t<n;t++)(v=(h=(m=I[t]).layoutRect())[S])<(g=h[_]+h.flex*y)?(d-=h[S]-h[_],u-=h.flex,h.flex=0,h.maxFlexSize=v):h.maxFlexSize=0;for(y=d/u,x=o[N],b={},0===u&&("end"==l?x=d+o[N]:"center"==l?(x=Math.round(r[k]/2-(r[k]-d)/2)+o[N])<0&&(x=o[N]):"justify"==l&&(x=o[N],c=Math.floor(d/(i.length-1)))),b[A]=o[P],t=0,n=i.length;t<n;t++)g=(h=(m=i[t]).layoutRect()).maxFlexSize||h[_],"center"===s?b[A]=Math.round(r[B]/2-h[D]/2):"stretch"===s?(b[D]=F(h[M]||0,r[B]-o[P]-o[O]),b[A]=o[P]):"end"===s&&(b[A]=r[B]-h[D]-o.top),0<h.flex&&(g+=h.flex*y),b[w]=g,b[E]=x,m.layoutRect(b),m.recalc&&m.recalc(),x+=g+c}else if(b.w=b.minW,b.h=b.minH,e.layoutRect(b),this.recalc(e),null===e._lastRect){var W=e.parent();W&&(W._lastRect=null,W.recalc())}}})}),e("tinymce/ui/FlowLayout",["tinymce/ui/Layout"],function(e){return e.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(e){e.items().filter(":visible").each(function(e){e.recalc&&e.recalc()})},isNative:function(){return!0}})}),e("tinymce/ui/FormatControls",["tinymce/ui/Control","tinymce/ui/Widget","tinymce/ui/FloatPanel","tinymce/util/Tools","tinymce/EditorManager","tinymce/Env"],function(t,e,c,n,i,r){function o(s){function i(r,o){return function(){var t=this;s.on("nodeChange",function(e){var n=s.formatter,i=null;u(e.parents,function(t){if(u(r,function(e){if(o?n.matchNode(t,o,{value:e.value})&&(i=e.value):n.matchNode(t,e.value)&&(i=e.value),i)return!1}),i)return!1}),t.value(i)})}}function r(e){for(var t=(e=e.replace(/;$/,"").split(";")).length;t--;)e[t]=e[t].split("=");return e}function e(){function r(e){var i=[];if(e)return u(e,function(e){var t={text:e.title,icon:e.icon};if(e.items)t.menu=r(e.items);else{var n=e.format||"custom"+o++;e.format||(e.name=n,a.push(e)),t.format=n,t.cmd=e.cmd}i.push(t)}),i}function e(){return s.settings.style_formats_merge?s.settings.style_formats?r(t.concat(s.settings.style_formats)):r(t):r(s.settings.style_formats||t)}var o=0,a=[],t=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];return s.on("init",function(){u(a,function(e){s.formatter.register(e.name,e)})}),{type:"menu",items:e(),onPostRender:function(e){s.fire("renderFormatsMenu",{control:e.control})},itemDefaults:{preview:!0,textStyle:function(){if(this.settings.format)return s.formatter.getCssText(this.settings.format)},onPostRender:function(){var n=this;n.parent().on("show",function(){var e,t;(e=n.settings.format)&&(n.disabled(!s.formatter.canApply(e)),n.active(s.formatter.match(e))),(t=n.settings.cmd)&&n.active(s.queryCommandState(t))})},onclick:function(){this.settings.format&&l(this.settings.format),this.settings.cmd&&s.execCommand(this.settings.cmd)}}}}function n(e){return function(){var t=this;s.formatter?s.formatter.formatChanged(e,function(e){t.active(e)}):s.on("init",function(){s.formatter.formatChanged(e,function(e){t.active(e)})})}}function t(n){return function(){function e(){return!!s.undoManager&&s.undoManager[n]()}var t=this;n="redo"==n?"hasRedo":"hasUndo",t.disabled(!e()),s.on("Undo Redo AddUndo TypingUndo ClearUndos",function(){t.disabled(!e())})}}function o(){var t=this;s.on("VisualAid",function(e){t.active(e.hasVisual)}),t.active(s.hasVisual)}function l(e){e.control&&(e=e.control.value()),e&&s.execCommand("mceToggleFormat",!1,e)}var a;a=e(),u({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(e,t){s.addButton(t,{tooltip:e,onPostRender:n(t),onclick:function(){l(t)}})}),u({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(e,t){s.addButton(t,{tooltip:e[0],cmd:e[1]})}),u({blockquote:["Blockquote","mceBlockQuote"],numlist:["Numbered list","InsertOrderedList"],bullist:["Bullet list","InsertUnorderedList"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},function(e,t){s.addButton(t,{tooltip:e[0],cmd:e[1],onPostRender:n(t)})}),s.addButton("undo",{tooltip:"Undo",onPostRender:t("undo"),cmd:"undo"}),s.addButton("redo",{tooltip:"Redo",onPostRender:t("redo"),cmd:"redo"}),s.addMenuItem("newdocument",{text:"New document",icon:"newdocument",cmd:"mceNewDocument"}),s.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:t("undo"),cmd:"undo"}),s.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:t("redo"),cmd:"redo"}),s.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:o,cmd:"mceToggleVisualAid"}),s.addButton("remove",{tooltip:"Remove",icon:"remove",cmd:"Delete"}),u({cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"],bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(e,t){s.addMenuItem(t,{text:e[0],icon:t,shortcut:e[2],cmd:e[1]})}),s.on("mousedown",function(){c.hideAll()}),s.addButton("styleselect",{type:"menubutton",text:"Formats",menu:a}),s.addButton("formatselect",function(){var t=[],e=r(s.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");return u(e,function(e){t.push({text:e[0],value:e[1],textStyle:function(){return s.formatter.getCssText(e[1])}})}),{type:"listbox",text:e[0][0],values:t,fixedWidth:!0,onselect:l,onPostRender:i(t)}}),s.addButton("fontselect",function(){var e="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",t=[],n=r(s.settings.font_formats||e);return u(n,function(e){t.push({text:{raw:e[0]},value:e[1],textStyle:-1==e[1].indexOf("dings")?"font-family:"+e[1]:""})}),{type:"listbox",text:"Font Family",tooltip:"Font Family",values:t,fixedWidth:!0,onPostRender:i(t,"fontname"),onselect:function(e){e.control.settings.value&&s.execCommand("FontName",!1,e.control.settings.value)}}}),s.addButton("fontsizeselect",function(){var r=[],e="8pt 10pt 12pt 14pt 18pt 24pt 36pt",t=s.settings.fontsize_formats||e;return u(t.split(" "),function(e){var t=e,n=e,i=e.split("=");1<i.length&&(t=i[0],n=i[1]),r.push({text:t,value:n})}),{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:r,fixedWidth:!0,onPostRender:i(r,"fontsize"),onclick:function(e){e.control.settings.value&&s.execCommand("FontSize",!1,e.control.settings.value)}}}),s.addMenuItem("formats",{text:"Formats",menu:a})}var u=n.each;i.on("AddEditor",function(e){e.editor.rtl&&(t.rtl=!0),o(e.editor)}),t.translate=function(e){return i.translate(e)},e.tooltips=!r.iOS}),e("tinymce/ui/GridLayout",["tinymce/ui/AbsoluteLayout"],function(e){return e.extend({recalc:function(e){var t,n,i,r,o,a,s,l,c,u,d,f,m,h,p,g,v,y,b,x,C,w,_,E,S,N,k,T,R=[],A=[];t=e.settings,r=e.items().filter(":visible"),o=e.layoutRect(),i=t.columns||Math.ceil(Math.sqrt(r.length)),n=Math.ceil(r.length/i),y=t.spacingH||t.spacing||0,b=t.spacingV||t.spacing||0,x=t.alignH||t.align,C=t.alignV||t.align,g=e.paddingBox,T="reverseRows"in t?t.reverseRows:e.isRtl(),x&&"string"==typeof x&&(x=[x]),C&&"string"==typeof C&&(C=[C]);for(d=0;d<i;d++)R.push(0);for(f=0;f<n;f++)A.push(0);for(f=0;f<n;f++)for(d=0;d<i&&(u=r[f*i+d]);d++)E=(c=u.layoutRect()).minW,S=c.minH,R[d]=E>R[d]?E:R[d],A[f]=S>A[f]?S:A[f];for(N=o.innerW-g.left-g.right,d=w=0;d<i;d++)w+=R[d]+(0<d?y:0),N-=(0<d?y:0)+R[d];for(k=o.innerH-g.top-g.bottom,f=_=0;f<n;f++)_+=A[f]+(0<f?b:0),k-=(0<f?b:0)+A[f];if(w+=g.left+g.right,_+=g.top+g.bottom,(l={}).minW=w+(o.w-o.innerW),l.minH=_+(o.h-o.innerH),l.contentW=l.minW-o.deltaW,l.contentH=l.minH-o.deltaH,l.minW=Math.min(l.minW,o.maxW),l.minH=Math.min(l.minH,o.maxH),l.minW=Math.max(l.minW,o.startMinWidth),l.minH=Math.max(l.minH,o.startMinHeight),!o.autoResize||l.minW==o.minW&&l.minH==o.minH){var B;o.autoResize&&((l=e.layoutRect(l)).contentW=l.minW-o.deltaW,l.contentH=l.minH-o.deltaH),B="start"==t.packV?0:0<k?Math.floor(k/n):0;var D=0,M=t.flexWidths;if(M)for(d=0;d<M.length;d++)D+=M[d];else D=i;var P=N/D;for(d=0;d<i;d++)R[d]+=M?M[d]*P:P;for(h=g.top,f=0;f<n;f++){for(m=g.left,s=A[f]+B,d=0;d<i&&(u=r[T?f*i+i-1-d:f*i+d]);d++)p=u.settings,c=u.layoutRect(),a=Math.max(R[d],c.startMinWidth),c.x=m,c.y=h,"center"==(v=p.alignH||(x?x[d]||x[0]:null))?c.x=m+a/2-c.w/2:"right"==v?c.x=m+a-c.w:"stretch"==v&&(c.w=a),"center"==(v=p.alignV||(C?C[d]||C[0]:null))?c.y=h+s/2-c.h/2:"bottom"==v?c.y=h+s-c.h:"stretch"==v&&(c.h=s),u.layoutRect(c),m+=a+y,u.recalc&&u.recalc();h+=s+b}}else if(l.w=l.minW,l.h=l.minH,e.layoutRect(l),this.recalc(e),null===e._lastRect){var O=e.parent();O&&(O._lastRect=null,O.recalc())}}})}),e("tinymce/ui/Iframe",["tinymce/ui/Widget"],function(e){return e.extend({renderHtml:function(){var e=this;return e.classes.add("iframe"),e.canFocus=!1,'<iframe id="'+e._id+'" class="'+e.classes+'" tabindex="-1" src="'+(e.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(e){this.getEl().src=e},
html:function(e,t){var n=this,i=this.getEl().contentWindow.document.body;return i?(i.innerHTML=e,t&&t()):setTimeout(function(){n.html(e)},0),this}})}),e("tinymce/ui/Label",["tinymce/ui/Widget","tinymce/ui/DomUtils"],function(e,n){return e.extend({init:function(e){var t=this;t._super(e),t.classes.add("widget").add("label"),t.canFocus=!1,e.multiline&&t.classes.add("autoscroll"),e.strong&&t.classes.add("strong")},initLayoutRect:function(){var e=this,t=e._super();e.settings.multiline&&(n.getSize(e.getEl()).width>t.maxW&&(t.minW=t.maxW,e.classes.add("multiline")),e.getEl().style.width=t.minW+"px",t.startMinH=t.h=t.minH=Math.min(t.maxH,n.getSize(e.getEl()).height));return t},repaint:function(){var e=this;return e.settings.multiline||(e.getEl().style.lineHeight=e.layoutRect().h+"px"),e._super()},renderHtml:function(){var e=this,t=e.settings.forId;return'<label id="'+e._id+'" class="'+e.classes+'"'+(t?' for="'+t+'"':"")+">"+e.encode(e.state.get("text"))+"</label>"},bindStates:function(){var t=this;return t.state.on("change:text",function(e){t.innerHtml(t.encode(e.value))}),t._super()}})}),e("tinymce/ui/Toolbar",["tinymce/ui/Container"],function(e){return e.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(e){var t=this;t._super(e),t.classes.add("toolbar")},postRender:function(){var e=this;return e.items().each(function(e){e.classes.add("toolbar-item")}),e._super()}})}),e("tinymce/ui/MenuBar",["tinymce/ui/Toolbar"],function(e){return e.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}})}),e("tinymce/ui/MenuButton",["tinymce/ui/Button","tinymce/ui/Factory","tinymce/ui/MenuBar"],function(e,n,a){function t(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1}var o=e.extend({init:function(e){var t=this;t._renderOpen=!0,t._super(e),e=t.settings,t.classes.add("menubtn"),e.fixedWidth&&t.classes.add("fixed-width"),t.aria("haspopup",!0),t.state.set("menu",e.menu||t.render())},showMenu:function(){var e,t=this;if(t.menu&&t.menu.visible())return t.hideMenu();t.menu||((e=t.state.get("menu")||[]).length?e={type:"menu",items:e}:e.type=e.type||"menu",e.renderTo?t.menu=e.parent(t).show().renderTo():t.menu=n.create(e).parent(t).renderTo(),t.fire("createmenu"),t.menu.reflow(),t.menu.on("cancel",function(e){e.control.parent()===t.menu&&(e.stopPropagation(),t.focus(),t.hideMenu())}),t.menu.on("select",function(){t.focus()}),t.menu.on("show hide",function(e){e.control==t.menu&&t.activeMenu("show"==e.type),t.aria("expanded","show"==e.type)}).fire("show")),t.menu.show(),t.menu.layoutRect({w:t.layoutRect().w}),t.menu.moveRel(t.getEl(),t.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},hideMenu:function(){var e=this;e.menu&&(e.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),e.menu.hide())},activeMenu:function(e){this.classes.toggle("active",e)},renderHtml:function(){var e,t=this,n=t._id,i=t.classPrefix,r=t.settings.icon,o=t.state.get("text");return(e=t.settings.image)?(r="none","string"!=typeof e&&(e=window.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="",r=t.settings.icon?i+"ico "+i+"i-"+r:"",t.aria("role",t.parent()instanceof a?"menuitem":"button"),'<div id="'+n+'" class="'+t.classes+'" tabindex="-1" aria-labelledby="'+n+'"><button id="'+n+'-open" role="presentation" type="button" tabindex="-1">'+(r?'<i class="'+r+'"'+e+"></i>":"")+(o?(r?"\xa0":"")+t.encode(o):"")+' <i class="'+i+'caret"></i></button></div>'},postRender:function(){var r=this;return r.on("click",function(e){e.control===r&&t(e.target,r.getEl())&&(r.showMenu(),e.aria&&r.menu.items()[0].focus())}),r.on("mouseenter",function(e){var t,n=e.control,i=r.parent();n&&i&&n instanceof o&&n.parent()==i&&(i.items().filter("MenuButton").each(function(e){e.hideMenu&&e!=n&&(e.menu&&e.menu.visible()&&(t=!0),e.hideMenu())}),t&&(n.focus(),n.showMenu()))}),r._super()},bindStates:function(){var e=this;return e.state.on("change:menu",function(){e.menu&&e.menu.remove(),e.menu=null}),e._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}});return o}),e("tinymce/ui/MenuItem",["tinymce/ui/Widget","tinymce/ui/Factory","tinymce/Env"],function(e,o,c){return e.extend({Defaults:{border:0,role:"menuitem"},init:function(e){var t,n=this;n._super(e),e=n.settings,n.classes.add("menu-item"),e.menu&&n.classes.add("menu-item-expand"),e.preview&&n.classes.add("menu-item-preview"),"-"!==(t=n.state.get("text"))&&"|"!==t||(n.classes.add("menu-item-sep"),n.aria("role","separator"),n.state.set("text","-")),e.selectable&&(n.aria("role","menuitemcheckbox"),n.classes.add("menu-item-checkbox"),e.icon="selected"),e.preview||e.selectable||n.classes.add("menu-item-normal"),n.on("mousedown",function(e){e.preventDefault()}),e.menu&&!e.ariaHideMenu&&n.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var t,n=this,e=n.settings,i=n.parent();if(i.items().each(function(e){e!==n&&e.hideMenu()}),e.menu){(t=n.menu)?t.show():((t=e.menu).length?t={type:"menu",items:t}:t.type=t.type||"menu",i.settings.itemDefaults&&(t.itemDefaults=i.settings.itemDefaults),(t=n.menu=o.create(t).parent(n).renderTo()).reflow(),t.on("cancel",function(e){e.stopPropagation(),n.focus(),t.hide()}),t.on("show hide",function(e){e.control.items().each(function(e){e.active(e.settings.selected)})}).fire("show"),t.on("hide",function(e){e.control===t&&n.classes.remove("selected")}),t.submenu=!0),t._parentMenu=i,t.classes.add("menu-sub");var r=t.testMoveRel(n.getEl(),n.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);t.moveRel(n.getEl(),r),r="menu-sub-"+(t.rel=r),t.classes.remove(t._lastRel).add(r),t._lastRel=r,n.classes.add("selected"),n.aria("expanded",!0)}},hideMenu:function(){var e=this;return e.menu&&(e.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),e.menu.hide(),e.aria("expanded",!1)),e},renderHtml:function(){function e(e){var t,n,i={};for(i=c.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"},e=e.split("+"),t=0;t<e.length;t++)(n=i[e[t].toLowerCase()])&&(e[t]=n);return e.join("+")}var t=this,n=t._id,i=t.settings,r=t.classPrefix,o=t.encode(t.state.get("text")),a=t.settings.icon,s="",l=i.shortcut;return a&&t.parent().classes.add("menu-has-icons"),i.image&&(s=" style=\"background-image: url('"+i.image+"')\""),l&&(l=e(l)),a=r+"ico "+r+"i-"+(t.settings.icon||"none"),'<div id="'+n+'" class="'+t.classes+'" tabindex="-1">'+("-"!==o?'<i class="'+a+'"'+s+"></i>\xa0":"")+("-"!==o?'<span id="'+n+'-text" class="'+r+'text">'+o+"</span>":"")+(l?'<div id="'+n+'-shortcut" class="'+r+'menu-shortcut">'+l+"</div>":"")+(i.menu?'<div class="'+r+'caret"></div>':"")+"</div>"},postRender:function(){var t=this,n=t.settings,e=n.textStyle;if("function"==typeof e&&(e=e.call(this)),e){var i=t.getEl("text");i&&i.setAttribute("style",e)}return t.on("mouseenter click",function(e){e.control===t&&(n.menu||"click"!==e.type?(t.showMenu(),e.aria&&t.menu.focus(!0)):(t.fire("select"),t.parent().hideAll()))}),t._super(),t},active:function(e){return void 0!==e&&this.aria("checked",e),this._super(e)},remove:function(){this._super(),this.menu&&this.menu.remove()}})}),e("tinymce/ui/Menu",["tinymce/ui/FloatPanel","tinymce/ui/MenuItem","tinymce/util/Tools"],function(e,t,r){return e.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(e){var t=this;if(e.autohide=!0,e.constrainToViewport=!0,e.itemDefaults)for(var n=e.items,i=n.length;i--;)n[i]=r.extend({},e.itemDefaults,n[i]);t._super(e),t.classes.add("menu")},repaint:function(){return this.classes.toggle("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){var e=this;e.hideAll(),e.fire("select")},hideAll:function(){var e=this;return this.find("menuitem").exec("hideMenu"),e._super()},preRender:function(){var n=this;return n.items().each(function(e){var t=e.settings;if(t.icon||t.image||t.selectable)return!(n._hasIcons=!0)}),n._super()}})}),e("tinymce/ui/ListBox",["tinymce/ui/MenuButton","tinymce/ui/Menu"],function(e,i){return e.extend({init:function(n){function i(e){for(var t=0;t<e.length;t++){if(r=e[t].selected||n.value===e[t].value)return o=o||e[t].text,s.state.set("value",e[t].value),!0;if(e[t].menu&&i(e[t].menu))return!0}}var e,r,o,a,s=this;s._super(n),n=s.settings,s._values=e=n.values,e&&("undefined"!=typeof n.value&&i(e),!r&&0<e.length&&(o=e[0].text,s.state.set("value",e[0].value)),s.state.set("menu",e)),s.state.set("text",n.text||o||e[0].text),s.classes.add("listbox"),s.on("select",function(e){var t=e.control;a&&(e.lastControl=a),n.multiple?t.active(!t.active()):s.value(e.control.value()),a=t})},bindStates:function(){function t(e,t){e instanceof i&&e.items().each(function(e){e.hasMenus()||e.active(e.value()===t)})}function r(e,t){var n;if(e)for(var i=0;i<e.length;i++){if(e[i].value===t)return e[i];if(e[i].menu&&(n=r(e[i].menu,t)))return n}}var n=this;return n.on("show",function(e){t(e.control,n.value())}),n.state.on("change:value",function(e){var t=r(n.state.get("menu"),e.value);t?n.text(t.text):n.text(n.settings.text)}),n._super()}})}),e("tinymce/ui/Radio",["tinymce/ui/Checkbox"],function(e){return e.extend({Defaults:{classes:"radio",role:"radio"}})}),e("tinymce/ui/Rect",[],function(){function a(e,t,n){var i,r,o,a,s,l;return i=t.x,r=t.y,o=e.w,a=e.h,s=t.w,l=t.h,"b"===(n=(n||"").split(""))[0]&&(r+=l),"r"===n[1]&&(i+=s),"c"===n[0]&&(r+=c(l/2)),"c"===n[1]&&(i+=c(s/2)),"b"===n[3]&&(r-=a),"r"===n[4]&&(i-=o),"c"===n[3]&&(r-=c(a/2)),"c"===n[4]&&(i-=c(o/2)),{x:i,y:r,w:o,h:a}}function e(e,t,n,i){var r,o;for(o=0;o<i.length;o++)if((r=a(e,t,i[o])).x>=n.x&&r.x+r.w<=n.w+n.x&&r.y>=n.y&&r.y+r.h<=n.h+n.y)return i[o]}function t(e,t,n){return{x:e.x-t,y:e.y-n,w:e.w+2*t,h:e.h+2*n}}function n(e,t){var n,i,r,o;return n=m(e.x,t.x),i=m(e.y,t.y),r=s(e.x+e.w,t.x+t.w),o=s(e.y+e.h,t.y+t.h),r-n<0||o-i<0?null:{x:n,y:i,w:r-n,h:o-i}}function i(e,t,n){var i,r,o,a,s,l,c,u,d,f;return s=e.x,l=e.y,c=e.x+e.w,u=e.y+e.h,d=t.x+t.w,f=t.y+t.h,i=m(0,t.x-s),r=m(0,t.y-l),o=m(0,c-d),a=m(0,u-f),s+=i,l+=r,n&&(c+=i,u+=r,s-=o,l-=a),{x:s,y:l,w:(c-=o)-s,h:(u-=a)-l}}var s=Math.min,m=Math.max,c=Math.round;return{inflate:t,relativePosition:a,findBestRelativePosition:e,intersect:n,clamp:i}}),e("tinymce/ui/ResizeHandle",["tinymce/ui/Widget","tinymce/ui/DragHelper"],function(e,n){return e.extend({renderHtml:function(){var e=this,t=e.classPrefix;return e.classes.add("resizehandle"),"both"==e.settings.direction&&e.classes.add("resizehandle-both"),e.canFocus=!1,'<div id="'+e._id+'" class="'+e.classes+'"><i class="'+t+"ico "+t+'i-resize"></i></div>'},postRender:function(){var t=this;t._super(),t.resizeDragHelper=new n(this._id,{start:function(){t.fire("ResizeStart")},drag:function(e){"both"!=t.settings.direction&&(e.deltaX=0),t.fire("Resize",e)},stop:function(){t.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}})}),e("tinymce/ui/Slider",["tinymce/ui/Widget","tinymce/ui/DragHelper","tinymce/ui/DomUtils"],function(e,m,h){function p(e,t,n){return e<t&&(e=t),n<e&&(e=n),e}function n(e,t){var n,i,r,o;"v"==e.settings.orientation?(r="top",i="height",n="h"):(r="left",i="width",n="w"),o=((e.layoutRect()[n]||100)-h.getSize(e.getEl("handle"))[i])*((t-e._minValue)/(e._maxValue-e._minValue))+"px",e.getEl("handle").style[r]=o,e.getEl("handle").style.height=e.layoutRect().h+"px"}return e.extend({init:function(e){var t=this;e.previewFilter||(e.previewFilter=function(e){return Math.round(100*e)/100}),t._super(e),t.classes.add("slider"),"v"==e.orientation&&t.classes.add("vertical"),t._minValue=e.minValue||0,t._maxValue=e.maxValue||100,t._initValue=t.state.get("value")},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix;return'<div id="'+t+'" class="'+e.classes+'"><div id="'+t+'-handle" class="'+n+'slider-handle"></div></div>'},reset:function(){this.value(this._initValue).repaint()},postRender:function(){var i,r,o,a,s,l,c,u,t,n,d=this,f=0;a=d._minValue,s=d._maxValue,o=d.value(),"v"==d.settings.orientation?(c="screenY",u="top",t="height",n="h"):(c="screenX",u="left",t="width",n="w"),d._super(),d._dragHelper=new m(d._id,{handle:d._id+"-handle",start:function(e){i=e[c],r=parseInt(d.getEl("handle").style[u],10),l=(d.layoutRect()[n]||100)-h.getSize(d.getEl("handle"))[t],d.fire("dragstart",{value:o})},drag:function(e){var t=e[c]-i,n=d.getEl("handle");f=p(r+t,0,l),n.style[u]=f+"px",o=a+f/l*(s-a),d.value(o),d.tooltip().text(""+d.settings.previewFilter(o)).show().moveRel(n,"bc tc"),d.fire("drag",{value:o})},stop:function(){d.tooltip().hide(),d.fire("dragend",{value:o})}})},repaint:function(){this._super(),n(this,this.value())},bindStates:function(){var t=this;return t.state.on("change:value",function(e){n(t,e.value)}),t._super()}})}),e("tinymce/ui/Spacer",["tinymce/ui/Widget"],function(e){return e.extend({renderHtml:function(){var e=this;return e.classes.add("spacer"),e.canFocus=!1,'<div id="'+e._id+'" class="'+e.classes+'"></div>'}})}),e("tinymce/ui/SplitButton",["tinymce/ui/MenuButton","tinymce/ui/DomUtils","tinymce/dom/DomQuery"],function(e,o,a){return e.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var e,t,n=this,i=n.getEl(),r=n.layoutRect();return n._super(),e=i.firstChild,t=i.lastChild,a(e).css({width:r.w-o.getSize(t).width,height:r.h-2}),a(t).css({height:r.h-2}),n},activeMenu:function(e){var t=this;a(t.getEl().lastChild).toggleClass(t.classPrefix+"active",e)},renderHtml:function(){var e,t=this,n=t._id,i=t.classPrefix,r=t.state.get("icon"),o=t.state.get("text");return(e=t.settings.image)?(r="none","string"!=typeof e&&(e=window.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="",r=t.settings.icon?i+"ico "+i+"i-"+r:"",'<div id="'+n+'" class="'+t.classes+'" role="button" tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(r?'<i class="'+r+'"'+e+"></i>":"")+(o?(r?" ":"")+o:"")+'</button><button type="button" class="'+i+'open" hidefocus="1" tabindex="-1">'+(t._menuBtnText?(r?"\xa0":"")+t._menuBtnText:"")+' <i class="'+i+'caret"></i></button></div>'},postRender:function(){var e=this,n=e.settings.onclick;return e.on("click",function(e){var t=e.target;if(e.control==this)for(;t;){if(e.aria&&"down"!=e.aria.key||"BUTTON"==t.nodeName&&-1==t.className.indexOf("open"))return e.stopImmediatePropagation(),void(n&&n.call(this,e));t=t.parentNode}}),delete e.settings.onclick,e._super()}})}),e("tinymce/ui/StackLayout",["tinymce/ui/FlowLayout"],function(e){return e.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return!0}})}),e("tinymce/ui/TabPanel",["tinymce/ui/Panel","tinymce/dom/DomQuery","tinymce/ui/DomUtils"],function(e,t,o){return e.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(n){var e;this.activeTabId&&(e=this.getEl(this.activeTabId),t(e).removeClass(this.classPrefix+"active"),e.setAttribute("aria-selected","false")),this.activeTabId="t"+n,(e=this.getEl("t"+n)).setAttribute("aria-selected","true"),t(e).addClass(this.classPrefix+"active"),this.items()[n].show().fire("showtab"),this.reflow(),this.items().each(function(e,t){n!=t&&e.hide()})},renderHtml:function(){var i=this,e=i._layout,r="",o=i.classPrefix;return i.preRender(),e.preRender(i),i.items().each(function(e,t){var n=i._id+"-t"+t;e.aria("role","tabpanel"),e.aria("labelledby",n),r+='<div id="'+n+'" class="'+o+'tab" unselectable="on" role="tab" aria-controls="'+e._id+'" aria-selected="false" tabIndex="-1">'+i.encode(e.settings.title)+"</div>"}),'<div id="'+i._id+'" class="'+i.classes+'" hidefocus="1" tabindex="-1"><div id="'+i._id+'-head" class="'+o+'tabs" role="tablist">'+r+'</div><div id="'+i._id+'-body" class="'+i.bodyClasses+'">'+e.renderHtml(i)+"</div></div>"},postRender:function(){var i=this;i._super(),i.settings.activeTab=i.settings.activeTab||0,i.activateTab(i.settings.activeTab),this.on("click",function(e){var t=e.target.parentNode;if(e.target.parentNode.id==i._id+"-head")for(var n=t.childNodes.length;n--;)t.childNodes[n]==e.target&&i.activateTab(n)})},initLayoutRect:function(){var e,t,n,i=this;t=(t=o.getSize(i.getEl("head")).width)<0?0:t,n=0,i.items().each(function(e){t=Math.max(t,e.layoutRect().minW),n=Math.max(n,e.layoutRect().minH)}),i.items().each(function(e){e.settings.x=0,e.settings.y=0,e.settings.w=t,e.settings.h=n,e.layoutRect({x:0,y:0,w:t,h:n})});var r=o.getSize(i.getEl("head")).height;return i.settings.minWidth=t,i.settings.minHeight=n+r,(e=i._super()).deltaH+=r,e.innerH=e.h-e.deltaH,e}})}),e("tinymce/ui/TextBox",["tinymce/ui/Widget"],function(e){return e.extend({init:function(e){var n=this;n._super(e),n.classes.add("textbox"),e.multiline?n.classes.add("multiline"):(n.on("keydown",function(e){var t;13==e.keyCode&&(e.preventDefault(),n.parents().reverse().each(function(e){if(e.toJSON)return t=e,!1}),n.fire("submit",{data:t.toJSON()}))}),n.on("keyup",function(e){n.state.set("value",e.target.value)}))},repaint:function(){var e,t,n,i,r,o=this,a=0;e=o.getEl().style,t=o._layoutRect,r=o._lastRepaintRect||{};var s=document;return!o.settings.multiline&&s.all&&(!s.documentMode||s.documentMode<=8)&&(e.lineHeight=t.h-a+"px"),i=(n=o.borderBox).left+n.right+8,a=n.top+n.bottom+(o.settings.multiline?8:0),t.x!==r.x&&(e.left=t.x+"px",r.x=t.x),t.y!==r.y&&(e.top=t.y+"px",r.y=t.y),t.w!==r.w&&(e.width=t.w-i+"px",r.w=t.w),t.h!==r.h&&(e.height=t.h-a+"px",r.h=t.h),o._lastRepaintRect=r,o.fire("repaint",{},!1),o},renderHtml:function(){var e=this,t=e._id,n=e.settings,i=e.encode(e.state.get("value"),!1),r="";return"spellcheck"in n&&(r+=' spellcheck="'+n.spellcheck+'"'),n.maxLength&&(r+=' maxlength="'+n.maxLength+'"'),n.size&&(r+=' size="'+n.size+'"'),n.subtype&&(r+=' type="'+n.subtype+'"'),e.disabled()&&(r+=' disabled="disabled"'),n.multiline?'<textarea id="'+t+'" class="'+e.classes+'" '+(n.rows?' rows="'+n.rows+'"':"")+' hidefocus="1"'+r+">"+i+"</textarea>":'<input id="'+t+'" class="'+e.classes+'" value="'+i+'" hidefocus="1"'+r+" />"},value:function(e){return arguments.length?(this.state.set("value",e),this):(this.state.get("rendered")&&this.state.set("value",this.getEl().value),this.state.get("value"))},postRender:function(){var t=this;t._super(),t.$el.on("change",function(e){t.state.set("value",e.target.value),t.fire("change",e)})},bindStates:function(){var t=this;return t.state.on("change:value",function(e){t.getEl().value!=e.value&&(t.getEl().value=e.value)}),t.state.on("change:disabled",function(e){t.getEl().disabled=e.value}),t._super()},remove:function(){this.$el.off(),this._super()}})}),e("tinymce/ui/Throbber",["tinymce/dom/DomQuery","tinymce/ui/Control"],function(s,e){return function(n,i){var r,o=this,a=e.classPrefix;o.show=function(e,t){return o.hide(),r=!0,window.setTimeout(function(){r&&(s(n).append('<div class="'+a+"throbber"+(i?" "+a+"throbber-inline":"")+'"></div>'),t&&t())},e||0),o},o.hide=function(){var e=n.lastChild;return e&&-1!=e.className.indexOf("throbber")&&e.parentNode.removeChild(e),r=!1,o}}}),t(["tinymce/dom/EventUtils","tinymce/dom/Sizzle","tinymce/Env","tinymce/util/Tools","tinymce/dom/DomQuery","tinymce/html/Styles","tinymce/dom/TreeWalker","tinymce/html/Entities","tinymce/dom/DOMUtils","tinymce/dom/ScriptLoader","tinymce/AddOnManager","tinymce/dom/RangeUtils","tinymce/html/Node","tinymce/html/Schema","tinymce/html/SaxParser","tinymce/html/DomParser","tinymce/html/Writer","tinymce/html/Serializer","tinymce/dom/Serializer","tinymce/util/VK","tinymce/dom/ControlSelection","tinymce/dom/BookmarkManager","tinymce/dom/Selection","tinymce/Formatter","tinymce/UndoManager","tinymce/EditorCommands","tinymce/util/URI","tinymce/util/Class","tinymce/util/EventDispatcher","tinymce/util/Observable","tinymce/ui/Selector","tinymce/ui/Collection","tinymce/ui/ReflowQueue","tinymce/ui/Control","tinymce/ui/Factory","tinymce/ui/KeyboardNavigation","tinymce/ui/Container","tinymce/ui/DragHelper","tinymce/ui/Scrollable","tinymce/ui/Panel","tinymce/ui/Movable","tinymce/ui/Resizable","tinymce/ui/FloatPanel","tinymce/ui/Window","tinymce/ui/MessageBox","tinymce/WindowManager","tinymce/EditorObservable","tinymce/Shortcuts","tinymce/util/Promise","tinymce/Editor","tinymce/util/I18n","tinymce/FocusManager","tinymce/EditorManager","tinymce/util/XHR","tinymce/util/JSON","tinymce/util/JSONRequest","tinymce/util/JSONP","tinymce/util/LocalStorage","tinymce/Compat","tinymce/ui/Layout","tinymce/ui/AbsoluteLayout","tinymce/ui/Tooltip","tinymce/ui/Widget","tinymce/ui/Button","tinymce/ui/ButtonGroup","tinymce/ui/Checkbox","tinymce/ui/ComboBox","tinymce/ui/ColorBox","tinymce/ui/PanelButton","tinymce/ui/ColorButton","tinymce/util/Color","tinymce/ui/ColorPicker","tinymce/ui/Path","tinymce/ui/ElementPath","tinymce/ui/FormItem","tinymce/ui/Form","tinymce/ui/FieldSet","tinymce/ui/FilePicker","tinymce/ui/FitLayout","tinymce/ui/FlexLayout","tinymce/ui/FlowLayout","tinymce/ui/FormatControls","tinymce/ui/GridLayout","tinymce/ui/Iframe","tinymce/ui/Label","tinymce/ui/Toolbar","tinymce/ui/MenuBar","tinymce/ui/MenuButton","tinymce/ui/MenuItem","tinymce/ui/Menu","tinymce/ui/ListBox","tinymce/ui/Radio","tinymce/ui/Rect","tinymce/ui/ResizeHandle","tinymce/ui/Slider","tinymce/ui/Spacer","tinymce/ui/SplitButton","tinymce/ui/StackLayout","tinymce/ui/TabPanel","tinymce/ui/TextBox","tinymce/ui/Throbber"])}(this),function(d){function c(){function r(e){"remove"===e&&this.each(function(e,t){var n=l(t);n&&n.remove()}),this.find("span.mceEditor,div.mceEditor").each(function(e,t){var n=tinymce.get(t.id.replace(/_parent$/,""));n&&n.remove()})}function s(i){var e,t=this;if(null!=i)r.call(t),t.each(function(e,t){var n;(n=tinymce.get(t.id))&&n.setContent(i)});else if(0<t.length&&(e=tinymce.get(t[0].id)))return e.getContent()}function l(e){var t=null;return e&&e.id&&h.tinymce&&(t=tinymce.get(e.id)),t}function c(e){return!!(e&&e.length&&h.tinymce&&e.is(":tinymce"))}var u={};d.each(["text","html","val"],function(e,t){var o=u[t]=d.fn[t],a="text"===t;d.fn[t]=function(e){var t=this;if(!c(t))return o.apply(t,arguments);if(e!==f)return s.call(t.filter(":tinymce"),e),o.apply(t.not(":tinymce"),arguments),t;var i="",r=arguments;return(a?t:t.eq(0)).each(function(e,t){var n=l(t);i+=n?a?n.getContent().replace(/<(?:"[^"]*"|'[^']*'|[^'">])*>/g,""):n.getContent({save:!0}):o.apply(d(t),r)}),i}}),d.each(["append","prepend"],function(e,t){var n=u[t]=d.fn[t],r="prepend"===t;d.fn[t]=function(i){var e=this;return c(e)?i!==f?("string"==typeof i&&e.filter(":tinymce").each(function(e,t){var n=l(t);n&&n.setContent(r?i+n.getContent():n.getContent()+i)}),n.apply(e.not(":tinymce"),arguments),e):void 0:n.apply(e,arguments)}}),d.each(["remove","replaceWith","replaceAll","empty"],function(e,t){var n=u[t]=d.fn[t];d.fn[t]=function(){return r.call(this,t),n.apply(this,arguments)}}),u.attr=d.fn.attr,d.fn.attr=function(e,t){var n=this,i=arguments;if(!e||"value"!==e||!c(n))return u.attr.apply(n,i);if(t!==f)return s.call(n.filter(":tinymce"),t),u.attr.apply(n.not(":tinymce"),i),n;var r=n[0],o=l(r);return o?o.getContent({save:!0}):u.attr.apply(d(r),i)}}var f,a,u,m=[],h=window;d.fn.tinymce=function(s){function t(){var o=[],a=0;u||(c(),u=!0),l.each(function(e,t){var n,i=t.id,r=s.oninit;i||(t.id=i=tinymce.DOM.uniqueId()),tinymce.get(i)||(n=new tinymce.Editor(i,s,tinymce.EditorManager),o.push(n),n.on("init",function(){var e,t=r;l.css("visibility",""),r&&++a==o.length&&("string"==typeof t&&(e=-1===t.indexOf(".")?null:tinymce.resolve(t.replace(/\.\w+$/,"")),t=tinymce.resolve(t)),t.apply(e||tinymce,o))}))}),d.each(o,function(e,t){t.render()})}var e,n,i,l=this,r="";if(!l.length)return l;if(!s)return window.tinymce?tinymce.get(l[0].id):null;if(l.css("visibility","hidden"),h.tinymce||a||!(e=s.script_url))1===a?m.push(t):t();else{a=1,n=e.substring(0,e.lastIndexOf("/")),-1!=e.indexOf(".min")&&(r=".min"),h.tinymce=h.tinyMCEPreInit||{base:n,suffix:r},-1!=e.indexOf("gzip")&&(i=s.language||"en",e=e+(/\?/.test(e)?"&":"?")+"js=true&core=true&suffix="+escape(r)+"&themes="+escape(s.theme||"modern")+"&plugins="+escape(s.plugins||"")+"&languages="+(i||""),h.tinyMCE_GZ||(h.tinyMCE_GZ={start:function(){function n(e){tinymce.ScriptLoader.markDone(tinymce.baseURI.toAbsolute(e))}n("langs/"+i+".js"),n("themes/"+s.theme+"/theme"+r+".js"),n("themes/"+s.theme+"/langs/"+i+".js"),d.each(s.plugins.split(","),function(e,t){t&&(n("plugins/"+t+"/plugin"+r+".js"),n("plugins/"+t+"/langs/"+i+".js"))})},end:function(){}}));var o=document.createElement("script");o.type="text/javascript",o.onload=o.onreadystatechange=function(e){e=e||window.event,2===a||"load"!=e.type&&!/complete|loaded/.test(o.readyState)||(tinymce.dom.Event.domLoaded=1,a=2,s.script_loaded&&s.script_loaded(),t(),d.each(m,function(e,t){t()}))},o.src=e,document.body.appendChild(o)}return l},d.extend(d.expr[":"],{tinymce:function(e){var t;return!!(e.id&&"tinymce"in window&&((t=tinymce.get(e.id))&&t.editorManager===tinymce))}})}(jQuery);