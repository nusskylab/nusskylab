/*! Widget: resizable - updated 6/26/2015 (v2.22.2) */
!function(e,t){"use strict";var s=e.tablesorter||{};e.extend(s.css,{resizableContainer:"tablesorter-resizable-container",resizableHandle:"tablesorter-resizable-handle",resizableNoSelect:"tablesorter-disableSelection",resizableStorage:"tablesorter-resizable"}),e(function(){var t="<style>body."+s.css.resizableNoSelect+" { -ms-user-select: none; -moz-user-select: -moz-none;-khtml-user-select: none; -webkit-user-select: none; user-select: none; }."+s.css.resizableContainer+" { position: relative; height: 1px; }."+s.css.resizableHandle+" { position: absolute; display: inline-block; width: 8px;top: 1px; cursor: ew-resize; z-index: 3; user-select: none; -moz-user-select: none; }</style>";e(t).appendTo("body")}),s.resizable={init:function(t,a){if(!t.$table.hasClass("hasResizable")){t.$table.addClass("hasResizable");var i,r,l,o,n,d=t.$table,b=d.parent(),c=parseInt(d.css("margin-top"),10),z=a.resizable_vars={useStorage:s.storage&&a.resizable!==!1,$wrap:b,mouseXPosition:0,$target:null,$next:null,overflow:"auto"===b.css("overflow")||"scroll"===b.css("overflow")||"auto"===b.css("overflow-x")||"scroll"===b.css("overflow-x"),storedSizes:[]};for(s.resizableReset(t.table,!0),z.tableWidth=d.width(),z.fullWidth=Math.abs(b.width()-z.tableWidth)<20,z.useStorage&&z.overflow&&(s.storage(t.table,"tablesorter-table-original-css-width",z.tableWidth),n=s.storage(t.table,"tablesorter-table-resized-width")||"auto",s.resizable.setWidth(d,n,!0)),a.resizable_vars.storedSizes=o=(z.useStorage?s.storage(t.table,s.css.resizableStorage):[])||[],s.resizable.setWidths(t,a,o),s.resizable.updateStoredSizes(t,a),a.$resizable_container=e('<div class="'+s.css.resizableContainer+'">').css({top:c}).insertBefore(d),l=0;l<t.columns;l++)r=t.$headerIndexed[l],n=s.getColumnData(t.table,t.headers,l),i="false"===s.getData(r,n,"resizable"),i||e('<div class="'+s.css.resizableHandle+'">').appendTo(a.$resizable_container).attr({"data-column":l,unselectable:"on"}).data("header",r).bind("selectstart",!1);d.one("tablesorter-initialized",function(){s.resizable.setHandlePosition(t,a),s.resizable.bindings(this.config,this.config.widgetOptions)})}},updateStoredSizes:function(e,t){var s,a,i=e.columns,r=t.resizable_vars;for(r.storedSizes=[],s=0;i>s;s++)a=e.$headerIndexed[s],r.storedSizes[s]=a.is(":visible")?a.width():0},setWidth:function(e,t,s){e.css({width:t,"min-width":s?t:"","max-width":s?t:""})},setWidths:function(t,a,i){var r,l,o=a.resizable_vars,n=e(t.namespace+"_extra_headers"),d=t.$table.children("colgroup").children("col");if(i=i||o.storedSizes||[],i.length){for(r=0;r<t.columns;r++)s.resizable.setWidth(t.$headerIndexed[r],i[r],o.overflow),n.length&&(l=n.eq(r).add(d.eq(r)),s.resizable.setWidth(l,i[r],o.overflow));l=e(t.namespace+"_extra_table"),l.length&&!s.hasWidget(t.table,"scroller")&&s.resizable.setWidth(l,t.$table.outerWidth(),o.overflow)}},setHandlePosition:function(t,a){var i,r=s.hasWidget(t.table,"scroller"),l=t.$table.height(),o=a.$resizable_container.children(),n=Math.floor(o.width()/2);r&&(l=0,t.$table.closest("."+s.css.scrollerWrap).children().each(function(){var t=e(this);l+=t.filter('[style*="height"]').length?t.height():t.children("table").height()})),i=t.$table.position().left,o.each(function(){var s=e(this),r=parseInt(s.attr("data-column"),10),o=t.columns-1,d=s.data("header");d&&(d.is(":visible")?(o>r||r===o&&a.resizable_addLastColumn)&&s.css({display:"inline-block",height:l,left:d.position().left-i+d.outerWidth()-n}):s.hide())})},toggleTextSelection:function(t,a){var i=t.namespace+"tsresize";t.widgetOptions.resizable_vars.disabled=a,e("body").toggleClass(s.css.resizableNoSelect,a),a?e("body").attr("unselectable","on").bind("selectstart"+i,!1):e("body").removeAttr("unselectable").unbind("selectstart"+i)},bindings:function(a,i){var r=a.namespace+"tsresize";i.$resizable_container.children().bind("mousedown",function(t){var r,l=i.resizable_vars,o=e(a.namespace+"_extra_headers"),n=e(t.target).data("header");r=parseInt(n.attr("data-column"),10),l.$target=n=n.add(o.filter('[data-column="'+r+'"]')),l.target=r,l.$next=t.shiftKey||i.resizable_targetLast?n.parent().children().not(".resizable-false").filter(":last"):n.nextAll(":not(.resizable-false)").eq(0),r=parseInt(l.$next.attr("data-column"),10),l.$next=l.$next.add(o.filter('[data-column="'+r+'"]')),l.next=r,l.mouseXPosition=t.pageX,s.resizable.updateStoredSizes(a,i),s.resizable.toggleTextSelection(a,!0)}),e(document).bind("mousemove"+r,function(e){var t=i.resizable_vars;t.disabled&&0!==t.mouseXPosition&&t.$target&&(i.resizable_throttle?(clearTimeout(t.timer),t.timer=setTimeout(function(){s.resizable.mouseMove(a,i,e)},isNaN(i.resizable_throttle)?5:i.resizable_throttle)):s.resizable.mouseMove(a,i,e))}).bind("mouseup"+r,function(){i.resizable_vars.disabled&&(s.resizable.toggleTextSelection(a,!1),s.resizable.stopResize(a,i),s.resizable.setHandlePosition(a,i))}),e(t).bind("resize"+r+" resizeEnd"+r,function(){s.resizable.setHandlePosition(a,i)}),a.$table.bind("columnUpdate"+r,function(){s.resizable.setHandlePosition(a,i)}).find("thead:first").add(e(a.namespace+"_extra_table").find("thead:first")).bind("contextmenu"+r,function(){var e=0===i.resizable_vars.storedSizes.length;return s.resizableReset(a.table),s.resizable.setHandlePosition(a,i),i.resizable_vars.storedSizes=[],e})},mouseMove:function(t,a,i){if(0!==a.resizable_vars.mouseXPosition&&a.resizable_vars.$target){var r,l=0,o=a.resizable_vars,n=o.$next,d=o.storedSizes[o.target],b=i.pageX-o.mouseXPosition;if(o.overflow){if(d+b>0){for(o.storedSizes[o.target]+=b,s.resizable.setWidth(o.$target,o.storedSizes[o.target],!0),r=0;r<t.columns;r++)l+=o.storedSizes[r];s.resizable.setWidth(t.$table.add(e(t.namespace+"_extra_table")),l)}n.length||(o.$wrap[0].scrollLeft=t.$table.width())}else o.fullWidth?(o.storedSizes[o.target]+=b,o.storedSizes[o.next]-=b,s.resizable.setWidths(t,a)):(o.storedSizes[o.target]+=b,s.resizable.setWidths(t,a));o.mouseXPosition=i.pageX,t.$table.trigger("stickyHeadersUpdate")}},stopResize:function(e,t){var a=t.resizable_vars;s.resizable.updateStoredSizes(e,t),a.useStorage&&(s.storage(e.table,s.css.resizableStorage,a.storedSizes),s.storage(e.table,"tablesorter-table-resized-width",e.$table.width())),a.mouseXPosition=0,a.$target=a.$next=null,e.$table.trigger("stickyHeadersUpdate")}},s.addWidget({id:"resizable",priority:40,options:{resizable:!0,resizable_addLastColumn:!1,resizable_widths:[],resizable_throttle:!1,resizable_targetLast:!1,resizable_fullWidth:null},init:function(e,t,a,i){s.resizable.init(a,i)},remove:function(t,a,i,r){if(i.$resizable_container){var l=a.namespace+"tsresize";a.$table.add(e(a.namespace+"_extra_table")).removeClass("hasResizable").children("thead").unbind("contextmenu"+l),i.$resizable_container.remove(),s.resizable.toggleTextSelection(a,!1),s.resizableReset(t,r),e(document).unbind("mousemove"+l+" mouseup"+l)}}}),s.resizableReset=function(t,a){e(t).each(function(){var e,i,r=this.config,l=r&&r.widgetOptions,o=l.resizable_vars;if(t&&r&&r.$headerIndexed.length){for(o.overflow&&o.tableWidth&&(s.resizable.setWidth(r.$table,o.tableWidth,!0),o.useStorage&&s.storage(t,"tablesorter-table-resized-width","auto")),e=0;e<r.columns;e++)i=r.$headerIndexed[e],l.resizable_widths&&l.resizable_widths[e]?s.resizable.setWidth(i,l.resizable_widths[e],o.overflow):i.hasClass("resizable-false")||s.resizable.setWidth(i,"",o.overflow);r.$table.trigger("stickyHeadersUpdate"),s.storage&&!a&&s.storage(this,s.css.resizableStorage,{})}})}}(jQuery,window);