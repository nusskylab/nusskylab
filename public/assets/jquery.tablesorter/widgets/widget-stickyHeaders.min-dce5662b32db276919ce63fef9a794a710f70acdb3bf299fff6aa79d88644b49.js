/*! Widget: stickyHeaders - updated 3/26/2015 (v2.21.3) */
!function(e,s){"use strict";var t=e.tablesorter||{};e.extend(t.css,{sticky:"tablesorter-stickyHeader",stickyVis:"tablesorter-sticky-visible",stickyHide:"tablesorter-sticky-hidden",stickyWrap:"tablesorter-sticky-wrapper"}),t.addHeaderResizeEvent=function(s,t,i){if(s=e(s)[0],s.config){var r={timer:250},a=e.extend({},r,i),d=s.config,l=d.widgetOptions,c=function(e){var s,t,i,r,a,c,n=d.$headers.length;for(l.resize_flag=!0,t=[],s=0;n>s;s++)i=d.$headers.eq(s),r=i.data("savedSizes")||[0,0],a=i[0].offsetWidth,c=i[0].offsetHeight,(a!==r[0]||c!==r[1])&&(i.data("savedSizes",[a,c]),t.push(i[0]));t.length&&e!==!1&&d.$table.trigger("resize",[t]),l.resize_flag=!1};return c(!1),clearInterval(l.resize_timer),t?(l.resize_flag=!1,!1):void(l.resize_timer=setInterval(function(){l.resize_flag||c()},a.timer))}},t.addWidget({id:"stickyHeaders",priority:60,options:{stickyHeaders:"",stickyHeaders_attachTo:null,stickyHeaders_xScroll:null,stickyHeaders_yScroll:null,stickyHeaders_offset:0,stickyHeaders_filteredToTop:!0,stickyHeaders_cloneId:"-sticky",stickyHeaders_addResizeEvent:!0,stickyHeaders_includeCaption:!0,stickyHeaders_zIndex:2},format:function(i,r,a){if(!(r.$table.hasClass("hasStickyHeaders")||e.inArray("filter",r.widgets)>=0&&!r.$table.hasClass("hasFilters"))){var d,l,c,n,o=r.$table,f=e(a.stickyHeaders_attachTo),h=r.namespace+"stickyheaders ",p=e(a.stickyHeaders_yScroll||a.stickyHeaders_attachTo||s),y=e(a.stickyHeaders_xScroll||a.stickyHeaders_attachTo||s),k=o.children("thead:first"),g=k.children("tr").not(".sticky-false").children(),H=o.children("tfoot"),b=isNaN(a.stickyHeaders_offset)?e(a.stickyHeaders_offset):"",v=b.length?b.height()||0:parseInt(a.stickyHeaders_offset,10)||0,u=o.parent().closest("."+t.css.table).hasClass("hasStickyHeaders")?o.parent().closest("table.tablesorter")[0].config.widgetOptions.$sticky.parent():[],_=u.length?u.height():0,m=a.$sticky=o.clone().addClass("containsStickyHeaders "+t.css.sticky+" "+a.stickyHeaders+" "+r.namespace.slice(1)+"_extra_table").wrap('<div class="'+t.css.stickyWrap+'">'),z=m.parent().addClass(t.css.stickyHide).css({position:f.length?"absolute":"fixed",padding:parseInt(m.parent().parent().css("padding-left"),10),top:v+_,left:0,visibility:"hidden",zIndex:a.stickyHeaders_zIndex||2}),w=m.children("thead:first"),C="",S=0,x=function(e,t){var i,r,a,d,l,c=e.filter(":visible"),n=c.length;for(i=0;n>i;i++)d=t.filter(":visible").eq(i),l=c.eq(i),"border-box"===l.css("box-sizing")?r=l.outerWidth():"collapse"===d.css("border-collapse")?s.getComputedStyle?r=parseFloat(s.getComputedStyle(l[0],null).width):(a=parseFloat(l.css("border-width")),r=l.outerWidth()-parseFloat(l.css("padding-left"))-parseFloat(l.css("padding-right"))-a):r=l.width(),d.css({width:r,"min-width":r,"max-width":r})},$=function(){v=b.length?b.height()||0:parseInt(a.stickyHeaders_offset,10)||0,S=0,z.css({left:f.length?parseInt(f.css("padding-left"),10)||0:o.offset().left-parseInt(o.css("margin-left"),10)-y.scrollLeft()-S,width:o.outerWidth()}),x(o,m),x(g,n)},I=function(s){if(o.is(":visible")){_=u.length?u.offset().top-p.scrollTop()+u.height():0;var i=o.offset(),r=e.isWindow(p[0]),a=e.isWindow(y[0]),d=(f.length?r?p.scrollTop():p.offset().top:p.scrollTop())+v+_,l=o.height()-(z.height()+(H.height()||0)),c=d>i.top&&d<i.top+l?"visible":"hidden",n={visibility:c};f.length&&(n.top=r?d-f.offset().top:f.scrollTop()),a&&(n.left=o.offset().left-parseInt(o.css("margin-left"),10)-y.scrollLeft()-S),u.length&&(n.top=(n.top||0)+v+_),z.removeClass(t.css.stickyVis+" "+t.css.stickyHide).addClass("visible"===c?t.css.stickyVis:t.css.stickyHide).css(n),(c!==C||s)&&($(),C=c)}};if(f.length&&!f.css("position")&&f.css("position","relative"),m.attr("id")&&(m[0].id+=a.stickyHeaders_cloneId),m.find("thead:gt(0), tr.sticky-false").hide(),m.find("tbody, tfoot").remove(),m.find("caption").toggle(a.stickyHeaders_includeCaption),n=w.children().children(),m.css({height:0,width:0,margin:0}),n.find("."+t.css.resizer).remove(),o.addClass("hasStickyHeaders").bind("pagerComplete"+h,function(){$()}),t.bindEvents(i,w.children().children("."+t.css.header)),o.after(z),r.onRenderHeader)for(c=w.children("tr").children(),l=c.length,d=0;l>d;d++)r.onRenderHeader.apply(c.eq(d),[d,r,m]);y.add(p).unbind("scroll resize ".split(" ").join(h).replace(/\s+/g," ")).bind("scroll resize ".split(" ").join(h),function(e){I("resize"===e.type)}),r.$table.unbind("stickyHeadersUpdate"+h).bind("stickyHeadersUpdate"+h,function(){I(!0)}),a.stickyHeaders_addResizeEvent&&t.addHeaderResizeEvent(i),o.hasClass("hasFilters")&&a.filter_columnFilters&&(o.bind("filterEnd"+h,function(){var i=e(document.activeElement).closest("td"),d=i.parent().children().index(i);z.hasClass(t.css.stickyVis)&&a.stickyHeaders_filteredToTop&&(s.scrollTo(0,o.position().top),d>=0&&r.$filters&&r.$filters.eq(d).find("a, select, input").filter(":visible").focus())}),t.filter.bindSearch(o,n.find("."+t.css.filter)),a.filter_hideFilters&&t.filter.hideFilters(m,r)),o.trigger("stickyHeadersInit")}},remove:function(i,r,a){var d=r.namespace+"stickyheaders ";r.$table.removeClass("hasStickyHeaders").unbind("pagerComplete filterEnd stickyHeadersUpdate ".split(" ").join(d).replace(/\s+/g," ")).next("."+t.css.stickyWrap).remove(),a.$sticky&&a.$sticky.length&&a.$sticky.remove(),e(s).add(a.stickyHeaders_xScroll).add(a.stickyHeaders_yScroll).add(a.stickyHeaders_attachTo).unbind("scroll resize ".split(" ").join(d).replace(/\s+/g," ")),t.addHeaderResizeEvent(i,!1)}})}(jQuery,window);